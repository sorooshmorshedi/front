{"version":3,"sources":["webpack:///./src/views/panel/buySaleReport/BuySaleReport.vue?26b2","webpack:///src/views/panel/buySaleReport/BuySaleReport.vue","webpack:///./src/views/panel/buySaleReport/BuySaleReport.vue?27bc","webpack:///./src/views/panel/buySaleReport/BuySaleReport.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","layout","title","attrs","model","value","callback","$$v","ware","expression","pricingType","name","_e","filters","ref","headers","url","on","$event","staticRenderFns","props","wareId","type","required","mixins","wareApi","data","factor__type__in","created","getData","methods","Promise","all","getWares","then","init","log","setLayout","setDefaultFilters","wares","filter","join","selectWare","id","watch","form","handler","deep","component","VCard","VCardText","VCardTitle","VCol","VRow"],"mappings":"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","file":"js/chunk-2d226670.8cb75e41.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_vm._v(\"گزارش \"+_vm._s(_vm.layout.title))]),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('ware-select',{attrs:{\"label\":\"کالا\"},model:{value:(_vm.ware),callback:function ($$v) {_vm.ware=$$v},expression:\"ware\"}})],1),(_vm.ware && _vm.ware.pricingType)?_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_vm._v(\" نحوه محاسبه: \"),_c('span',[_vm._v(_vm._s(_vm.ware.pricingType.name))])]):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.filters.ware)?_c('m-datatable',{ref:\"datatable\",attrs:{\"headers\":_vm.headers,\"api-url\":_vm.url,\"filters\":_vm.filters,\"searchable\":false},on:{\"update:filters\":function($event){_vm.filters=$event}}}):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card>\r\n    <v-card-title>گزارش {{ layout.title }}</v-card-title>\r\n\r\n    <v-card-text>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"8\">\r\n          <ware-select label=\"کالا\" v-model=\"ware\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"4\" v-if=\"ware && ware.pricingType\">\r\n          نحوه محاسبه:\r\n          <span>{{ ware.pricingType.name }}</span>\r\n        </v-col>\r\n        <v-col cols=\"12\">\r\n          <m-datatable\r\n            v-if=\"filters.ware\"\r\n            :headers=\"headers\"\r\n            :api-url=\"url\"\r\n            :filters.sync=\"filters\"\r\n            :searchable=\"false\"\r\n            ref=\"datatable\"\r\n          />\r\n        </v-col>\r\n      </v-row>\r\n    </v-card-text>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport wareApiMixin from \"@/mixin/wareApi\";\r\nexport default {\r\n  props: {\r\n    wareId: {},\r\n    type: {\r\n      required: true,\r\n    },\r\n  },\r\n  mixins: [wareApiMixin],\r\n  data() {\r\n    return {\r\n      url: \"reports/buySale\",\r\n      ware: null,\r\n      filters: {\r\n        factor__type__in: \"\",\r\n        ware: \"\",\r\n      },\r\n      layout: {\r\n        title: \"\",\r\n      },\r\n      headers: [\r\n        {\r\n          text: \"نوع فاکتور\",\r\n          value: \"factor.type\",\r\n          items: [\r\n            {\r\n              text: \"موجودی اول دوره\",\r\n              value: \"fpi\",\r\n            },\r\n            {\r\n              text: \"فروش\",\r\n              value: \"sale\",\r\n            },\r\n            {\r\n              text: \"برگشت از فروش\",\r\n              value: \"backFromSale\",\r\n            },\r\n            {\r\n              text: \"خرید\",\r\n              value: \"buy\",\r\n            },\r\n            {\r\n              text: \"برگشت از خرید\",\r\n              value: \"backFromBuy\",\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          text: \"تاریخ\",\r\n          value: \"factor.date\",\r\n          type: \"date\",\r\n        },\r\n        {\r\n          text: \"شماره عطف\",\r\n          value: \"factor.id\",\r\n        },\r\n        {\r\n          text: \"شماره فاکتور\",\r\n          value: \"factor.code\",\r\n        },\r\n        {\r\n          text: \"خریدار/فروشنده\",\r\n          value: \"factor.account.name\",\r\n          type: \"text\",\r\n        },\r\n        {\r\n          text: \"انبار\",\r\n          value: \"warehouse.name\",\r\n          type: \"text\",\r\n        },\r\n        {\r\n          text: \"تعداد\",\r\n          value: \"count\",\r\n          type: \"numeric\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          text: \"فی\",\r\n          value: \"fee\",\r\n          type: \"numeric\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          text: \"مبلغ\",\r\n          value: \"value\",\r\n          type: \"numeric\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          text: \"تخفیف\",\r\n          value: \"discount\",\r\n          type: \"numeric\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          text: \"مبلغ کل\",\r\n          value: \"total_value\",\r\n          type: \"numeric\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          text: \"شرح فاکتور\",\r\n          value: \"factor.explanation\",\r\n          type: \"text\",\r\n        },\r\n        {\r\n          text: \"توضیحات\",\r\n          value: \"explanation\",\r\n          type: \"text\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData() {\r\n      Promise.all([this.getWares()]).then((data) => {\r\n        this.init();\r\n      });\r\n    },\r\n    init() {\r\n      this.log(\"init list\");\r\n      this.setLayout();\r\n      this.setDefaultFilters();\r\n\r\n      if (this.wareId) {\r\n        this.ware = this.wares.filter((o) => o.id == this.wareId)[0];\r\n      }\r\n    },\r\n    setLayout() {\r\n      if (this.type == \"sale\") this.layout.title = \"فروش\";\r\n      else this.layout.title = \"خرید\";\r\n    },\r\n    setDefaultFilters() {\r\n      if (this.type == \"sale\") {\r\n        this.filters[\"factor__type__in\"] = [\"sale\", \"backFromSale\"].join(\",\");\r\n      } else {\r\n        this.filters[\"factor__type__in\"] = [\"buy\", \"backFromBuy\"].join(\",\");\r\n      }\r\n    },\r\n    selectWare() {\r\n      this.filters.ware = this.ware.id;\r\n    },\r\n  },\r\n  watch: {\r\n    form() {\r\n      this.init();\r\n    },\r\n    type() {\r\n      this.init();\r\n    },\r\n    ware: {\r\n      handler() {\r\n        this.selectWare();\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuySaleReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuySaleReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuySaleReport.vue?vue&type=template&id=67724fa3&scoped=true&\"\nimport script from \"./BuySaleReport.vue?vue&type=script&lang=js&\"\nexport * from \"./BuySaleReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67724fa3\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VCol,VRow})\n"],"sourceRoot":""}