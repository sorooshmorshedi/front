(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04369040"],{"23a6":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[t._v("گزارش بارگیری های شرکت نفت")]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"2",md:"4"}},[i("v-autocomplete",{attrs:{label:"ماه",items:t.months,"return-object":!1,clearable:""},on:{change:function(e){return t.filters.oilCompanyLading__month=e}},model:{value:t.filters.month,callback:function(e){t.$set(t.filters,"month",e)},expression:"filters.month"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-autocomplete",{attrs:{clearable:"","return-object":!1,label:"ماشین",items:t.$store.state.cars,"item-text":"car_number_str","item-value":"id"},on:{change:function(e){return t.filters.oilCompanyLading__driving__car=e}},model:{value:t.filters.driving__car,callback:function(e){t.$set(t.filters,"driving__car",e)},expression:"filters.driving__car"}})],1),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-autocomplete",{attrs:{clearable:"","return-object":!1,label:"راننده",items:t.$store.state.drivers,"item-text":"name","item-value":"id"},on:{change:function(e){return t.filters.oilCompanyLading__driving__car=e}},model:{value:t.filters.driving__driver,callback:function(e){t.$set(t.filters,"driving__driver",e)},expression:"filters.driving__driver"}})],1),i("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[i("m-datatable",{attrs:{headers:t.headers,"api-url":t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"OilCompanyLading",params:{id:e.id}})}}})],1)],1)],1)],1)},s=[],r=(i("99af"),i("2909")),n=i("f51a"),l={name:"Form",mixins:[n["a"]],props:{detailed:{default:!1}},data:function(){return{filters:{driving__driver:null,oilCompanyLading__driving__driver:null,driving__car:null,oilCompanyLading__driving__car:null,month:null,oilCompanyLading__month:null}}},computed:{url:function(){return this.detailed?"dashtbashi/report/oilCompanyLadings/detailed":"dashtbashi/report/oilCompanyLadings/"},headers:function(){var t=[{text:"عطف",value:"id"},{text:"تاریخ سیاهه",value:"date",show:!this.detailed},{text:"تاریخ بارگیری",value:"date",show:this.detailed},{text:"تاریخ گرفتن خروجی",value:"export_date",show:!this.detailed},{text:"مبلغ ناخالص",value:"gross_price",type:"numeric"},{text:"حق بیمه",value:"insurance_price",type:"numeric"},{text:"مبلغ کل ارزش افزوده",value:"complication_price",type:"numeric"},{text:"مبلغ خالص",value:"total_value",type:"numeric"},{text:"کمیسیون شرکت",value:"company_commission",type:"numeric"},{text:"درآمد ماشین",value:"car_income",type:"numeric"},{text:"وزن",value:"weight",type:"numeric"},{text:"ماه",value:"month",items:this.months,show:!this.detailed},{text:"حمل کننده",value:"driving.title",sortable:!1,filterable:!1}];return this.detailed&&(t=[].concat(Object(r["a"])(t),[{text:"ماه",value:"month",items:this.months},{text:"مبدا",value:"origin.name"},{text:"مقصد",value:"destination.name"}])),t}},created:function(){this.getCars(),this.getDrivers()}},o=l,c=i("2877"),u=i("6544"),d=i.n(u),v=i("c6a6"),m=i("b0af"),h=i("99d9"),f=i("62ad"),p=i("0fd9"),g=Object(c["a"])(o,a,s,!1,null,"86fec9c6",null);e["default"]=g.exports;d()(g,{VAutocomplete:v["a"],VCard:m["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:f["a"],VRow:p["a"]})},f51a:function(t,e,i){"use strict";i("d81d");e["a"]={data:function(){return{months:[{text:"فروردین",value:1},{text:"اردیبهشت",value:2},{text:"خرداد",value:3},{text:"تیر",value:4},{text:"مرداد",value:5},{text:"شهریور",value:6},{text:"مهر",value:7},{text:"آبان",value:8},{text:"آذر",value:9},{text:"دی",value:10},{text:"بهمن",value:11},{text:"اسفند",value:12}],tipPayers:[{title:"شرکت",id:"cmp"},{title:"پیمانکار",id:"cnt"}],remittancePaymentMethods:[{text:"کمیسیون و کرایه به شرکت",value:"tc"},{text:"کمیسیون به شرکت و کرایه به راننده",value:"tcd"},{text:"کمیسیون و کرایه با شرکت",value:"cp"}],receiveTypes:[{text:"نسیه",value:"cr"},{text:"نقدی",value:"cs"},{text:"کارت خوان",value:"p"}]}},methods:{getDrivers:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||!this.$store.state.drivers.length)return this.request({url:this.endpoint("dashtbashi/drivers/"),method:"get",success:function(t){e.$store.commit("setDrivers",t),i&&i(t)}})},getCars:function(t){var e=this;if(t||!this.$store.state.cars.length)return this.request({url:this.endpoint("dashtbashi/cars/"),method:"get",success:function(t){e.$store.commit("setCars",t)}})},getDrivings:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||!this.$store.state.drivings.length)return this.request({url:this.endpoint("dashtbashi/drivings/"),method:"get",success:function(t){e.$store.commit("setDrivings",t),i&&i(t)}});i&&i(this.$store.state.drivings)},getAssociations:function(t){var e=this;if(t||!this.$store.state.associations.length)return this.request({url:this.endpoint("dashtbashi/associations/"),method:"get",success:function(t){e.$store.commit("setAssociations",t)}})},getRemittances:function(t){var e=this;this.request({url:this.endpoint("dashtbashi/remittances/?limit=10&offset=0"),method:"get",params:{code__icontains:t},success:function(t){e.remittances=t["results"].map((function(t){return t.code=String(t.code),t}))}})}}}}}]);
//# sourceMappingURL=chunk-04369040.f9b886f5.js.map