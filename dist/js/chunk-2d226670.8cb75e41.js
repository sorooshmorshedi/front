(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d226670"],{e906:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("گزارش "+t._s(t.layout.title))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("ware-select",{attrs:{label:"کالا"},model:{value:t.ware,callback:function(e){t.ware=e},expression:"ware"}})],1),t.ware&&t.ware.pricingType?a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(" نحوه محاسبه: "),a("span",[t._v(t._s(t.ware.pricingType.name))])]):t._e(),a("v-col",{attrs:{cols:"12"}},[t.filters.ware?a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,"api-url":t.url,filters:t.filters,searchable:!1},on:{"update:filters":function(e){t.filters=e}}}):t._e()],1)],1)],1)],1)},i=[],l=(a("4de4"),a("a15b"),a("d3b7"),a("3ca3"),a("ddb0"),a("a6c2")),s={props:{wareId:{},type:{required:!0}},mixins:[l["a"]],data:function(){return{url:"reports/buySale",ware:null,filters:{factor__type__in:"",ware:""},layout:{title:""},headers:[{text:"نوع فاکتور",value:"factor.type",items:[{text:"موجودی اول دوره",value:"fpi"},{text:"فروش",value:"sale"},{text:"برگشت از فروش",value:"backFromSale"},{text:"خرید",value:"buy"},{text:"برگشت از خرید",value:"backFromBuy"}]},{text:"تاریخ",value:"factor.date",type:"date"},{text:"شماره عطف",value:"factor.id"},{text:"شماره فاکتور",value:"factor.code"},{text:"خریدار/فروشنده",value:"factor.account.name",type:"text"},{text:"انبار",value:"warehouse.name",type:"text"},{text:"تعداد",value:"count",type:"numeric",sortable:!1},{text:"فی",value:"fee",type:"numeric",sortable:!1},{text:"مبلغ",value:"value",type:"numeric",sortable:!1},{text:"تخفیف",value:"discount",type:"numeric",sortable:!1},{text:"مبلغ کل",value:"total_value",type:"numeric",sortable:!1},{text:"شرح فاکتور",value:"factor.explanation",type:"text"},{text:"توضیحات",value:"explanation",type:"text"}]}},created:function(){this.getData()},methods:{getData:function(){var t=this;Promise.all([this.getWares()]).then((function(e){t.init()}))},init:function(){var t=this;this.log("init list"),this.setLayout(),this.setDefaultFilters(),this.wareId&&(this.ware=this.wares.filter((function(e){return e.id==t.wareId}))[0])},setLayout:function(){"sale"==this.type?this.layout.title="فروش":this.layout.title="خرید"},setDefaultFilters:function(){"sale"==this.type?this.filters["factor__type__in"]=["sale","backFromSale"].join(","):this.filters["factor__type__in"]=["buy","backFromBuy"].join(",")},selectWare:function(){this.filters.ware=this.ware.id}},watch:{form:function(){this.init()},type:function(){this.init()},ware:{handler:function(){this.selectWare()},deep:!0}}},n=s,u=a("2877"),o=a("6544"),c=a.n(o),f=a("b0af"),d=a("99d9"),p=a("62ad"),v=a("0fd9"),h=Object(u["a"])(n,r,i,!1,null,"67724fa3",null);e["default"]=h.exports;c()(h,{VCard:f["a"],VCardText:d["b"],VCardTitle:d["c"],VCol:p["a"],VRow:v["a"]})}}]);
//# sourceMappingURL=chunk-2d226670.8cb75e41.js.map