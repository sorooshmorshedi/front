(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);m&&m(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var r=a[s];0!==n[r]&&(i=!1)}i&&(o.splice(e--,1),t=l(l.s=a[0]))}return t}var i={},s={app:0},n={app:0},o=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-29603190":"31bc3778","chunk-2d0ab88a":"2f480369","chunk-2d0abca9":"137f996a","chunk-2d0b59d9":"e2503482","chunk-2d0b61df":"7426b04a","chunk-2d0b8eb5":"e9454388","chunk-2d0b9b68":"4f0572e0","chunk-2d0ba508":"4b385bd1","chunk-2d0c0634":"88dbf050","chunk-2d0c7325":"38f8ad81","chunk-2d0c791f":"fef2c98b","chunk-2d0c86a5":"37cdd318","chunk-2d0cc7b9":"e05ed996","chunk-2d0db243":"26e07701","chunk-2d0e4aed":"8f75971f","chunk-2d0e5013":"e465865e","chunk-2d0f0a4d":"424ab619","chunk-2d207d15":"1e1bb60f","chunk-2d208e3a":"d555cad2","chunk-2d216214":"4163cd2f","chunk-2d216257":"34ca82f2","chunk-2d21d080":"af39f29c","chunk-2d21f2c6":"3f04b8fe","chunk-2d221875":"281c0eba","chunk-2d221d85":"8aa4846d","chunk-2d226005":"4dabb689","chunk-2d22c2e4":"b017ed60","chunk-2d22cc16":"7ab0954a","chunk-2d237c67":"2896e2e3","chunk-2e1cbbb4":"d3a17cbd"}[t]+".js"}function l(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"chunk-2e1cbbb4":1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var i="css/"+({}[t]||t)+"."+{"chunk-29603190":"31d6cfe0","chunk-2d0ab88a":"31d6cfe0","chunk-2d0abca9":"31d6cfe0","chunk-2d0b59d9":"31d6cfe0","chunk-2d0b61df":"31d6cfe0","chunk-2d0b8eb5":"31d6cfe0","chunk-2d0b9b68":"31d6cfe0","chunk-2d0ba508":"31d6cfe0","chunk-2d0c0634":"31d6cfe0","chunk-2d0c7325":"31d6cfe0","chunk-2d0c791f":"31d6cfe0","chunk-2d0c86a5":"31d6cfe0","chunk-2d0cc7b9":"31d6cfe0","chunk-2d0db243":"31d6cfe0","chunk-2d0e4aed":"31d6cfe0","chunk-2d0e5013":"31d6cfe0","chunk-2d0f0a4d":"31d6cfe0","chunk-2d207d15":"31d6cfe0","chunk-2d208e3a":"31d6cfe0","chunk-2d216214":"31d6cfe0","chunk-2d216257":"31d6cfe0","chunk-2d21d080":"31d6cfe0","chunk-2d21f2c6":"31d6cfe0","chunk-2d221875":"31d6cfe0","chunk-2d221d85":"31d6cfe0","chunk-2d226005":"31d6cfe0","chunk-2d22c2e4":"31d6cfe0","chunk-2d22cc16":"31d6cfe0","chunk-2d237c67":"31d6cfe0","chunk-2e1cbbb4":"a52511b6"}[t]+".css",n=l.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var c=o[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===n))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===i||u===n)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var i=e&&e.target&&e.target.src||n,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete s[t],m.parentNode.removeChild(m),a(o)},m.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){s[t]=0})));var i=n[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,a){i=n[t]=[e,a]}));e.push(i[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(m);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",d.name="ChunkLoadError",d.type=i,d.request=s,a[1](d)}n[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=i,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)l.d(a,i,function(e){return t[e]}.bind(null,i));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var m=u;o.push([1,"chunk-vendors"]),a()})({0:function(t,e){},"0017":function(t,e,a){"use strict";a("0b9b")},"005e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{staticClass:"mt-10 mr-5 ml-5",attrs:{color:"indigo",dark:""}},[a("v-toolbar-title",[t._v("فرم پرداخت حقوق و دستمزد")]),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("span",{staticClass:"subheading mr-4 ml-4"},[t._v("کارگاه : "+t._s(t.listOfPay.workshop_name))]),a("v-divider",{staticClass:"mr-2 ml-2",attrs:{vertical:""}}),a("span",{staticClass:"subheading mr-4 "},[t._v("سال : "+t._s(t.listOfPay.year))]),a("v-divider",{staticClass:"mr-4",attrs:{vertical:""}}),a("span",{staticClass:"subheading mr-2 ml-2 "},[t._v(" ماه : "+t._s(t.listOfPay.month_name))]),a("v-spacer"),t.listOfPay.pay_done?a("span",[t._v(" فرم پرداخت حقوق و دستمزد : ")]):t._e(),t.listOfPay.pay_done?a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printReport("html")}}},[a("v-icon",[t._v("fa-print")])],1):t._e(),t.listOfPay.pay_done?a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 ml-3 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printReport("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1):t._e(),a("v-spacer"),!t.listOfPay.bank_pay_date&&t.listOfPay.pay_done?a("span",[t._v("خروجی بانک جهت پرداخت :")]):t._e(),!t.listOfPay.bank_pay_date&&t.listOfPay.pay_done?a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printBankReport("html")}}},[a("v-icon",[t._v("fa-print")])],1):t._e(),!t.listOfPay.bank_pay_date&&t.listOfPay.pay_done?a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 ml-3 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printBankReport("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1):t._e()],1),t.listOfPay.pay_done?t._e():a("v-card-text",[a("v-card-actions",{staticClass:"justify-center"}),a("v-simple-table",{staticClass:"mt-10 ",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"style: blue lighten-4 pa-5"},[a("th",{staticClass:"text-center"},[t._v(" نام و نام خانوادگی ")]),a("th",{staticClass:"text-center"},[t._v(" حقوق معوق ")]),a("th",{staticClass:"text-center"},[t._v(" حقوق قابل پرداخت ماه جاری ")]),a("th",{staticClass:"text-center"},[t._v(" جمع حقوق قابل پرداخت تا ماه ")]),a("th",{staticClass:"text-center"},[t._v(" مبلغ ارسالی به بانک جهت پرداخت ")])]),a("tbody",t._l(t.listOfPayItem,(function(e){return a("tr",[a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.personnel_name)+" ")]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.unpaid_of_year)+" ")]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.get_unpaid)+" ")]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.get_total_unpaid)+" ")]),a("td",{staticClass:"text-center"},[a("v-text-field",{staticClass:"currency-input",on:{change:function(a){return t.updateUnpaid(e.id)}},model:{value:t.items[e.id]["pay_amount"],callback:function(a){t.$set(t.items[e.id],"pay_amount",a)},expression:"items[item.id]['pay_amount'] "}})],1)])})),0)]},proxy:!0}],null,!1,1990573915)}),a("v-divider",{staticClass:"mt-7",attrs:{vertical:""}}),a("v-card-actions",{staticClass:"justify-end"},[a("date",{staticClass:"ml-5 mr-5",attrs:{label:"تاریخ ایجاد ",default:!0,disabled:"true"},model:{value:t.create_date,callback:function(e){t.create_date=e},expression:"create_date"}}),a("v-btn",{staticClass:"white--text pl-4 pr-4 ml-8",attrs:{color:"green darken-2",large:""},on:{click:function(e){return t.pay()}}},[t._v(" ثبت ")])],1)],1),t.listOfPay.pay_done?a("v-card-text",[a("v-card-actions",{staticClass:"justify-center"}),a("v-simple-table",{staticClass:"mt-10 ",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"style: blue lighten-4 pa-5"},[a("th",{staticClass:"text-center"},[t._v(" نام و نام خانوادگی ")]),a("th",{staticClass:"text-center"},[t._v(" حقوق معوق ")]),a("th",{staticClass:"text-center"},[t._v(" حقوق قابل پرداخت ماه جاری ")]),a("th",{staticClass:"text-center"},[t._v(" جمع حقوق قابل پرداخت تا ماه ")]),a("th",{staticClass:"text-center"},[t._v(" مبلغ حقوق پرداخت ")]),a("th",{staticClass:"text-center"},[t._v(" حقوق پرداخت نشده ")])]),a("tbody",t._l(t.listOfPayItem,(function(e){return a("tr",[a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.personnel_name)+" ")]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.unpaid_of_year)+" ")]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.payable_amout)+" ")]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.get_total_unpaid)+" ")]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.paid_amount)+" ")]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.get_unpaid)+" ")])])})),0)]},proxy:!0}],null,!1,3903895345)}),a("v-divider",{staticClass:"mt-7",attrs:{vertical:""}}),a("v-card-actions",{staticClass:"justify-end"},[a("date",{staticClass:"ml-5 mr-5",attrs:{label:"تاریخ ایجاد ",default:!0,disabled:"true"},model:{value:t.create_date,callback:function(e){t.create_date=e},expression:"create_date"}}),a("date",{staticClass:"ml-5 mr-5",attrs:{disabled:t.listOfPay.bank_pay_date,label:"تاریخ پرداخت بانک ",default:!1},model:{value:t.bank_pay_date,callback:function(e){t.bank_pay_date=e},expression:"bank_pay_date"}}),t.listOfPay.bank_pay_date?t._e():a("v-btn",{staticClass:"white--text pl-4 pr-4 ml-8",attrs:{color:"orange darken-2",large:""},on:{click:function(e){return t.addBankDate()}}},[t._v(" ثبت تاریخ ")])],1),a("m-datatable",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"exportTable",attrs:{headers:t.headers,apiUrl:t.url,exportUrl:t.export_url,filters:t.export_filter},on:{"update:filters":function(e){t.export_filter=e}}})],1):t._e()],1)},s=[],n={name:"PaymentItemList",props:{},data:function(){return{items:[],create_date:null,bank_pay_date:null,url:"payroll/listOfPayItem/less",exportUrl:"payroll/payroll",export_url:"payroll/payroll",filters:{list_of_pay:this.$route.params.id},export_filter:{id:this.$route.params.id},list_of_pay:null,my_list:null,list_of:null,listOfPay:null,listOfPayItem:null}},mounted:function(){var t=this;this.request({url:this.endpoint("payroll/listOfPay/pay/"+this.$route.params.id+"/"),method:"get",success:function(e){for(var a in console.log(e),t.listOfPay=e,console.log(e),t.listOfPayItem=e.list_of_pay_item,t.bank_pay_date=e.bank_pay_date,e.pay_done&&(t.create_date=e.pay_form_create_date),e.pay_done||(t.create_date=null),e.list_of_pay_item)t.items[e.list_of_pay_item[a].id]={id:e.list_of_pay_item[a].id,amount:e.list_of_pay_item[a].get_total_unpaid,pay_amount:e.list_of_pay_item[a].get_total_unpaid,un_paid:0};console.log(t.items)}})},computed:{headers:function(){return[{text:"پرسنل در کارگاه",value:"personnel_name"}]}},methods:{to:function(t){return{name:"ListOfPayItemForm",params:{id:t.id}}},updateUnpaid:function(t){console.log(this.items[t]),this.items[t]["un_paid"]=this.items[t]["amount"]-this.items[t]["pay_amount"],console.log(this.items[t])},pay:function(){for(var t in this.items)console.log(t),this.request({url:this.endpoint("payroll/listOfPayItem/pay/"+t+"/"),method:"put",data:{paid_amount:this.items[t]["pay_amount"]},success:function(t){console.log(t)}});this.request({url:this.endpoint("payroll/listOfPay/pay/"+this.$route.params.id+"/"),method:"put",data:{pay_done:!0,bank_pay_date:this.bank_pay_date,pay_form_create_date:this.create_date},success:function(t){console.log(t),location.reload()}})},addBankDate:function(){this.request({url:this.endpoint("payroll/listOfPay/pay/"+this.$route.params.id+"/"),method:"put",data:{pay_done:!0,bank_pay_date:this.bank_pay_date,pay_form_create_date:this.create_date},success:function(t){console.log(t),location.reload()}})},printReport:function(t){this.export_filter={id:this.$route.params.id},this.export_url="payroll/payForm",this.$refs.exportTable.exportTo(t)},printBankReport:function(t){this.export_filter={id:this.$route.params.id},this.export_url="payroll/bankReport",this.$refs.exportTable.exportTo(t)}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("b0af"),m=a("99d9"),p=a("ce7e"),v=a("132d"),h=a("1f4f"),f=a("2fa4"),_=a("8654"),b=a("71d9"),x=a("2a7f"),g=Object(r["a"])(o,i,s,!1,null,"0e0ca02b",null);e["default"]=g.exports;c()(g,{VBtn:u["a"],VCard:d["a"],VCardActions:m["a"],VCardText:m["c"],VDivider:p["a"],VIcon:v["a"],VSimpleTable:h["a"],VSpacer:f["a"],VTextField:_["a"],VToolbar:b["a"],VToolbarTitle:x["a"]})},"0359":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("v-text-field",t._b({staticStyle:{"min-width":"140px"},attrs:{dir:"ltr",label:t.label,placeholder:t.placeholder,disabled:t.disabled,clearable:"",id:t.id},on:{input:t.change,"click:clear":function(e){t.isDirty=!0}},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"mt-1",on:{click:function(e){t.$refs.datepicker.visible=!0},contextmenu:function(e){return e.preventDefault(),t.setToday.apply(null,arguments)}}},[t._v("fa-calendar-day")])]},proxy:!0}]),model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}},"v-text-field",t.$attrs,!1)),a("vue-persian-datetime-picker",{ref:"datepicker",attrs:{element:t.id,editable:!0,format:"jYYYY-jMM-jDD"},on:{input:t.change},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}})],1)},s=[],n=(a("b680"),a("0d16")),o=a("a632"),r=a.n(o),l={name:"Date",props:["value","default","disabled","placeholder","label"],components:{VuePersianDatetimePicker:r.a},data:function(){return{localValue:null,mask:null,isDirty:!1,id:"date"+(1e5*Math.random()).toFixed(0)}},watch:{value:function(){this.localValue=this.value,void 0==this.localValue&&this.default&&!this.isDirty&&this.setToday()}},created:function(){this.mask=n["a"].createMask({mask:"YYYY-MM-DD",lazy:!0,blocks:{YYYY:{mask:"0000"},MM:{mask:n["a"].MaskedRange,from:1,to:12},DD:{mask:n["a"].MaskedRange,from:1,to:31}}})},mounted:function(){!this.default||this.value||this.isDirty?this.localValue=this.value:this.setToday()},methods:{change:function(){var t=this;this.isDirty=!0,this.localValue!=this.value&&(this.mask.resolve(String(this.localValue)),this.$nextTick((function(){var e=t.mask.value;""==e&&(e=null),t.localValue=e,t.$emit("input",e)})))},setToday:function(){this.isDirty=!0,this.localValue=this.serverNow.format("jYYYY-jMM-jDD"),this.change(),this.$emit("input",this.mask.value)}}},c=l,u=(a("e64f"),a("2877")),d=a("6544"),m=a.n(d),p=a("132d"),v=a("8654"),h=Object(u["a"])(c,i,s,!1,null,null,null);e["a"]=h.exports;m()(h,{VIcon:p["a"],VTextField:v["a"]})},"093e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-form",{ref:"DeductionForm",attrs:{title:"ثبت کسورات اختیاری",showList:!1,listRoute:{name:"DeductionList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[t.item.is_template?t._e():a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"نوع",items:t.TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.is_template,callback:function(e){t.$set(t.item,"is_template",e)},expression:"item.is_template"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"انتخاب قالب",items:t.templates,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(e){t.item=t.template[t.tem_id],t.item.is_template=!1,t.item.id=null}},model:{value:t.tem_id,callback:function(e){t.tem_id=e},expression:"tem_id"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[this.workshopPersonnel?t._e():a("v-autocomplete",{attrs:{label:" پرسنل در کارگاه",items:t.workshopPersonnels,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.item.workshop_personnel,callback:function(e){t.$set(t.item,"workshop_personnel",e)},expression:"item.workshop_personnel"}}),this.workshopPersonnel?a("v-text-field",{attrs:{label:"پرسنل در کارگاه",disabled:"true"},model:{value:t.item.workshop_personnel=this.workshopPersonnel,callback:function(e){t.$set(t.item.workshop_personnel=this,"workshopPersonnel",e)},expression:"item.workshop_personnel = this.workshopPersonnel"}}):t._e()],1)],1),t.item.is_template?a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"نوع",items:t.DEDUCTION_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},on:{change:function(e){return t.setValues(t.item)}},model:{value:t.item.is_template,callback:function(e){t.$set(t.item,"is_template",e)},expression:"item.is_template"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"نام قالب","background-color":"white",disabled:!t.isEditing},model:{value:t.item.template_name,callback:function(e){t.$set(t.item,"template_name",e)},expression:"item.template_name"}})],1)],1):t._e(),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"نام کسورات","background-color":"white",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{attrs:{label:"مبلغ"},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{attrs:{disabled:!t.isEditing,label:"تعداد ماه "},model:{value:t.item.episode,callback:function(e){t.$set(t.item,"episode",e)},expression:"item.episode"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("date",{attrs:{label:"* تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.start_date,callback:function(e){t.$set(t.item,"start_date",e)},expression:"item.start_date"}})],1)],1),t.item.id?a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"توضیحات","background-color":"white",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1):t._e(),t.item.id?a("v-row",{staticClass:"mt-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"مبلغ هر ماه","background-color":"white",disabled:"ture"},model:{value:t.item.monthly_pay,callback:function(e){t.$set(t.item,"monthly_pay",e)},expression:"item.monthly_pay"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"*تا تاریخ ",default:!0,disabled:!0},model:{value:t.item.last_dept_date,callback:function(e){t.$set(t.item,"last_dept_date",e)},expression:"item.last_dept_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"ماه های پرداخت شده","background-color":"white",disabled:"ture"},model:{value:t.item.episode_payed,callback:function(e){t.$set(t.item,"episode_payed",e)},expression:"item.episode_payed"}})],1)],1):t._e()]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",[t._v("لیست وام یا مساعده ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)],1)],1)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=a("5a45"),b=a("eef6"),x={name:"ِثیعزفهخدForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{LoanList:b["a"],SummaryAbsenceList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{TYPES:[{name:" شخصی",value:!1},{name:"قالب",value:!0}],time:null,tem_id:null,dept_episode:1,menu1:!1,modal2:!1,printUrl:"payroll/deduction/all",isWorkshopConfirmed:!1,baseUrl:"payroll/deduction",type:null,entitlement:null,permissionBasename:"loan",url:"payroll/deduction/all",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",templates:[],template:null,workshopPersonnel:this.$route.query.workshop_personnel,workshopPersonnels:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display",filterable:!1},{text:"تاریخ",value:"start_date"},{text:"تاریخ اتمام",value:"last_dept_date",filterable:!1},{text:"مبلغ هر ماه",value:"monthly_pay",filterable:!1}]}},mounted:function(){var t=this;this.request({url:this.endpoint("payroll/deduction/template/"),method:"get",success:function(e){for(var a in console.log(e),t.template=e,e)t.template[e[a].id]=e[a],t.templates.push({name:e[a].template_name,id:e[a].id});console.log(t.workshopPersonnels)}}),this.workshopPersonnel||this.request({url:this.endpoint("payroll/workshop/personnel/"),method:"get",success:function(e){for(var a in console.log(e),e)t.workshopPersonnels.push({name:e[a].personnel_name+" در کارگاه "+e[a].workshop_name,id:e[a].id});console.log(t.workshopPersonnels)}})},methods:{to:function(t){return{name:"DeductionDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت کسورات رد شد","warning")}}},g=x,y=a("2877"),k=a("6544"),w=a.n(k),C=a("c6a6"),E=a("b0af"),$=a("99d9"),T=a("62ad"),S=a("0fd9"),V=a("8654"),F=Object(y["a"])(g,i,s,!1,null,"3bbdd01f",null);e["default"]=F.exports;w()(F,{VAutocomplete:C["a"],VCard:E["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:T["a"],VRow:S["a"],VTextField:V["a"]})},"0a5b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست قرارداد ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{mydata:function(e){return t.getSum(e)},"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}},{key:"body.append",fn:function(e){e.headers;return[a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"4"}}),a("td",[t._v("جمع ")]),a("td",[t._v(t._s(t.sumOfAmounts))])])]}}])})],1)],1)},s=[],n=a("b85c"),o=a("fa3b"),r={name:"ContractList",component:{MDatatable:o["a"]},props:{},data:function(){return{sumOfAmounts:0,localFilters:this.filters,previousApiData:null,url:"reports/contract/all",filters:{}}},computed:{headers:function(){return[{text:"عنوان",value:"title"},{text:"مناقصه",value:"tender"},{text:"شماره",value:"code",type:"numeric"},{text:"مبلغ",value:"amount",type:"numeric"},{text:"حداکثر میزان تغییر",value:"max_change_amount",type:"numeric"},{text:"پیمانکار",value:"contractor"},{text:"از تاریخ",value:"from_date",type:"date"},{text:"تا تاریخ",value:"to_date",type:"date"},{text:"تاریخ ثبت قرارداد",value:"registration",type:"date"},{text:"تاریخ شروع قرارداد",value:"inception",type:"date"},{text:"حسن انجام کار",value:"doing_job_well",type:"numeric"},{text:"علی الحساب بیمه",value:"insurance_payment",type:"numeric"},{text:"سایر",value:"other",type:"numeric"},{text:"جزئیات",value:"detail",sortable:!1,filterable:!1}]}},methods:{to:function(t){return{name:"ContractAllDetails",params:{id:t.id}}},getSum:function(t){var e,a=0,i=Object(n["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;a+=parseFloat(s.amount)}}catch(o){i.e(o)}finally{i.f()}this.sumOfAmounts=a}}},l=r,c=a("2877"),u=a("6544"),d=a.n(u),m=a("b0af"),p=a("99d9"),v=Object(c["a"])(l,i,s,!1,null,"ea9aa842",null);e["a"]=v.exports;d()(v,{VCard:m["a"],VCardText:p["c"],VCardTitle:p["d"]})},"0b9b":function(t,e,a){},"0fdc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست الحاقیه ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{mydata:function(e){return t.getSum(e)},"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}},{key:"body.append",fn:function(e){e.headers;return[a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"5"}}),a("td",[t._v("جمع ")]),a("td",[t._v(t._s(t.sumOfAmounts))])])]}}])})],1)],1)},s=[],n=a("b85c"),o={name:"SupplementList",props:{contractID:{}},data:function(){return{sumOfAmounts:0,url:"reports/supplement/all",filters:{}}},computed:{headers:function(){return[{text:"شماره",value:"code",type:"numeric"},{text:"قرارداد",value:"contract"},{text:"تاریخ جدید قرارداد",value:"new_contract_date",type:"date"},{text:"شرح",value:"explanation"},{text:"مبلغ",value:"value"},{text:"تاریخ",value:"date",type:"date"},{text:"جزئیات",value:"detail",sortable:!1,filterable:!1}]}},created:function(){this.filters.contract=this.contractID},methods:{to:function(t){return{name:"SupplementDetail",params:{id:t.id}}},getSum:function(t){var e,a=0,i=Object(n["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;a+=parseFloat(s.value)}}catch(o){i.e(o)}finally{i.f()}this.sumOfAmounts=a}}},r=o,l=a("2877"),c=a("6544"),u=a.n(c),d=a("b0af"),m=a("99d9"),p=Object(l["a"])(r,i,s,!1,null,"4b800d3a",null);e["a"]=p.exports;u()(p,{VCard:d["a"],VCardText:m["c"],VCardTitle:m["d"]})},1:function(t,e,a){t.exports=a("56d7")},"10f1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-form",{ref:"WorkshopPersonnelForm",attrs:{title:"تعریف پرسنل در کارگاه",showList:!1,listRoute:{name:"WorkshopPersonnelList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:!t.item.quit_job,isEditing:t.isEditing,"show-submit-and-clear-btn":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[t.item.id?a("v-toolbar",{staticClass:"white--text",attrs:{color:"indigo"}},[a("v-toolbar-title",[t._v(" "+t._s(t.personnelName)+" ")]),a("v-spacer"),t.item.quit_job?a("v-btn",{staticClass:"white--text",attrs:{color:"red",left:""},on:{click:function(e){return t.settlement("html")}}},[t._v(" فرم تسویه ")]):t._e(),a("v-btn",{staticClass:"ml-2 mr-2 indigo--text text--darken-3",attrs:{left:"",color:"indigo lighten-4"},on:{click:function(e){return t.balance("html")}}},[t._v(" گردش پرداخت ")]),t.item.id?a("m-datatable",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"exportTable",attrs:{headers:t.headers,apiUrl:t.export_url,filters:t.export_filters},on:{"update:filters":function(e){t.export_filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}],null,!1,886549401)}):t._e()],1):t._e(),t.item.quit_job?a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-banner",{staticClass:"red white--text",attrs:{elevation:"6",outlined:"",rounded:"","single-line":"",sticky:""}},[a("v-icon",{staticClass:"mr-6 ml-10",attrs:{color:"white",large:""}},[t._v("info ")]),t._v(" به دلیل اینکه برای پرسنل ترک کار ثبت شده است قادر به ویرایش نمی باشید ")],1)],1):t._e(),[t.item.id?t._e():a("v-row",{staticClass:"mt-3"},[a("v-col",{attrs:{cols:"12",md:"3"}},[this.workshop?t._e():a("v-autocomplete",{attrs:{label:"کارگاه",items:t.workshops,"item-text":"name","item-value":"id",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.workshop,callback:function(e){t.$set(t.item,"workshop",e)},expression:"item.workshop"}}),this.workshop?a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"کارگاه",disabled:"true"},model:{value:t.item.workshop=this.workshop,callback:function(e){t.$set(t.item.workshop=this,"workshop",e)},expression:"item.workshop = this.workshop"}}):t._e(),this.workshop?a("v-text-field",{attrs:{label:"کارگاه",disabled:"true"},model:{value:this.workshop_name,callback:function(e){t.$set(this,"workshop_name",e)},expression:"this.workshop_name "}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"3"}},[this.personnel?t._e():a("v-autocomplete",{attrs:{label:"نام  و نام خانوادگی",items:t.personnels,"item-text":"name","item-value":"id",disabled:!t.isEditing||t.item.quit_job},on:{change:function(e){return t.setValues(t.item.personnel)}},model:{value:t.item.personnel,callback:function(e){t.$set(t.item,"personnel",e)},expression:"item.personnel"}}),this.personnel?a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"نام  و نام خانوادگی",disabled:"true"},model:{value:t.item.personnel=this.personnel,callback:function(e){t.$set(t.item.personnel=this,"personnel",e)},expression:"item.personnel = this.personnel"}}):t._e(),this.searchByCode||t.personnelName?a("v-text-field",{attrs:{label:"نام  و نام خانوادگی",disabled:"true"},model:{value:t.personnelName,callback:function(e){t.personnelName=e},expression:"personnelName"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"2"},on:{click:function(e){return t.nationalDisplaySet(t.item)}}},[a("v-text-field",{attrs:{label:"* کد ملی","background-color":"white",disabled:!t.isEditing||!t.national_code_dis||t.personnel},model:{value:t.national_code,callback:function(e){t.national_code=e},expression:"national_code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"},on:{click:function(e){return t.personnelDisplaySet(t.item)}}},[a("v-text-field",{attrs:{label:"* کد پرسنلی ","background-color":"white",disabled:!t.isEditing||!t.personnel_code_dis||t.personnel},model:{value:t.personnel_code,callback:function(e){t.personnel_code=e},expression:"personnel_code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[t.personnel?t._e():a("v-btn",{staticClass:" white--text",attrs:{color:"green"},on:{click:t.searchUser}},[t._v(" سـرچ کنبد")]),t.personnel?t._e():a("v-btn",{staticClass:"mt-1 white--text",attrs:{color:"red"},on:{click:t.setNull}},[t._v(" خالی کردن")])],1)],1),a("v-row",{staticClass:"mt-16"},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* عنوان شغلی ","background-color":"white",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.work_title,callback:function(e){t.$set(t.item,"work_title",e)},expression:"item.work_title"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* محل خدمت  ","background-color":"white",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.job_location,callback:function(e){t.$set(t.item,"job_location",e)},expression:"item.job_location"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"* وضعیت کارمند",items:t.EMPLOYEE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.employee_status,callback:function(e){t.$set(t.item,"employee_status",e)},expression:"item.employee_status"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"* وضعیت محل کار",items:t.JOB_LOCATION_STATUSES,"item-text":"name","item-value":"value",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.job_location_status,callback:function(e){t.$set(t.item,"job_location_status",e)},expression:"item.job_location_status"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* سابقه بیمه قبلی خارج این کارگاه (ماه) ","background-color":"white",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.previous_insurance_history_out_workshop,callback:function(e){t.$set(t.item,"previous_insurance_history_out_workshop",e)},expression:"item.previous_insurance_history_out_workshop"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* سابقه بیمه قبلی در این کارگاه (ماه)","background-color":"white",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.previous_insurance_history_in_workshop,callback:function(e){t.$set(t.item,"previous_insurance_history_in_workshop",e)},expression:"item.previous_insurance_history_in_workshop"}})],1),t.item.id?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* سابقه بیمه جاری در این کارگاه (ماه) ","background-color":"white",disabled:!0},model:{value:t.item.current_insurance_month,callback:function(e){t.$set(t.item,"current_insurance_month",e)},expression:"item.current_insurance_month"}})],1):t._e(),t.item.id?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* مجموع سوابق بیمه ای  (ماه) ","background-color":"white",disabled:!0},model:{value:t.item.total_insurance_month,callback:function(e){t.$set(t.item,"total_insurance_month",e)},expression:"item.total_insurance_month"}})],1):t._e(),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* سمت یا شغل (دارایی)","background-color":"white",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.job_position,callback:function(e){t.$set(t.item,"job_position",e)},expression:"item.job_position"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"* رسته شغلی ",items:t.JOB_POSITIONS,"item-text":"name","item-value":"value",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.job_group,callback:function(e){t.$set(t.item,"job_group",e)},expression:"item.job_group"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"* نوع استخدام ",items:t.EMPLOYMENTS_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.employment_type,callback:function(e){t.$set(t.item,"employment_type",e)},expression:"item.employment_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"* نوع قرارداد",items:t.CONTRACT_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.contract_type,callback:function(e){t.$set(t.item,"contract_type",e)},expression:"item.contract_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"تاریخ استخدام ",default:!1,disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.employment_date,callback:function(e){t.$set(t.item,"employment_date",e)},expression:"item.employment_date"}})],1)],1),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-banner",{staticClass:" ",attrs:{elevation:"6",outlined:"",rounded:"","single-line":"",sticky:""}},[a("v-icon",{attrs:{color:"orange",large:""}},[t._v("info ")]),t._v(" برای محاسبه حق سنوات "),a("br"),t._v("علی الحساب این دو فیلد لازم است ")],1)],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:" روز های کارکرد قبل از تعریف ","background-color":"white",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.haghe_sanavat_days,callback:function(e){t.$set(t.item,"haghe_sanavat_days",e)},expression:"item.haghe_sanavat_days"}})],1),a("v-col",{staticClass:"mt-3",attrs:{cols:"12",md:"4"}},[a("money",{attrs:{label:"* مبلغ حق سنوات شناسایی شده ","background-color":"white",disabled:!t.isEditing||t.item.quit_job},model:{value:t.item.komakhazine_mobile_amount,callback:function(e){t.$set(t.item,"komakhazine_mobile_amount",e)},expression:"item.komakhazine_mobile_amount"}})],1)],1)]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("summary-workshop-personnel-list")],1)],1)],1)},s=[],n=(a("b0c0"),a("830d")),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=(a("2ef0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست پرسنل در کارگاه ")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)}),b=[],x={name:"SummaryWorkshopPersonnelList",props:{},data:function(){return{url:"payroll/workshop/personnel/all",filters:{}}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop_name"},{text:" پرسنل",value:"personnel_name"},{text:"عنوان شغلی",value:"work_title"},{text:"سمت",value:"job_position"},{text:"رسته شغلی",value:"job_group_display"}]}},methods:{to:function(t){return{name:"WorkshopPersonnelDetail",params:{id:t.id}}}}},g=x,y=a("2877"),k=a("6544"),w=a.n(k),C=a("b0af"),E=a("99d9"),$=Object(y["a"])(g,_,b,!1,null,"c505dfe6",null),T=$.exports;w()($,{VCard:C["a"],VCardText:E["c"],VCardTitle:E["d"]});var S={name:"WorkshopPersonnelForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{SummaryWorkshopPersonnelList:T,mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{CONTRACT_TYPES:[{name:" پاره وقت",value:2},{name:"تمام وقت",value:1},{name:"موقت",value:5},{name:"ساعتی",value:3},{name:"پیمانی",value:4}],JOB_LOCATION_STATUSES:[{name:" معمولی",value:1},{name:"مناطق کمتر توسعه یافته",value:2},{name:"مناطق آزاد تجاری",value:3}],EMPLOYMENTS_TYPES:[{name:" پیمانی",value:4},{name:"قراردادی",value:1},{name:"َشرکتی",value:2},{name:"مامور",value:5},{name:"رسمی",value:3},{name:"سایر",value:6}],EMPLOYEE_TYPES:[{name:" معمولی",value:1},{name:"جانباز",value:2},{name:"فرزند شهید",value:3},{name:"آزاده",value:4},{name:"نیروهای مسلح",value:5},{name:"یر مشمولین بند14 ماده 11",value:6},{name:"اتباع خارجی مشمول قانون اجتناب از اخذ مالیات مضاعف",value:7}],JOB_POSITIONS:[{name:" آموزشي و فرهنگي",value:2},{name:"اداري و مالي",value:1},{name:"اموراجتماعي",value:3},{name:"درماني و بهداشتي",value:5},{name:"اطلاعات فناوري",value:4},{name:"خدمات",value:7},{name:"فني و مهندسي",value:6},{name:"كشاورزي ومحيط زيست",value:8},{name:"تولیدی",value:13},{name:"تحقیقاتی",value:15},{name:"کارگری",value:11},{name:"حراست و نگهبانی",value:10},{name:"ترابری",value:12},{name:"بازاریابی و فروش",value:9},{name:"قضات",value:17},{name:"انبارداری",value:16},{name:"کنترل کیفی",value:14},{name:"هیات علمی",value:18},{name:"سایر",value:0}],personnel_code:null,search_code:null,export_url:"balance/",export_filters:[],national_code:null,national_code_dis:!0,personnel_code_dis:!0,printUrl:"payroll/workshop/personnel/all",isWorkshopConfirmed:!1,baseUrl:"payroll/workshop/personnel",permissionBasename:"workshop_personnel",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",id:this.$route.params.id,personnel:this.$route.query.personnel,personnels:[],workshop:this.$route.query.workshop,workshops:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0,searchByCode:!1,personnelName:null,workshop_name:null,selected:!1,cleared:!1}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop"},{text:" پرسنل",value:"personnel"},{text:"ّبیمه میشود",value:"insurance"},{text:"تاریخ اضافه شدن به لیست بیمه",value:"insurance_add_date"},{text:"عنوان شغلی",value:"work_title"},{text:" محل خدمت",value:"job_location"},{text:"وضعیت محل خدمت",value:"job_location_status"},{text:"سابقه بیمه قبلی خارج این کارگاه",value:"previous_insurance_history_out_workshop"},{text:"سابقه بیمه قبلی در کارگاه",value:"previous_insurance_history_in_workshop"},{text:"سابقه بیمه جاری در کارگاه",value:"current_insurance_history_in_workshop"},{text:"مجموع سوابق بیمه ای",value:"insurance_history_totality"},{text:"سمت",value:"job_position"},{text:"رسته شغلی",value:"job_group"},{text:"نوع استخدام",value:"employment_type"},{text:"نوع قرارداد",value:"contract_type"},{text:"وضعیت کارمند",value:"employee_status"}]}},mounted:function(){var t=this;this.personnel&&(this.searchByCode=!0,this.setValues(this.personnel)),this.id&&this.request({url:this.endpoint("payroll/workshop/personnel/"+this.id+"/"),method:"get",success:function(e){console.log(e),t.personnelName=e["personnel_name"]}}),this.personnel||this.request({url:this.endpoint("payroll/personnel/"),method:"get",success:function(e){for(var a in console.log(e),e)t.personnels.push({name:e[a].name+" "+e[a].last_name,id:e[a].id,national_code:e[a].national_code,personnel_code:e[a].personnel_code});console.log(t.personnels)}}),this.workshop||this.request({url:this.endpoint("payroll/workshop/"),method:"get",success:function(e){for(var a in console.log(e),e)t.workshops.push({name:e[a].name+" "+e[a].code,id:e[a].id});console.log(t.workshops)}}),this.workshop&&this.request({url:this.endpoint("payroll/workshop/"+this.workshop+"/"),method:"get",success:function(e){t.workshop_name=e.name+" "+e.code}})},methods:{searchUser:function(t){var e=this;this.personnel_code?this.request({url:this.endpoint("payroll/personnel/search/"+this.personnel_code+"/"),method:"get",success:function(t){e.searchByCode=!0,e.personnel_code=t.personnel_code,e.national_code=t.national_code,e.personnel=t.id,e.personnelName=t.name+" "+t.last_name}}):this.national_code&&this.request({url:this.endpoint("payroll/personnel/search/"+this.national_code+"/"),method:"get",success:function(t){e.searchByCode=!0,e.personnel_code=t.personnel_code,e.national_code=t.national_code,e.personnel=t.id,e.personnelName=t.name+" "+t.last_name}})},setValues:function(t){var e=this;this.request({url:this.endpoint("payroll/personnel/"+t+"/"),method:"get",success:function(t){e.personnel_code=t.personnel_code,e.national_code=t.national_code,e.personnelName=t.name+" "+t.last_name,e.personnel_code_dis=!1,e.national_code_dis=!1,e.selected=!0}})},to:function(t){return{name:"PersonnelFamilyDetail",params:{id:t.id}}},personnelDisplaySet:function(t){t.id||this.personnel||this.selected||(this.national_code_dis=!1,this.personnel_code_dis=!0,this.national_code=null)},setNull:function(t){t.id||this.personnel||this.selected||(this.national_code_dis=!0,this.personnel_code_dis=!0,this.national_code=null,this.personnel_code=null)},nationalDisplaySet:function(t){t.id||this.personnel||this.selected||(console.log(this.personnel),this.personnel_code_dis=!1,this.national_code_dis=!0,this.personnel_code=null)},balance:function(t){this.export_filter={id:this.$route.params.id},this.export_url="payroll/balance",this.$refs.exportTable.exportTo(t)},settlement:function(t){this.export_filter={id:this.$route.params.id},this.export_url="payroll/settlement/"+this.$route.params.id,this.$refs.exportTable.exportTo(t)}}},V=S,F=a("c6a6"),P=a("e4e5"),D=a("8336"),A=a("62ad"),I=a("132d"),j=a("0fd9"),L=a("2fa4"),R=a("8654"),O=a("71d9"),q=a("2a7f"),B=Object(y["a"])(V,i,s,!1,null,"f4ab2590",null);e["default"]=B.exports;w()(B,{VAutocomplete:F["a"],VBanner:P["a"],VBtn:D["a"],VCol:A["a"],VIcon:I["a"],VRow:j["a"],VSpacer:L["a"],VTextField:R["a"],VToolbar:O["a"],VToolbarTitle:q["a"]})},1276:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",{staticStyle:{"min-width":"90px"},attrs:{dir:"ltr",label:t.label,placeholder:t.placeholder,disabled:t.disabled,"append-icon":"fa-clock",clearable:""},on:{input:t.change,"click:append":t.setToday},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}})},s=[],n=(a("7fd9"),a("a67b"),a("0d16")),o={name:"Time",props:{value:{},id:{},default:{},disabled:{},placeholder:{},label:{default:"ساعت"}},data:function(){return{localValue:null,mask:null,isDirty:!1}},watch:{value:function(){this.localValue=this.value,void 0==this.localValue&&this.setToday(),this.change()}},created:function(){this.mask=n["a"].createMask({mask:"HH:MM",blocks:{HH:{mask:n["a"].MaskedRange,from:0,to:23},MM:{mask:n["a"].MaskedRange,from:0,to:59}}})},mounted:function(){this.default?this.setToday():this.localValue=this.value},methods:{change:function(){var t=this;this.isDirty=!0,this.localValue!=this.mask.value&&(this.mask.resolve(String(this.localValue)),this.$nextTick((function(){t.localValue=t.mask.value})),this.$emit("input",this.mask.value))},setToday:function(){this.localValue=this.serverNow.format("HH:mm"),this.change(),this.$emit("input",this.mask.value)}}},r=o,l=(a("2330"),a("2877")),c=a("6544"),u=a.n(c),d=a("8654"),m=Object(l["a"])(r,i,s,!1,null,"47fbdb5d",null);e["a"]=m.exports;u()(m,{VTextField:d["a"]})},"12b9":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",t._b({staticClass:"mt-1 mt-md-0 elevation-0 cursor-pointer",class:t.btnClasses,attrs:{outlined:t.tableStyle,title:"مشاهده سند",rounded:""},on:{click:function(e){return t.openSanad(t.sanad.id)}}},"v-btn",t.$attrs,!1),[a("v-icon",{staticClass:"cursor-pointer"},[t._v("$sanadIcon")]),a("v-chip",{staticClass:"app-background-color mr-2 cursor-pointer",attrs:{"x-small":""}},[t._v(t._s(t.sanad.code))])],1)},s=[],n={props:{sanad:{type:Object,required:!0},tableStyle:{default:!1}},computed:{btnClasses:function(){if(!this.tableStyle)return"blue white--text mr-1"}},mounted:function(){},methods:{openSanad:function(){var t=this.$router.resolve({name:"SanadForm",params:{id:this.sanad.id}});window.open(t.href)}}},o=n,r=(a("44b2"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),d=a("cc20"),m=a("132d"),p=Object(r["a"])(o,i,s,!1,null,null,null);e["a"]=p.exports;c()(p,{VBtn:u["a"],VChip:d["a"],VIcon:m["a"]})},"14a8":function(t,e,a){"use strict";a("caad");e["a"]={methods:{getFactorTransactionLink:function(t){var e,a;["buy","backFromSale"].includes(t.type)?(a="payment",e="پرداخت"):(a="receive",e="دریافت");var i={name:"TransactionForm",params:{type:a},query:{"item.account":t.account&&t.account.id,"item.floatAccount":t.floatAccount&&t.floatAccount.id,"item.costCenter":t.costCenter&&t.costCenter.id,factorIds:String(t.id)}};return{type:a,label:e,to:i}},getReverseType:function(t){var e={sale:"backFromSale",buy:"backFromBuy"};return e[t]},getReverseFactorLink:function(t){var e={};t.backFactor||(e={backFrom:t.id});var a={name:"FactorForm",params:{isPreFactor:t.is_pre_factor,type:this.getReverseType(t.type),id:t.backFactor?t.backFactor.id:null},query:e};return{to:a}},getFactorPayableValue:function(t){var e=0;t.backFactor&&(e=t.backFactor.total_sum);var a=t.total_sum-e-t.paidValue;return a},getFactorTitle:function(t,e){var a={sale:"فاکتور فروش",backFromSale:"فاکتور برگشت از فروش",buy:"فاکتور خرید",backFromBuy:"فاکتور برگشت از خرید",fpi:"موجودی اول دوره",cw:"حواله ی کالای مصرفی",rc:"رسید",rm:"حواله",p:"تولید"},i=a[t];return e&&(i="پیش "+i),i}},computed:{}}},"16a3":function(t,e,a){"use strict";a("cd8c")},"1aea":function(t,e,a){"use strict";a("59fb")},"1ea8":function(t,e,a){"use strict";a("c02d")},2:function(t,e){},"21e4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-form",{ref:"workshopTaxRowForm",attrs:{title:"ثبت  جدول معافیت مالیات و حقوق سالانه",showList:!1,listRoute:{name:"TaxRowList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"نام"},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"از تاریخ ",default:!1,disabled:!t.isEditing},model:{value:t.item.from_date,callback:function(e){t.$set(t.item,"from_date",e)},expression:"item.from_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"تا تاریخ ",default:!1,disabled:!t.isEditing},model:{value:t.item.to_date,callback:function(e){t.$set(t.item,"to_date",e)},expression:"item.to_date"}})],1)],1),t.item.id?a("v-row",{staticClass:"mt-10 mb-10 ml-2 mr-2"},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v(" ردیف ")]),a("th",{staticClass:"text-center"},[t._v(" از مبلغ (سالانه) ")]),a("th",{staticClass:"text-center"},[t._v(" تا مبلغ (سالانه) ")]),a("th",{staticClass:"text-center"},[t._v(" درصد ")]),a("th",{staticClass:"text-center"},[t._v(" از مبلغ (ماهانه) ")]),a("th",{staticClass:"text-center"},[t._v(" تا مبلغ (ماهانه) ")]),a("th",{staticClass:"text-center"})])]),a("tbody",t._l(t.item.tax_row.slice().reverse(),(function(e,i){return a("tr",{key:t.item.id},[a("td",{staticClass:"text-center"},[t._v(t._s(i+1))]),a("td",{staticClass:"text-center"},[a("money",{model:{value:e.from_amount,callback:function(a){t.$set(e,"from_amount",a)},expression:"row.from_amount"}})],1),a("td",{staticClass:"text-center"},[a("money",{model:{value:(e.to_amount,t.from=e.to_amount),callback:function(a){t.$set(e.to_amount,t.from=e,"to_amount",a)},expression:"row.to_amount , from = row.to_amount "}})],1),a("td",{staticClass:"text-center"},[e.ratio?a("money",{model:{value:e.ratio,callback:function(a){t.$set(e,"ratio",a)},expression:"row.ratio"}}):t._e(),e.ratio?t._e():a("v-text-field",{staticClass:"currency-input",attrs:{disabled:"true"},model:{value:t.moaf,callback:function(e){t.moaf=e},expression:"moaf"}})],1),a("td",{staticClass:"text-center"},[e.from_amount_month?a("money",{attrs:{disabled:"true"},model:{value:e.from_amount_month,callback:function(a){t.$set(e,"from_amount_month",a)},expression:"row.from_amount_month "}}):t._e(),e.from_amount_month?t._e():a("money",{attrs:{disabled:"true"},model:{value:t.first,callback:function(e){t.first=e},expression:"first "}})],1),a("td",{staticClass:"text-center"},[a("money",{attrs:{disabled:"true"},model:{value:e.to_amount_month,callback:function(a){t.$set(e,"to_amount_month",a)},expression:"row.to_amount_month"}})],1),a("td",{staticClass:"text-center"},[a("v-btn",{attrs:{text:"",color:"error"},on:{click:function(a){return t.delete_row(e.id)}}},[t._v(" حذف ")])],1)])})),0),a("tr",{staticClass:"pt-10 green lighten-4"},[a("td",{staticClass:"text-center"},[t._v(" + ")]),a("td",{staticClass:"text-center"},[t.item.tax_row.slice().reverse()[0]?a("money",{attrs:{disabled:"true"},model:{value:t.from=t.item.tax_row.slice().reverse()[0].auto_from,callback:function(e){t.$set(t.from=t.item.tax_row.slice().reverse()[0],"auto_from",e)},expression:"from = item.tax_row.slice().reverse()[0].auto_from"}}):t._e(),t.item.tax_row.slice().reverse()[0]?t._e():a("v-text-field",{staticClass:"currency-input",attrs:{disabled:"true"},model:{value:t.first,callback:function(e){t.first=e},expression:"first"}})],1),a("td",{staticClass:"text-center"},[a("money",{model:{value:t.to,callback:function(e){t.to=e},expression:"to"}})],1),a("td",{staticClass:"text-center"},[t.item.tax_row.slice().reverse()[0]?a("money",{model:{value:t.ratio,callback:function(e){t.ratio=e},expression:"ratio"}}):t._e(),t.item.tax_row.slice().reverse()[0]?t._e():a("v-text-field",{staticClass:"currency-input",attrs:{disabled:"true"},model:{value:t.moaf,callback:function(e){t.moaf=e},expression:"moaf"}})],1),a("td",{staticClass:"text-center",attrs:{colspan:"2"}}),a("td",{staticClass:"text-center"},[t.item.tax_row.slice().reverse()[0]?a("v-btn",{attrs:{color:"green darken-2 white--text"},on:{click:function(e){return t.add_row(t.item.id)}}},[t._v(" ایجاد ردیف جدید ")]):t._e(),t.item.tax_row.slice().reverse()[0]?t._e():a("v-btn",{attrs:{color:"green darken-2 white--text"},on:{click:function(e){t.add_row(t.item.id),t.goTo(t.item.id)}}},[t._v(" ایجاد ردیف جدید ")])],1)])]},proxy:!0}],null,!1,3587066776)})],1):t._e()]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("tax-row-list")],1)],1)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=(a("7dfd"),a("7d17"),a("bbe6")),b=a("2ef0"),x={name:"TaxRowForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{TaxRowList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{first:"0",moaf:"معاف از مالیات",from:0,to:0,ratio:0,time:null,menu1:!1,modal2:!1,printUrl:"payroll/tax/all",isWorkshopConfirmed:!1,baseUrl:"payroll/tax",type:null,entitlement:null,permissionBasename:"workshop_tax",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!0,isDefinable:!0,myClass:"",workshops:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:"ار مبلغ",value:"from_amount"},{text:"تا مبلغ",value:"to_amount"},{text:"درصد",value:"ratio"}]}},mounted:function(){},methods:{goTo:function(t){this.$router.push("tax_row/"+Object(b["toString"])(t))},delete_row:function(t){var e=this;this.request({url:this.endpoint("payroll/tax/row/"+t+"/"),method:"delete",success:function(t){e.notify("ردیف حذف شد","success"),setTimeout(2e3),e.$router.go()}})},add_row:function(t){var e=this;this.request({url:this.endpoint("payroll/tax/row/"),method:"post",data:{workshop_tax:t,from_amount:this.from,to_amount:this.to,ratio:this.ratio},success:function(t){e.notify("ردیف ثبت شد","success"),e.$router.go()}})},to:function(t){return{name:"WorkshopTaxDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت ردیف مالیات رد شد","warning")}}},g=x,y=a("2877"),k=a("6544"),w=a.n(k),C=a("8336"),E=a("62ad"),$=a("0fd9"),T=a("1f4f"),S=a("8654"),V=Object(y["a"])(g,i,s,!1,null,"5231ddc6",null);e["default"]=V.exports;w()(V,{VBtn:C["a"],VCol:E["a"],VRow:$["a"],VSimpleTable:T["a"],VTextField:S["a"]})},2330:function(t,e,a){"use strict";a("45ac")},"24a3":function(t,e,a){"use strict";e["a"]={methods:{getCarIncome:function(t){var e=t.destination_amount*t.fare_price;return t.car_income=e,e},getLadingSum:function(t){var e=+t.driver_tip_price+this.getCarIncome(t);return t.lading_total_value=e,e},getCargoDebt:function(t){if("cr"!=t.receive_type)return 0;var e=+t.association_price+ +t.bill_price+ +t.cargo_tip_price;return t.cargo_debt=e,e}}}},2755:function(t,e,a){"use strict";a("72bc")},"29e2":function(t,e,a){},"2a01":function(t,e,a){var i,s,n=a("7037").default;a("d3b7"),a("159b"),a("b64b"),a("b0c0"),function(a,n){a||(a={}),i=[],s=function(){return a.jsonToFormData=n()}.apply(e,i),void 0===s||(t.exports=s)}(this,(function(){function t(t,e){return[t,e].reduce((function(t,e){return Object.keys(e).forEach((function(a){t[a]=e[a]})),t}),{})}function e(t){return"[object Array]"==={}.toString.call(t)}function a(t){return!e(t)&&"object"===n(t)&&!!t&&!(t instanceof Blob)&&!(t instanceof Date)}function i(t){return"function"===typeof t.append}function s(){return"function"===typeof FormData}function o(){if(s())return new FormData}function r(e,a){if(a&&a.initialFormData){if(!i(a.initialFormData))throw"initialFormData must have an append function."}else if(!s())throw"This environment does not have global form data. options.initialFormData must be specified.";var n={initialFormData:o(),showLeafArrayIndexes:!0,includeNullValues:!1,mapping:function(t){return"boolean"===typeof t?+t?"1":"0":t}},r=t(n,a||{});return l(e,r,r.initialFormData)}function l(t,i,s,n){var o=0;for(var r in t){if(t.hasOwnProperty(r)){var c=n||r,u=i.mapping(t[r]);if(n&&a(t)&&(c=n+"["+r+"]"),n&&e(t)&&(c=e(u)||i.showLeafArrayIndexes?n+"["+o+"]":n+"[]"),e(u)||a(u))l(u,i,s,c);else if(u instanceof FileList)for(var d=0;d<u.length;d++)s.append(c+"["+d+"]",u.item(d));else u instanceof Blob?s.append(c,u,u.name):u instanceof Date?s.append(c,u.toISOString()):(null===u&&i.includeNullValues||null!==u)&&void 0!==u&&s.append(c,u)}o++}return s}return r}))},"2a82":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-icon",{attrs:{color:"cyan",disabled:null==t.query},on:{click:t.openLedger}},[t._v("fa-book-open")])},s=[],n={props:{query:{default:null}},methods:{openLedger:function(){var t=this.$router.resolve({name:"LedgerReport",query:this.query});window.open(t.href,"_blank")}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("132d"),d=Object(r["a"])(o,i,s,!1,null,null,null);e["a"]=d.exports;c()(d,{VIcon:u["a"]})},"2dc7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"halo-tree"},t._l(t.data,(function(e,i){return 0!=e.show?a("treeLi",t._b({key:e.id?e.id:i,attrs:{item:e,index:i}},"treeLi",t.childBind,!1)):t._e()})),1)},s=[],n=a("15fd"),o=(a("a9e3"),a("4de4"),a("d3b7"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.itemVisible?a("li",{class:t.liClass},[a("div",{staticClass:"tree-node-el"},[t.showExpand?a("span",{staticClass:"tree-expand",class:t.item.expanded?"tree-open":"tree-close",on:{click:function(e){return t.expandNode(t.item)}}}):t._e(),a("span",{staticClass:"node-title",staticStyle:{"user-select":"none"},attrs:{title:t.item.nodeTitle},domProps:{innerHTML:t._s(t.item.nodeTitle||t.item.title)},on:{mouseover:function(e){return t.nodeMouseOver(t.item,t.index,t.parent)},contextmenu:function(e){return e.preventDefault(),t.nodeContextMenu(e,t.item,t.index,t.parent)},click:function(e){return t.nodeClick(t.item,t.index,t.parent)}}})]),t.showNextUl?[a("collapse-transition",[a("TreeUl",{directives:[{name:"show",rawName:"v-show",value:t.item.expanded,expression:"item.expanded"}],attrs:{data:t.item.children,parent:t.item,level:t.level,maxLevel:t.maxLevel,topMustExpand:t.topMustExpand}})],1)]:t._e()],2):t._e()}),r=[],l={"before-enter":function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},enter:function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},"after-enter":function(t){t.style.height="",t.style.overflow=t.dataset.oldOverflow},"before-leave":function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t){0!==t.scrollHeight&&(t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},"after-leave":function(t){t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}},c={name:"CollapseTransition",functional:!0,render:function(t,e){var a=e.children,i={on:l};return t("transition",i,a)}},u={name:"TreeLi",components:{CollapseTransition:c},inject:["emitEventToTree","isLeaf"],beforeCreate:function(){this.$options.components.TreeUl=a("2dc7").default},props:{item:{type:Object,default:function(){}},index:Number,dataLength:{type:Number,default:0},parent:{type:Object,default:function(){return null}},maxLevel:Number,level:Number,topMustExpand:{type:Boolean,default:!0}},computed:{itemVisible:function(){var t=this.item.visible,e=void 0===t||t;return e},hasExpanded:function(){var t=this.item,e=t.hasExpanded,a=void 0!==e&&e,i=t.expanded,s=void 0!==i&&i;return this.itemVisible&&(s||a)},liClass:function(){var t,e=this.index;return t=this.parent?{leaf:this.isLeaf(this.item)}:{"first-node":0===e,"only-node":1===this.dataLength,"second-node":1===e},t},hasChildren:function(){var t=this.item;return t.children&&t.children.length>0},showExpand:function(){var t=this.item,e=!this.parent&&this.topMustExpand;return e||this.hasChildren||t.async},showNextUl:function(){return!this.isLeaf(this.item)&&this.maxLevel>this.level&&this.hasExpanded},position:function(){return{level:this.level,index:this.index}}},methods:{expandNode:function(t){var e=this,a=!t.expanded;this.$set(t,"expanded",a),this.$set(t,"hasExpanded",!0);var i=function t(a){e.$set(a,"expanded",!1),a.children.forEach((function(e){t(e)}))};a||i(t)},nodeMouseOver:function(t,e,a){this.emitEventToTree("node-mouse-over",t,e,a)},nodeContextMenu:function(t,e,a,i){this.emitEventToTree("node-context-menu",e,a,i,t)},nodeClick:function(t,e,a){this.emitEventToTree("node-click",t,e,a)}}},d=u,m=a("2877"),p=Object(m["a"])(d,o,r,!1,null,null,null),v=p.exports,h=["data"],f={name:"TreeUl",inheritAttrs:!1,components:{TreeLi:v},inject:["emitEventToTree","isLeaf"],props:{data:{type:Array,default:function(){return[]}},parent:{type:Object,default:function(){return null}},level:{type:Number,default:0},allowGetParentNode:{type:Boolean,default:!1}},computed:{childBind:function(){var t=this.$props,e=t.data,a=Object(n["a"])(t,h),i=e.filter((function(t){return!1!==t.visible})).length;return Object.assign({},this.$attrs,a,{dataLength:i,level:this.treeLevel})},treeLevel:function(){return this.level+1}},methods:{},created:function(){if(!0===this.allowGetParentNode){var t=this.data,e=t[0]&&"function"===typeof t[0].parent;if(!e){var a=this.parent;this.data.forEach((function(t){t.parent=function(){return a}}))}}}},_=f,b=Object(m["a"])(_,i,s,!1,null,null,null);e["default"]=b.exports},"2ecb":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست قرارداد ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n={name:"WorkshopContractList",props:{},data:function(){return{url:"payroll/contract/all",filters:{}}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display",filterable:!1},{text:"شماره قرارداد",value:"code"},{text:"تاریخ شروع قرارداد",value:"contract_from_date"},{text:"تاریخ پایان قرارداد",value:"contract_to_date"},{text:"تاریخ ترک کار",value:"quit_job_date"},{text:"بیمه می شود؟",value:"insurance_display",filterable:!1},{text:"تاریخ اضافه شدن به لیست بیمه",value:"insurance_add_date"}]}},methods:{to:function(t){return{name:"WorkshopContractDetail",params:{id:t.id}}}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),m=Object(r["a"])(o,i,s,!1,null,"171150ee",null);e["a"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},3:function(t,e){},"30b0":function(t,e,a){"use strict";a("704c")},"33e5":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست خانواده پرسنل ")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n={name:"PersonnelFamilyList",props:{},data:function(){return{url:"payroll/personnel/family/all",filters:{}}},computed:{headers:function(){return[{text:"پرسنل",value:"personnel_name"},{text:"نام",value:"name"},{text:"نام خانوادگی",value:"last_name"},{text:"کد ملی",value:"national_code"},{text:"تاریخ  تولد",value:"date_of_birth"},{text:"نسبت",value:"relative_display"},{text:"وضعیت تاهل",value:"marital_status_display"},{text:"خدمت سربازی",value:"military_service_display"},{text:"خدمت سربازی",value:"military_service_display"},{text:"وضعیت تحصیل",value:"study_status_display"},{text:"وضعیت جسمی",value:"physical_condition_display"}]}},methods:{to:function(t){return{name:"PersonnelFamilyDetail",params:{id:t.id}}}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),m=Object(r["a"])(o,i,s,!1,null,"6bc55e7c",null);e["a"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},"38da":function(t,e,a){"use strict";var i=a("5530"),s=(a("d81d"),a("2f62"));e["a"]={methods:{getUsers:function(t,e){this.fillStore({url:"companies/companyUsers/",storeKey:"companyUsers",reload:t,callback:e})}},computed:Object(i["a"])(Object(i["a"])({},Object(s["b"])(["companyUsers"])),{},{users:function(){return this.companyUsers.map((function(t){return t.user}))}})}},3915:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{attrs:{title:t.title,showList:!1,listRoute:{name:"TransactionsList",params:{type:t.type}},exportBaseUrl:"reports/lists/transactions",exportParams:{id:t.id},showNavigationButtons:!t.modalMode,showSubmitAndClearForm:!t.modalMode,canDelete:t.canDelete,canEdit:!t.item.is_auto_created,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},clearForm:t.clearForm,goToForm:t.getItemByPosition,submit:t.validate,delete:t.deleteItem,define:t.defineItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.is_defined?a("open-sanad-btn",{attrs:{sanad:t.item.sanad}}):t._e(),t.isImprest&&void 0!=t.id&&t.hasPerm("","imprestSettlement")?a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"ImprestSettlement",params:{id:t.item.id}},title:"تسویه تنخواه",icon:""}},[a("v-icon",[t._v("$receiveTransactionIcon")])],1):t._e(),t.isImprest||t.isBankTransfer?t._e():a("v-btn",{staticClass:"teal white--text mr-1 mt-1 mt-md-0",attrs:{title:"بابت فاکتور های",icon:""},on:{click:function(e){t.factorsDialog=!0}}},[a("v-icon",[t._v("$factorIcon")])],1)]},proxy:!0}])},[[t.modalMode?t._e():a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره",disabled:""},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:" * تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),"payment"==t.type?a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{placeholder:"تاریخ راس",disabled:""}})],1):t._e(),a("v-col",{attrs:{cols:"12",md:"3"}},[t.id?a("v-switch",{attrs:{label:"قطعی شده",disabled:""},model:{value:t.item.is_defined,callback:function(e){t.$set(t.item,"is_defined",e)},expression:"item.is_defined"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("account-select",{attrs:{label:t.accountLabel,itemsType:t.accountsType,disabled:t.modalMode||!t.isEditing,required:"",floatAccount:t.item.floatAccount,costCenter:t.item.costCenter},on:{"update:floatAccount":function(e){return t.item.floatAccount=e},"update:costCenter":function(e){return t.item.costCenter=e}},model:{value:t.item.account,callback:function(e){t.$set(t.item,"account",e)},expression:"item.account"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"شرح",disabled:!t.isEditing,height:"105"},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("input-table",{scopedSlots:t._u([{key:"thead",fn:function(){return[a("tr",[a("th",{staticClass:"tr-counter"},[t._v("#")]),t.isBankTransfer?t._e():a("th",[t._v("* نوع "+t._s(t.title))]),a("th",[t._v(t._s(t.rowAccountLabel))]),a("th",[t._v("* مبلغ")]),a("th",[t._v("شماره پیگیری")]),a("th",[t._v("* تاریخ "+t._s(t.title))]),a("th",[t._v("سررسید")]),a("th",[t._v("نام بانک")]),a("th",[t._v("شرح ردیف")]),t.isReceive?t._e():[a("th",[t._v("نوع عملیات بانکی")]),a("th",[t._v("مبلغ هزینه بانکی")])],a("th")],2)]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.rows,(function(e,i){return a("tr",{key:i,class:{"d-print-none":i==t.rows.length-1}},[a("td",[t._v(t._s(i+1))]),t.isBankTransfer?t._e():a("td",{staticStyle:{"min-width":"150px"},attrs:{title:t.rows[i].type.id&&t.rows[i].type.name}},[a("v-autocomplete",{attrs:{"return-object":!0,disabled:!t.isEditing||t.hasCheque(e),items:t.itemPaymentMethods,"item-text":"name","item-value":"id"},on:{change:function(a){t.isChequeType(e)&&t.openSubmitChequeDialog(e,i)}},model:{value:t.rows[i].type,callback:function(e){t.$set(t.rows[i],"type",e)},expression:"rows[i].type"}}),t.isChequeType(e)&&!t.hasCheque(e)?a("v-btn",{staticClass:"blue white--text mt-1",attrs:{block:"",disabled:!t.isEditing},on:{click:function(a){return t.openSubmitChequeDialog(e,i)}}},[t._v(" ثبت "+t._s(t.rows[i].type.name)+" ")]):t._e()],1),a("td",{staticClass:"tr-account"},[t.rows[i].type.id||t.isBankTransfer?a("account-select",{attrs:{horizontal:!0,"items-type":t.isBankTransfer?"banks":"level3",disabled:!t.isEditing,"account-disabled":!t.isBankTransfer,floatAccount:t.rows[i].floatAccount,costCenter:t.rows[i].costCenter},on:{"update:floatAccount":function(e){return t.rows[i].floatAccount=e},"update:costCenter":function(e){return t.rows[i].costCenter=e}},model:{value:t.rows[i].type.account,callback:function(e){t.$set(t.rows[i].type,"account",e)},expression:"rows[i].type.account"}}):t._e()],1),a("td",[a("money",{staticClass:"form-control",attrs:{disabled:!t.isEditing||t.isChequeType(e)},model:{value:t.rows[i].value,callback:function(e){t.$set(t.rows[i],"value",e)},expression:"rows[i].value"}})],1),a("td",{staticStyle:{width:"100px"},attrs:{title:t.rows[i].documentNumber}},[a("v-text-field",{staticClass:"form-control",attrs:{disabled:!t.isEditing||t.isChequeType(e),type:"text"},model:{value:t.rows[i].documentNumber,callback:function(e){t.$set(t.rows[i],"documentNumber",e)},expression:"rows[i].documentNumber"}})],1),a("td",[a("date",{attrs:{disabled:!t.isEditing||t.isChequeType(e),default:"1"},model:{value:t.rows[i].date,callback:function(e){t.$set(t.rows[i],"date",e)},expression:"rows[i].date"}})],1),a("td",[a("date",{attrs:{disabled:""},model:{value:t.rows[i].due,callback:function(e){t.$set(t.rows[i],"due",e)},expression:"rows[i].due"}})],1),a("td",[a("v-text-field",{staticClass:"form-control form-control",attrs:{disabled:!t.isEditing||!t.hasBank(e),type:"text"},model:{value:t.rows[i].bankName,callback:function(e){t.$set(t.rows[i],"bankName",e)},expression:"rows[i].bankName"}})],1),a("td",{staticStyle:{"min-width":"120px"}},[a("row-textarea",{attrs:{disabled:!t.isEditing||t.isChequeType(e),i:i},on:{updateRowsExplanation:t.updateRowsExplanation},model:{value:t.rows[i].explanation,callback:function(e){t.$set(t.rows[i],"explanation",e)},expression:"rows[i].explanation"}})],1),t.isReceive?t._e():[a("td",[a("v-autocomplete",{attrs:{"return-object":!1,disabled:!t.isEditing||t.hasCheque(e),items:t.bankingOperations,"item-text":"name","item-value":"id"},model:{value:t.rows[i].bankingOperation,callback:function(e){t.$set(t.rows[i],"bankingOperation",e)},expression:"rows[i].bankingOperation"}})],1),a("td",[a("money",{attrs:{disabled:!t.isEditing||t.hasCheque(e)},model:{value:t.rows[i].banking_operation_value,callback:function(e){t.$set(t.rows[i],"banking_operation_value",e)},expression:"rows[i].banking_operation_value"}})],1)],a("td",{staticClass:"d-print-none"},[i==t.rows.length-1||t.hasCheque(e)&&e.id?t._e():a("v-btn",{staticClass:"red--text",attrs:{disabled:!t.isEditing,icon:""},on:{click:function(e){return t.deleteRow(i)}}},[a("v-icon",[t._v("delete")])],1),t.hasCheque(e)&&e.cheque.id?a("router-link",{attrs:{to:{name:"ChequeDetail",params:{id:e.cheque.id}},target:"_blank",icon:""}},[a("v-icon",[t._v("fa-external-link-alt")])],1):t._e()],1)],2)})),a("tr"),a("tr",{staticClass:"grey lighten-3 text-white"},[a("td"),t.isBankTransfer?t._e():a("td"),a("td",{staticClass:"text-left"},[t._v("مجموع:")]),a("td",{},[t._v(t._s(t._f("toMoney")(t.rowsSum("value"))))]),a("td",{attrs:{colspan:"5"}}),t.isReceive?t._e():[a("td"),a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("banking_operation_value"))))])],a("td",{staticClass:"d-print-none"},[a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(-1)}}},[a("v-icon",[t._v("delete_sweep")])],1)],1)],2)]},proxy:!0}]),model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}})],1)],1)]],2),a("v-dialog",{attrs:{scrollable:"","max-width":"1200px",persistent:t.isEditing},model:{value:t.factorsDialog,callback:function(e){t.factorsDialog=e},expression:"factorsDialog"}},[a("v-card",[a("v-card-title",[t._v("فاکتور های پرداخت نشده")]),a("v-card-text",[a("v-simple-table",[a("thead",[a("tr",[a("th",[t._v("شماره فاکتور")]),a("th",[t._v("نوع فاکتور")]),a("th",[t._v("توضیحات")]),a("th",[t._v("تاریخ")]),a("th",[t._v("جمع فاکتور")]),a("th",[t._v("جمع برگشتی")]),a("th",[t._v("مبلغ خالص")]),a("th",[t._v("پرداختی قبلی")]),t.isEditing?t._e():a("th",[t._v("پرداختی فعلی")]),a("th",[t._v("مانده")]),t.isEditing?a("th",[t._v("پرداختی فعلی")]):t._e(),a("th")])]),a("tbody",t._l(t.factors,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(t.factorTypes[e.type]))]),a("td",[t._v(t._s(e.explanation))]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(t._f("toMoney")(e.total_sum)))]),a("td",[t._v(t._s(t._f("toMoney")(e.back_total_sum)))]),a("td",[t._v(t._s(t._f("toMoney")(e.total_sum-e.back_total_sum)))]),a("td",[t._v(t._s(t._f("toMoney")(e.previous_paid_value)))]),t.isEditing?t._e():a("td",[t._v(t._s(t._f("toMoney")(e.payment.value)))]),a("td",[t._v(t._s(t._f("toMoney")(e.remain)))]),t.isEditing?a("td",[a("money",{attrs:{disabled:!t.isEditing},model:{value:e.payment.value,callback:function(a){t.$set(e.payment,"value",a)},expression:"f.payment.value"}})],1):t._e(),a("td",[a("v-btn",{staticClass:"blue white--text",on:{click:function(a){return t.openFactor(e)}}},[t._v(" مشاهده فاکتور "),a("v-chip",{staticClass:"app-background-color mr-2",attrs:{"x-small":""}},[t._v(t._s(e.code))])],1)],1)])})),0)])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:!t.isEditing},on:{click:function(e){return t.splitValue(!0)}}},[t._v("سرشکن کردن از پایین")]),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:!t.isEditing},on:{click:function(e){return t.splitValue()}}},[t._v("سرشکن کردن از بالا")]),a("v-btn",{staticClass:"green white--text w-100px",on:{click:t.validatePaidValues}},[t._v("تایید")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"1200px"},model:{value:t.submitChequeDialog,callback:function(e){t.submitChequeDialog=e},expression:"submitChequeDialog"}},[a("v-card",[a("v-card-text",[a("cheque-form",{ref:"chequeForm",attrs:{modalMode:!0,isPaid:"p"==t.type[0],type:t.chequeType,selectedAccount:{account:t.item.account,floatAccount:t.item.floatAccount,costCenter:t.item.costCenter}},on:{submit:t.addCheque}})],1)],1)],1)],1)},s=[],n=a("b85c"),o=(a("caad"),a("2532"),a("4de4"),a("d3b7"),a("7db0"),a("ac1f"),a("12767"),a("159b"),a("4e827"),a("a49f")),r=a("b7e5"),l=a("3c1f"),c=a("0359"),u=(a("2ef0"),a("8a10")),d=a("b0f6"),m=a("6438"),p={name:"TransactionForm",components:{ChequeForm:u["a"],money:l["a"],date:c["a"]},mixins:[r["b"],o["a"],m["a"],d["a"]],props:{type:{required:!0},id:{},accountId:{},modalMode:{default:!1},contractModalMode:{default:!1}},data:function(){return{baseUrl:"transactions",appendSlash:!0,isDefinable:!0,hasList:!1,hasIdProp:!0,hasLock:!0,factorsDialog:!1,submitChequeDialog:!1,item:{},rows:[],itemsToDelete:[],chequeRowIndex:null,chequeType:"c",factors:[],factorTypes:{buy:"خرید",sale:"فروش",backFromBuy:"برگشت از خرید",backFromSale:"برگشت از فروش"}}},created:function(){this.getChequeMeta(),this.getDefaultAccounts(),this.getBankingOperations()},computed:{accountsType:function(){return this.isImprest?"imprests":this.isBankTransfer?"banks":"level3"},title:function(){return"receive"==this.type?"دریافت":"payment"==this.type?"پرداخت":this.isImprest?"پرداخت تنخواه":this.isBankTransfer?"پرداخت بین بانک ها":"receivedGuarantee"==this.type?"اسناد ضمانتی دریافتی":"paymentGuarantee"==this.type?"اسناد ضمانتی پرداختی":void 0},permissionBasename:function(){return"".concat(this.type,"Transaction")},isReceive:function(){return"receive"==this.type},isImprest:function(){return"imprest"==this.type},isBankTransfer:function(){return"bankTransfer"==this.type},isGuarantee:function(){return this.type.includes("Guarantee")},accountLabel:function(){return this.isImprest?"* تنخواه گردان":this.isBankTransfer?"* برداشت از حساب":" * کد - نام حساب"},rowAccountLabel:function(){return this.isBankTransfer?"* واریز به حساب":" * کد - نام حساب"},itemPaymentMethods:function(){if(this.isGuarantee)return this.GuaranteeTypes;var t="receive"==this.type?"receive":"payment";return this.defaultAccounts.filter((function(e){return e.usage&&e.usage.toLowerCase().includes(t)}))},itemAccounts:function(){return this.isBankTransfer?this.accountsSelectValues.banks:this.accountsSelectValues.levels[3]},isPaymentsValid:function(){var t,e=0,a=Object(n["a"])(this.factors);try{for(a.s();!(t=a.n()).done;){var i=t.value;e+=+i.payment.value}}catch(s){a.e(s)}finally{a.f()}return e<=this.rowsSum("value")}},watch:{"item.account":function(){this.item.account&&this.item.account.id&&this.getNotPaidFactors()},rows:{handler:function(){var t=this.rows[this.rows.length-1]["type"]["id"];this.isBankTransfer&&(t=this.rows[this.rows.length-1]["type"]["account"]),this.rows.length>0&&t&&this.rows.push(this.getRowTemplate())},deep:!0}},methods:{validatePaidValues:function(){if(this.isEditing){var t,e=0,a=Object(n["a"])(this.factors);try{for(a.s();!(t=a.n()).done;){var i=t.value,s=+i.payment.value;if(e+=s,s+ +i.previous_paid_value>+i.total_sum)return void this.notify("پرداختی فعلی فاکتور شماره ".concat(i.code," بیشتر از مانده آن است."),"danger")}}catch(o){a.e(o)}finally{a.f()}if(e>this.rowsSum("value"))return void this.notify("جمع کل مبلغ پرداختی فاکتور ها بیشتر از جمع ".concat(this.title," است"),"danger")}this.factorsDialog=!1},selectNotPaidFactor:function(t){var e,a=this,i=0,s=Object(n["a"])(t);try{var o=function(){var t=e.value,s=a.factors.find((function(e){return e.id==t}));if(s){var n=s.remain;a.rows.push(a.getRowTemplate()),s.payment.value=n,i+=n}else console.error("Factor Not Found : ",t);a.rows[0].value=i};for(s.s();!(e=s.n()).done;)o()}catch(r){s.e(r)}finally{s.f()}},getNotPaidFactors:function(){var t=this;this.item.account&&this.item.account.id&&(this.id&&(this.item.id=this.id),this.request({url:this.endpoint("transactions/factors"),method:"get",params:{transaction_type:this.type,transaction_id:this.item.id,account_id:this.item.account.id,floatAccount_id:this.item.floatAccount&&this.item.floatAccount.id,costCenter_id:this.item.costCenter&&this.item.costCenter.id},success:function(e){t.factors=e;var a=t.urlQuery.factorIds;a&&(a=a.split(","),t.selectNotPaidFactor(a))}}))},getItemByPosition:function(t){var e=this;return this.request({url:this.endpoint("".concat(this.baseUrl,"/byPosition")),method:"get",params:{id:this.item.id,position:t,type:this.type},success:function(t){e.setItem(t)}})},setAccount:function(t){var e=this.itemAccounts.filter((function(e){return e.id==t}))[0];this.item.account=e},validate:function(t){var e=this,a=!0;1==this.rows.length&&(this.notify("لطفا حداقل یک ردیف وارد کنید","danger"),a=!1),this.rows.forEach((function(t,i){i!=e.rows.length-1&&(e.hasValue(t.value)||(e.notify("لطفا مبلغ ردیف ".concat(i+1," را وارد کنید"),"danger"),a=!1),e.hasValue(t.date)&&10==t.date.length||(e.notify("لطفا تاریخ ردیف ".concat(i+1," را به صورت صحیح وارد کنید"),"danger"),a=!1))}));var i=0;this.factors.forEach((function(t){i+=+t.payment.value})),0!=i&&i>this.sum&&(this.notify("مبلغ وارد شده برای فاکتور های پرداختی باید کمتر و یا مساوری مجموع ردیف ها باشد","danger"),a=!1),a&&(this.modalMode?this.$emit("submit",this.getSerialized()):this.submit(t))},getSerialized:function(){var t=this,e={};return e.item=this.extractIds(this.item),e.item.type=this.type,e.items={items:[],ids_to_delete:this.itemsToDelete},this.rows.forEach((function(a,i){if(i==t.rows.length-1)return a;var s=t.copy(a);s.account=s.type.account,s.cheque&&(s.cheque=t.extractIds(s.cheque)),t.isBankTransfer&&(s.type=null),e.items.items.push(t.extractIds(s,"cheque"))})),e.payments={items:[],ids_to_delete:[]},this.factors.forEach((function(t){var a=t.payment;a.value?e.payments.items.push(a):a.id&&e.payments.ids_to_delete.push(a.id)})),e},hasBank:function(t){return!this.isChequeType(t)&&(!t.type.id||"cash"!=t.type.codename)},isChequeType:function(t){if(t.type.id&&t.type.codename){var e=t.type.codename.includes("Cheque"),a=void 0!=this.GuaranteeTypes.find((function(e){return e.codename==t.type.codename}));return e||a}return!1},hasCheque:function(t){return this.hasValue(t.cheque)},openSubmitChequeDialog:function(t,e){var a=this,i=this.item.account;i?!i.floatAccountGroup||this.item.floatAccount?!i.costCenterGroup||this.item.costCenter?(this.chequeRowIndex=e,this.isGuarantee?this.chequeType=t.type.codename:this.chequeType="c",this.submitChequeDialog=!0,this.$nextTick((function(){a.$refs.chequeForm.clearForm()}))):this.notify("لطفا مرکز هزینه و درآمد را انتخاب کنید","danger"):this.notify("لطفا حساب شناور را انتخاب کنید","danger"):this.notify("ابتدا حساب را انتخاب کنید","danger")},addCheque:function(t){if(this.hasValue(t.serial))if(this.hasValue(t.value))if(10==t.date.length&&10==t.due.length){var e=this.rows[this.chequeRowIndex];e.cheque=t,e.value=t.value,e.documentNumber=t.serial,e.date=t.date,e.due=t.due,e.bankName=t.bankName,e.value=t.value,e.explanation=t.explanation,this.submitChequeDialog=!1}else this.notify("لطفا تاریخ های را به صورت صحیح وارد کنید","danger");else this.notify("لطفا مبلغ را وارد کنید","danger");else this.notify("لطفا سریال را وارد کنید","danger")},clearForm:function(){this.log("Clear Item"),this.changeRouteTo(null),this.rows=[this.getRowTemplate()],this.item=this.getItemTemplate(),this.factors=[],this.itemsToDelete=[]},getItemTemplate:function(){return{account:null,floatAccount:null,costCenter:null,imprestSettlement:{},factorPayments:[],is_defined:!1}},splitValue:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.rowsSum("value"),a={},i=0;i<this.factors.length;i++)if(a=t?this.factors[this.factors.length-i-1]:this.factors[i],e>0){var s=a.remain;e>=s?(a.payment.value=s,e-=s):(a.payment.value=e,e=0)}else a.payment.value=0},getRowTemplate:function(){var t={value:0,type:{}};return t},setItem:function(t){var e=this;this.rows=[],this.item=t,this.itemsToDelete=[],t.items.sort((function(t,e){return t.order-e.order})).forEach((function(t){t=e.copy(t),null==t.type&&(t.type={account:t.account}),e.rows.push(t)})),this.rows.push(this.getRowTemplate()),this.modalMode||this.contractModalMode||this.changeRouteTo(t.id)}}},v=p,h=(a("d5c7"),a("2877")),f=a("6544"),_=a.n(f),b=a("c6a6"),x=a("8336"),g=a("b0af"),y=a("99d9"),k=a("cc20"),w=a("62ad"),C=a("169a"),E=a("132d"),$=a("0fd9"),T=a("1f4f"),S=a("2fa4"),V=a("b73d"),F=a("8654"),P=a("a844"),D=Object(h["a"])(v,i,s,!1,null,"9e2c24e2",null);e["a"]=D.exports;_()(D,{VAutocomplete:b["a"],VBtn:x["a"],VCard:g["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VChip:k["a"],VCol:w["a"],VDialog:C["a"],VIcon:E["a"],VRow:$["a"],VSimpleTable:T["a"],VSpacer:S["a"],VSwitch:V["a"],VTextField:F["a"],VTextarea:P["a"]})},"3c1f":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",t._g(t._b({staticClass:"currency-input",staticStyle:{"min-width":"80px"},attrs:{dir:"ltr",label:t.label,placeholder:t.placeholder,disabled:t.disabled,"smaller-font":t.formattedAmount.length>14,autocomplete:"off"},on:{input:t.change},scopedSlots:t._u([{key:"append",fn:function(){},proxy:!0}]),model:{value:t.formattedAmount,callback:function(e){t.formattedAmount=e},expression:"formattedAmount"}},"v-text-field",t.$attrs,!1),t.listeners))},s=[],n=a("5530"),o=(a("a9e3"),a("b680"),a("d3b7"),a("25f0"),a("ac1f"),a("12767"),a("a15b"),a("5319"),a("99af"),a("7fd9"),{name:"CleaveMoney",props:{value:{},decimalScale:{default:6},label:{},placeholder:{default:null},disabled:{default:!1}},data:function(){return{formattedAmount:""}},computed:{listeners:function(){var t=Object(n["a"])({},this.$listeners);return delete t.input,t}},mounted:function(){this.setAmount(this.value)},watch:{value:function(){this.value!=this.getAmount()&&this.setAmount(this.value)}},methods:{setAmount:function(t){if(t){var e=Number(t);e=Number(e.toFixed(this.decimalScale)),t=isNaN(e)?String(t):e.toString()}else t="";var a=t.split(".");t=a[0].split(",").join("");var i=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");2==a.length&&(i="".concat(i,".").concat(a[1].substr(0,6))),this.formattedAmount=i},getAmount:function(){var t=this.formattedAmount.split(",").join("").split(".");if(2==t.length)return"".concat(t[0],".").concat(t[1].substr(0,6));var e=t[0];return""==e?null:+e},change:function(t){this.setAmount(t),this.$emit("input",this.getAmount())}}}),r=o,l=(a("b4b0"),a("2877")),c=a("6544"),u=a.n(c),d=a("8654"),m=Object(l["a"])(r,i,s,!1,null,null,null);e["a"]=m.exports;u()(m,{VTextField:d["a"]})},"3d76":function(t,e,a){"use strict";a("a920")},"3f39":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-form",{ref:"MissionForm",attrs:{title:"ثبت ماموریت",showList:!1,listRoute:{name:"MissionList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[this.workshopPersonnel?t._e():a("v-autocomplete",{attrs:{label:" پرسنل در کارگاه",items:t.workshopPersonnels,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(t){}},model:{value:t.item.workshop_personnel,callback:function(e){t.$set(t.item,"workshop_personnel",e)},expression:"item.workshop_personnel"}}),this.workshopPersonnel?a("v-text-field",{attrs:{label:"پرسنل در کارگاه",disabled:"true"},model:{value:t.item.workshop_personnel=this.workshopPersonnel,callback:function(e){t.$set(t.item.workshop_personnel=this,"workshopPersonnel",e)},expression:"item.workshop_personnel = this.workshopPersonnel"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"نوع",items:t.MISSION_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},on:{change:function(e){return t.setValues(t.item)}},model:{value:t.item.mission_type,callback:function(e){t.$set(t.item,"mission_type",e)},expression:"item.mission_type"}})],1)],1),"d"==t.item.mission_type?a("v-row",[a("v-col",{attrs:{cols:"9",md:"6"}},[a("date",{attrs:{label:"* از تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.from_date,callback:function(e){t.$set(t.item,"from_date",e)},expression:"item.from_date"}})],1),a("v-col",{attrs:{cols:"9",md:"6"}},[a("date",{attrs:{label:"* تا تاریخ ",default:!0,disabled:!t.isEditing},model:{value:t.item.to_date,callback:function(e){t.$set(t.item,"to_date",e)},expression:"item.to_date"}})],1)],1):t._e(),"h"==t.item.mission_type?a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"* تاریخ ",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":t.time,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{disabled:!t.isEditing,label:"از ساعت","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:t.item.from_hour,callback:function(e){t.$set(t.item,"from_hour",e)},expression:"item.from_hour"}},"v-text-field",s,!1),i))]}}],null,!1,471493903),model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[t.modal2?a("v-time-picker",{attrs:{"full-width":""},model:{value:t.item.from_hour,callback:function(e){t.$set(t.item,"from_hour",e)},expression:"item.from_hour"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.modal2=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.time)}}},[t._v(" OK ")])],1):t._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-dialog",{ref:"dialog1",attrs:{"return-value":t.time,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{disabled:!t.isEditing,label:"تا ساعت","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:t.item.to_hour,callback:function(e){t.$set(t.item,"to_hour",e)},expression:"item.to_hour"}},"v-text-field",s,!1),i))]}}],null,!1,4145422650),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t.menu1?a("v-time-picker",{attrs:{"full-width":""},model:{value:t.item.to_hour,callback:function(e){t.$set(t.item,"to_hour",e)},expression:"item.to_hour"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu1=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog1.save(t.time)}}},[t._v(" OK ")])],1):t._e()],1)],1)],1):t._e(),t.item.mission_type?a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"مکان","background-color":"white",disabled:!t.isEditing},model:{value:t.item.location,callback:function(e){t.$set(t.item,"location",e)},expression:"item.location"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"موضوع","background-color":"white",disabled:!t.isEditing},model:{value:t.item.topic,callback:function(e){t.$set(t.item,"topic",e)},expression:"item.topic"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"توضیحات","background-color":"white",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),t.item.id?a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"مدت مرخصی به روز","background-color":"white",disabled:!t.isEditing},model:{value:t.item.time_period,callback:function(e){t.$set(t.item,"time_period",e)},expression:"item.time_period"}})],1):t._e()],1):t._e(),t.item.mission_type?a("v-row",{staticClass:"mt-10"},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-switch",{staticClass:"text-center pt-5",attrs:{label:"محاسبه حق ماموریت در حقوق مزایای ماهیانه",disabled:!t.isEditing,value:!0},model:{value:t.item.is_in_payment,callback:function(e){t.$set(t.item,"is_in_payment",e)},expression:"item.is_in_payment"}})],1),t.item.is_in_payment?a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-banner",{staticClass:"mt-2 ",attrs:{elevation:"6",outlined:"",rounded:"","single-line":"",sticky:""}},[a("v-icon",{attrs:{color:"orange",large:""}},[t._v("info ")]),t._v(" تبصره ماده ۴۶ قانون کار - ماموریت به موردی اطلاق می‌شود که"),a("br"),t._v(" کارگر برای انجام کار حداقل ۵۰ کیلومتر از محل کارگاه اصلی دور شود"),a("br"),t._v(" و یا ناگزیر باشد حداقل یک شب در محل ماموریت توقف نماید. ")],1)],1):t._e()],1):t._e()]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("summary-mission-list")],1)],1)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست ماموریت ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},b=[],x={name:"SummaryMissionList",props:{},data:function(){return{url:"payroll/mission/all",filters:{}}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display"},{text:" نوع",value:"mission_type_display"},{text:" مدت به روز",value:"time_period"},{text:" مکان",value:"location"}]}},methods:{to:function(t){return{name:"MissionDetail",params:{id:t.id}}}}},g=x,y=a("2877"),k=a("6544"),w=a.n(k),C=a("b0af"),E=a("99d9"),$=Object(y["a"])(g,_,b,!1,null,"dddf4310",null),T=$.exports;w()($,{VCard:C["a"],VCardText:E["c"],VCardTitle:E["d"]});var S={name:"MissionForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{SummaryMissionList:T,mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{MISSION_TYPES:[{name:" ساعتی",value:"h"},{name:"روزانه",value:"d"}],time:null,menu1:!1,modal2:!1,printUrl:"payroll/mission/request",isWorkshopConfirmed:!1,baseUrl:"payroll/mission",type:null,entitlement:null,permissionBasename:"mission",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",workshopPersonnel:this.$route.query.workshop_personnel,workshopPersonnels:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel"},{text:"نوع",value:"leave_type_display"},{text:"مدت به روز",value:"time_period"}]}},mounted:function(){var t=this;this.workshopPersonnel||this.request({url:this.endpoint("payroll/workshop/personnel/"),method:"get",success:function(e){for(var a in console.log(e),e)t.workshopPersonnels.push({name:e[a].personnel_name+" "+e[a].personnel_last_name+" in "+e[a].workshop_name,id:e[a].id});console.log(t.workshopPersonnels)}})},methods:{setValues:function(t){"e"==t.leave_type&&(console.log("ok"),this.entitlement=!0)},to:function(t){return{name:"MissionDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت ماموریت رد شد","warning")}}},V=S,F=a("c6a6"),P=a("e4e5"),D=a("8336"),A=a("62ad"),I=a("169a"),j=a("132d"),L=a("0fd9"),R=a("2fa4"),O=a("b73d"),q=a("8654"),B=a("c964"),U=Object(y["a"])(V,i,s,!1,null,"2464608e",null);e["default"]=U.exports;w()(U,{VAutocomplete:F["a"],VBanner:P["a"],VBtn:D["a"],VCol:A["a"],VDialog:I["a"],VIcon:j["a"],VRow:L["a"],VSpacer:R["a"],VSwitch:O["a"],VTextField:q["a"],VTimePicker:B["a"]})},"3fb7":function(t,e,a){"use strict";a("daf1")},4283:function(t,e,a){},"44b2":function(t,e,a){"use strict";a("5d5a")},"44b7":function(t,e,a){},"45ac":function(t,e,a){},4624:function(t,e,a){"use strict";a.r(e);var i=a("53ca"),s=a("b85c"),n=a("5530"),o=(a("caad"),a("b0c0"),a("4de4"),a("d3b7"),a("159b"),a("b64b"),a("2532"),a("ac1f"),a("12767"),a("2ca0"),a("fb6a"),a("a9e3"),a("a15b"),a("5319"),a("25f0"),a("b680"),a("2b0e")),r=a("a67b"),l=a.n(r),c=a("bc3a"),u=a.n(c),d={methods:{fillStore:function(t){var e=this,a=t.url,i=t.storeKey,s=t.reload,n=void 0!==s&&s,o=t.callback,r=void 0===o?null:o,l=this.$store.state[i];if((n||!l.length)&&this.canGet(i))return this.request({url:this.endpoint(a),method:"get",success:function(t){var a=i.charAt(0).toUpperCase()+i.slice(1);e.$store.commit("set".concat(a),t),r&&r(),e.EventBus.$emit("fetched:".concat(i)),e.toggleIsGetting(i)}})}}},m={mixins:[d],methods:{getServerUrl:function(){return"http://188.121.108.201:40/"},endpoint:function(t){return this.getServerUrl()+t},fetchStoreData:function(t){var e=this,a=t.url,i=t.storeKey,s=t.force,n=void 0!==s&&s,o=t.callback,r=void 0===o?null:o,l=this.$store.state[i];if((n||!l.length)&&this.canGet(i))return this.request({url:this.endpoint(a),method:"get",success:function(t){var a=i.charAt(0).toUpperCase()+i.slice(1);e.$store.commit("set".concat(a),t),r&&r(),e.EventBus.$emit("fetched:".concat(i)),e.toggleIsGetting(i)}})},request:function(t){var e=this;0!=t.loading&&this.$store.commit("incrementOGR");var a={};0!=t.token&&this.appendToken(a),t.method||(t.method="get"),new Promise((function(i,s){u.a.defaults.timeout=3e5;var n=u.a;n.request({headers:a,url:t.url,method:t.method,data:t.data,params:t.params}).then((function(a){e.$store.commit("decrementOGR");var i=a.data;i.token&&e.setToken(),t.success(a.data)})).catch((function(a){e.$store.commit("decrementOGR"),t.error?t.error(a):e.handleError(a,t)}))}))},handleError:function(t,e){if(t.response){var a=t.response.status;401==a?this.handle_401(t):403==a?this.handle_403(t):400==a?this.handle_400(t):404==a?this.handle_404(t,e):406==a?this.handle_406(t,e):429==a&&this.handle_429(t,e)}else this.handle_noResponse(t,e)},appendToken:function(t){this.token?t["Authorization"]="Token "+this.token:console.warn("user is not login")},handle_403:function(t){this.notify(t.response.data[0].messages[0],"warning")},handle_401:function(t){"Login"!=this.$router.currentRoute.name&&(this.notify("شما از سامانه خارج شده اید","warning"),this.setToken(""),this.$router.push({name:"Login",query:{redirectUrl:this.$route.fullPath}}))},handle_404:function(t,e){this.notify("مورد وجود ندارد","warning")},handle_400:function(t){var e,a=t.response.data,n=Object(s["a"])(a);try{for(n.s();!(e=n.n()).done;){var o=e.value,r="";r=Object(i["a"])(o)==Object(i["a"])("")?o:"non_field_errors"==o.field||""==o.field?o.messages[0]:o.field+" : "+o.messages,this.notify(r,"danger");break}}catch(l){n.e(l)}finally{n.f()}},handle_406:function(t,e){var a,i=t.response.data,n=Object(s["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(!confirm(o.messages[0]))return}}catch(r){n.e(r)}finally{n.f()}e.data?e.data._confirmed=!0:e.data={_confirmed:!0},this.request(e)},handle_429:function(t,e){this.notify("تعداد درخواست های شما بیش از حد مجاز است","danger")},handle_noResponse:function(t,e){console.warn("NO RESPONSE FROM SERVER: ",e.url),console.warn(t),alert("خطا در برقراری ارتباط با سرور")}}},p=a("56d7"),v=a("2f62");o["a"].mixin({mixins:[m],data:function(){return{token:null}},computed:Object(n["a"])(Object(n["a"])({EventBus:function(){return p["EventBus"]}},Object(v["b"])({user:function(t){return t.user},financialYear:function(t){return t.user&&t.user.active_financial_year||null},isAdvari:function(t){return t.user&&t.user.active_financial_year&&"a"==t.user.active_financial_year.warehouse_system||null},company:function(t){return t.user&&t.user.active_company||null},systemOptions:function(t){return t.options},OGR:function(t){return t.OGR},serverNow:function(t){return t.serverNow},isPrinting:function(t){return t.isPrinting}})),{},{isDev:function(){return!1},urlQuery:function(){return this.$route.query},isXs:function(){return window.innerWidth<=600},isSm:function(){return window.innerWidth>=600&&window.innerWidth<960},isMd:function(){return window.innerWidth>=960&&window.innerWidth<1264}}),created:function(){this.token=localStorage.getItem("token"),this.token||!this.$route||["Login","Register","ForgetPassword"].includes(this.$route.name)||this.$router.push({name:"Login"})},mounted:function(){},methods:{tabEmit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=new BroadcastChannel(t);a.postMessage(e)},tabOn:function(t,e){var a=new BroadcastChannel(t);a.onmessage=e},canGet:function(t){var e=this.$store.state.isGetting[t];return e||this.toggleIsGetting(t),!e},toggleIsGetting:function(t){var e=this.$store.state.isGetting[t],a={};a[t]=!e,this.$store.commit("updateIsGetting",a)},downloadUrl:function(t){var e=document.createElement("a");e.href=t,e.target="_blank",e.rel="noopener noreferrer",e.click(),e.remove()},newTab:function(t){var e=this.$router.resolve(t);window.open(e.href,"_blank")},getOptionValue:function(t){return this.systemOptions.filter((function(e){return e.codename==t}))[0].value},askConfirmations:function(t){var e,a=Object(s["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,n=confirm(i.text);if(!n)return!1}}catch(o){a.e(o)}finally{a.f()}return!0},initTooltips:function(){$((function(){$('[data-toggle="tooltip"]').tooltip()}))},extractIds:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this.copy(t);return Object.keys(a).forEach((function(t){e&&e.length&&e.includes(t)||a[t]&&"object"==Object(i["a"])(a[t])&&"id"in a[t]&&(a[t]=a[t].id)})),a},successNotify:function(){this.notify("عملیات با موفقیت انجام شد","success")},notify:function(t,e){var a={danger:"red",warning:"orange",success:"green"};this.$store.commit("setSnackbar",{show:!0,color:a[e],text:t})},hasPerm:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.$store.state.user;if(n.is_superuser)return!0;if(this.company&&n.id==this.company.superuser)return!0;var o,r=n.roles.filter((function(e){return t.company&&e.company==t.company.id})),l=Object(s["a"])(r);try{for(l.s();!(o=l.n()).done;){var c,u=o.value,d=Object(s["a"])(u.permissions);try{for(d.s();!(c=d.n()).done;){var m=c.value,p=m.codename.split(".");if(p[0].startsWith(e)&&p[1].startsWith(a))return!i||!p.includes("Own")||i.created_by==n.id}}catch(v){d.e(v)}finally{d.f()}}}catch(v){l.e(v)}finally{l.f()}return!1},hasModule:function(t){var e=this.$store.state.user;return e&&(e.is_staff||e.modules.includes(t))},goTo:function(t){$("body,html").scrollTop($(t).offset().top-$("selector").height()-50)},setToken:function(t){localStorage.setItem("token",t),this.token=t},copy:function(t){var e=null;return e=Array.isArray(t)?t.slice():Object.assign({},t),e},log:function(t){console.log(l()().format("HH:mm:ss:SS"),t)},openFactor:function(t){var e=this.$router.resolve({name:"FactorForm",params:{isPreFactor:t.is_pre_factor,type:t.type,id:t.id}});window.open(e.href,"_blank")},hasValue:function(t){return!["",0,"0",void 0,null].includes(t)},toGDate:function(t){return l()(t,"jYYYY-jMM-jDD").format("YYYY-MM-DD")},toMoney:function(t){var e=!1;if(t){var a=Number(t);a<0&&(e=!0,a=-a),t=isNaN(a)?String(t):String(a)}else t="";t=t.split(",").join("");var i=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return e?"-".concat(i):i},todayDate:function(){return l()().format("jYYYY/jMM/jDD")},getRandomId:function(){return"rid-"+Math.floor(1e4*Math.random())},updateQueryString:function(t,e){var a=this.$route,i=Object(n["a"])({},a.query);i[t]=e,this.$router.push({name:a.name,params:a.params,query:i})}},filters:{toJalali:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jYYYY/jMM/jDD";return l()(t).format(e)},toMoney:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=!1;if(null==t||void 0==t)t="";else{var i=Number(t);i=Number(i.toFixed(e)),i<0&&(a=!0,i=-i),t=isNaN(i)?String(t):i.toString()}t=t.split(",").join("");var s=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return a?"-".concat(s):s}}})},4633:function(t,e,a){"use strict";var i=a("12b9");e["a"]={components:{OpenSanadBtn:i["a"]},data:function(){return{editable:!1}},created:function(){this.setEditable()},watch:{id:function(){this.setEditable()}},methods:{setEditable:function(){this.id?this.editable=!1:this.editable=!0},makeFormEditable:function(){this.editable=!0},makeFormUneditable:function(){this.editable=!1}}}},4678:function(t,e,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id="4678"},4871:function(t,e,a){"use strict";a("d434")},"4b5a":function(t,e,a){"use strict";a("29e2")},"4e43":function(t,e,a){},"510c":function(t,e,a){},5198:function(t,e,a){"use strict";a("caad"),a("2532"),a("ac1f"),a("12767"),a("d3b7"),a("fb6a"),a("a9e3");var i={props:{itemObject:{}},computed:{urlQuery:function(){return this.$route.query}},watch:{urlQuery:function(){this.setDefaults(this.urlQuery)},itemObject:function(){this.setDefaults(this.urlQuery)}},created:function(){var t=this;this.EventBus.$on("get:accounts",(function(){return t.setDefaults(t.urlQuery)})),this.EventBus.$on("get:wares",(function(){return t.setDefaults(t.urlQuery)}))},mounted:function(){this.setDefaults(this.urlQuery)},methods:{setDefaults:function(t){var e=this;this.$nextTick((function(){for(var a in e.itemObject&&(e.item=e.itemObject),t)if(a.includes(".")){var i=a.split("."),s=i.slice(0,i.length-1).reduce((function(t,e){return t[e]}),e),n=i[i.length-1],o=t[a];isNaN(o)||null==o||(o=Number(o)),e.$set(s,n,o),e.EventBus.$emit("set:".concat(a),o)}}))}}};e["a"]=i},"53c2":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{"no-gutters":""}},t._l(t.levelsCount,(function(e,i){return a("v-col",{key:i,class:0!=i?"pr-3":"pr-0"},[0==i||t.selectedLevels[i-1]&&t.selectedLevels[i-1].length?a("v-autocomplete",{attrs:{label:t.getTitle(i),items:t.getItems(i),"item-text":t.levelText,"item-value":"id",multiple:!0,clearable:!0,"small-chips":!0,"deletable-chips":!0,"return-object":!0},on:{input:function(e){return t.emit(i)},"click:clear":function(e){return t.emit(i)}},model:{value:t.selectedLevels[i],callback:function(e){t.$set(t.selectedLevels,i,e)},expression:"selectedLevels[i]"}}):t._e()],1)})),1)},s=[],n=a("2909"),o=a("b85c"),r=a("5530"),l=(a("d81d"),a("4de4"),a("d3b7"),a("7db0"),a("99af"),a("2ca0"),a("a15b"),a("ac1f"),a("12767"),a("7eac")),c={name:"TreeSelect",props:{levelsCount:{require:!0},items:{require:!0},labels:{require:!0},itemText:{default:"text"},itemsIn:{}},data:function(){return{selectedLevels:[]}},created:function(){for(var t=[],e=0;e<this.levelsCount;e++)t.push([]);this.$set(this,"selectedLevels",t)},computed:{nodes:function(){return this.buildTree(this.items)},levelText:function(){return"title"}},methods:{buildTree:function(t){var e=this,a=this.copy(t);a=a.map((function(t){return Object(r["a"])({children:[],title:e.getItemText(t)},t)}));var i,s=Object(o["a"])(a);try{var n=function(){var t=i.value,s=a.find((function(e){return e.id==t.parent}));s&&(t.title="".concat(e.getItemText(t)," > ").concat(e.getItemText(t)),s.children.push(t))};for(s.s();!(i=s.n()).done;)n()}catch(c){s.e(c)}finally{s.f()}var l=a.filter((function(t){return!t.parent}));return l},getTitle:function(t){return Object(l["d"])(this.labels,t)},getItems:function(t){if(0==t)return this.nodes;var e=[],a=this.selectedLevels[t-1];if(a){var i,s=Object(o["a"])(this.selectedLevels[t-1]);try{for(s.s();!(i=s.n()).done;){var r=i.value;e.push.apply(e,Object(n["a"])(r.children))}}catch(l){s.e(l)}finally{s.f()}}return e},clearSelectedLevels:function(t){for(var e=t+1;e<this.levelsCount;e++)this.selectedLevels[e]=null},emit:function(t){var e=this;this.clearSelectedLevels(t);var a=[];if(t==this.levelsCount-1)a=this.selectedLevels[t];else{var i=this.selectedLevels[t];a=this.items.filter((function(t){return t.level==e.levelsCount-1})).filter((function(t){var e,a=Object(o["a"])(i);try{for(a.s();!(e=a.n()).done;){var s=e.value;if(t.code.startsWith(s.code))return!0}}catch(n){a.e(n)}finally{a.f()}return!1}))}this.$emit("update:itemsIn",a.map((function(t){return t.id})).join(","))},getItemText:function(t){var e=this.itemText.split(".").reduce((function(t,e){return t?t[e]:null}),t);return e}}},u=c,d=a("2877"),m=a("6544"),p=a.n(m),v=a("c6a6"),h=a("62ad"),f=a("0fd9"),_=Object(d["a"])(u,i,s,!1,null,null,null);e["a"]=_.exports;p()(_,{VAutocomplete:v["a"],VCol:h["a"],VRow:f["a"]})},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"EventBus",(function(){return Nh}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"},nativeOn:{click:function(e){return e.ctrlKey&&e.altKey?void(t.developersDialog=!0):null}}},[t.isAppReady?[a("v-system-bar",{directives:[{name:"show",rawName:"v-show",value:!t.isPrinting,expression:"!isPrinting"}],staticClass:"indigo lighten-5",attrs:{app:""}},[a("m-system-bar")],1),t.user?a("v-navigation-drawer",{directives:[{name:"show",rawName:"v-show",value:!t.isPrinting,expression:"!isPrinting"}],staticClass:"indigo lighten-1 white--text",attrs:{app:"",fixed:"",clipped:"",dark:"",right:"",temporary:t.isXs,permanent:!t.isXs,"mini-variant":!t.isXs,"expand-on-hover":!t.isXs,"mobile-breakpoint":0},model:{value:t.showDrawer,callback:function(e){t.showDrawer=e},expression:"showDrawer"}},[a("m-navbar",{on:{logout:t.logout}})],1):t._e(),t.user?a("v-app-bar",{directives:[{name:"show",rawName:"v-show",value:!t.isPrinting,expression:"!isPrinting"}],staticClass:"indigo darken-1 app-bar",attrs:{app:"","clipped-right":""}},[t.isXs?a("v-app-bar-nav-icon",{staticClass:"white--text ml-4",on:{click:function(e){t.showDrawer=!t.showDrawer}}}):t._e(),a("v-btn",{staticClass:"white",attrs:{to:{name:"Companies"},depressed:"",title:t.company&&t.company.id}},[t.company?a("span",[t._v(t._s(t.company.name))]):a("span",[t._v("انتخاب شرکت")])]),t.financialYear?a("v-btn",{staticClass:"text-right white mr-1",attrs:{to:{name:"FinancialYears"},depressed:"",title:t.financialYear.id}},[a("span",{staticClass:"pl-1"},[t._v("سال مالی")]),t._v(" "+t._s(t.financialYear.name)+" ")]):t._e(),t.hasPerm("create","sanad")&&t.hasModule("sanads")?a("v-btn",{staticClass:"blue white--text mr-3 app-bar-btn",attrs:{to:{name:"SanadForm"},icon:"",large:"",title:"سند"},on:{click:function(e){return t.routeClick("SanadForm")}}},[a("v-icon",{attrs:{large:""}},[t._v("$sanadIcon")])],1):t._e(),t.hasPerm("create","receiveTransaction")&&t.hasModule("transactions")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"TransactionForm",params:{type:"receive"}},icon:"",title:"دریافت"},on:{click:function(e){return t.routeClick("TransactionForm")}}},[a("v-icon",[t._v("$receiveTransactionIcon")])],1):t._e(),t.hasPerm("create","paymentTransaction")&&t.hasModule("transactions")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"TransactionForm",params:{type:"payment"}},icon:"",title:"پرداخت"},on:{click:function(e){return t.routeClick("TransactionForm")}}},[a("v-icon",[t._v("$paymentTransactionIcon")])],1):t._e(),t.hasPerm("create","saleFactor")&&t.hasModule("factors")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"FactorForm",params:{isPreFactor:!1,type:"sale"}},icon:"",title:"فاکتور فروش"},on:{click:function(e){return t.routeClick("FactorForm")}}},[a("v-icon",[t._v("$outputFactorIcon")])],1):t._e(),t.hasPerm("create","buyFactor")&&t.hasModule("factors")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"FactorForm",params:{isPreFactor:!1,type:"buy"}},icon:"",title:"فاکتور خرید"},on:{click:function(e){return t.routeClick("FactorForm")}}},[a("v-icon",[t._v("$inputFactorIcon")])],1):t._e(),t.hasPerm("get","sanadItemsReport")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"LedgerReport",params:{level:"level3"}},icon:"",title:"گردش حساب"}},[a("v-icon",[t._v("$ledgerReportIcon")])],1):t._e(),t.hasPerm("get","accountBalanceReport")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"AccountsBalanceReport"},icon:"",title:"تراز حساب ها"}},[a("v-icon",[t._v("$balanceReportIcon")])],1):t._e(),t.hasPerm("get","account")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"Accounts",params:{level:3}},icon:"",title:"تعریف حساب"}},[a("v-icon",[t._v("$accountIcon")])],1):t._e(),a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"Accounts",params:{level:3,accountType:"p"},query:{showForm:!0}},title:"تعریف حساب اشخاص",icon:""}},[a("v-icon",[t._v("fa-users")])],1),t.hasPerm("get","account")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"AccountsTree"},title:"نمودار درختی",icon:""}},[a("v-icon",[t._v("$accountsTreeIcon")])],1):t._e(),t.hasPerm("get","wareInventoryReport")?a("v-btn",{staticClass:"blue white--text app-bar-btn",attrs:{to:{name:"DetailedWareInventoryReport"},title:"کاردکس کالا",icon:""}},[a("v-icon",[t._v("fa-pallet")])],1):t._e(),a("v-spacer"),a("v-chip",{staticClass:"mr-1",attrs:{to:{name:"NotificationsList"},color:"white",small:!1,title:"اعلان ها"}},[0!=t.user.unread_notifications_count?a("v-avatar",{staticClass:"red white--text",attrs:{"x-small":"",left:""}},[t._v(t._s(t.user.unread_notifications_count))]):t._e(),a("v-icon",[t._v("far fa-bell")])],1),a("v-btn",{staticClass:"white mr-2",attrs:{to:{name:"Profile"},depressed:"",title:t.user.id}},[t._v(t._s(t.user.name))]),a("span",{staticClass:"mx-3"},[a("v-btn",{staticClass:"rotate-180",attrs:{text:"",icon:"",color:"white"},on:{click:t.logout}},[a("v-icon",[t._v("logout")])],1)],1),a("span",{staticClass:"white pa-1 rounded"},[a("a",{attrs:{href:"https://sobhan.net"}},[a("v-img",{staticStyle:{"border-radius":"30%"},attrs:{contain:"","max-height":"50","max-width":"50",src:"/img/SobhanAccountingLogo.png"}})],1)])],1):t._e(),a("v-main",{staticClass:"app-background-color"},[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("v-footer",{staticClass:"indigo lighten-5"},[a("m-footer")],1),a("v-snackbar",{attrs:{value:t.snackbar.show,color:t.snackbar.color,left:!0,outlined:!1,top:""},on:{input:function(e){return t.$store.commit("setSnackbar",{show:!1})}}},[a("v-btn",{attrs:{color:"white",icon:""},on:{click:function(e){return t.$store.commit("setSnackbar",{show:!1})}}},[a("v-icon",[t._v("fa-times")])],1),t._v(" "+t._s(t.snackbar.text)+" ")],1)]:t._e(),a("v-dialog",{attrs:{scrollable:"","max-width":"500px",transition:"dialog-transition"},model:{value:t.developersDialog,callback:function(e){t.developersDialog=e},expression:"developersDialog"}},[a("v-card",{staticClass:"ltr"},[a("v-card-title",{staticClass:"text-center"},[t._v("Welcome Developer!")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:"Server Url",hint:"http://localhost:7000/","hide-details":!1,"persistent-hint":""},model:{value:t.serverUrl,callback:function(e){t.serverUrl=e},expression:"serverUrl"}})],1)],1)],1)],1)],1),a("loader")],2)},n=[],o=a("5530"),r=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{staticClass:"navbar-list white--text",attrs:{nav:"",dense:""}},[t.user&&t.isXs?a("v-list-item",{attrs:{flat:""}},[a("span",{staticClass:"d-block mx-auto px-5 py-2",staticStyle:{width:"100%"}},[a("v-img",{staticClass:"mx-auto",staticStyle:{"border-radius":"30%"},attrs:{contain:"",width:"60%",src:"/img/SobhanAccountingLogo.png"}})],1)]):t._e(),t.user&&t.isXs?a("v-list-item",{staticClass:"grey lighten-4",attrs:{flat:""}},[a("v-list-item-icon",[a("v-icon",{staticClass:"navbar-icon indigo--text mt-3 mr-1"},[t._v("fa fa-user")])],1),a("v-list-item-content",{staticClass:"black--text"},[a("v-list-item-title",{staticClass:"text-center"},[t._v(t._s(t.user.name))])],1),a("v-list-item-action",[a("v-btn",{staticClass:"rotate-180",attrs:{text:"",icon:"",color:"red"},on:{click:function(e){return t.$emit("logout")}}},[a("v-icon",[t._v("logout")])],1)],1)],1):t._e(),t._l(t.routes,(function(e,i){return e.show?a("navbar-list-item",{key:i,staticClass:"level-0",attrs:{route:e,level:1}}):t._e()}))],2)}),l=[],c=a("b85c"),u=(a("7db0"),a("d3b7"),a("caad"),a("2532"),a("a605")),d=a("7eac"),m={name:"NavBar",components:{NavbarListItem:u["default"]},data:function(){return{}},computed:{allRoutes:function(){return[{title:"خانه",icon:"fa-home",to:{name:"Home"}},{title:"اطلاعات پایه",icon:"fa-database",children:[{title:"یاداور",to:{name:"NotificationForm",params:{type:"reminder"}}},{title:"ارسال اعلان",perm:"notification",to:{name:"NotificationForm",params:{type:"send"}}},{to:{name:"UserInvitations"},title:"دعوت نامه ها",perm:"user"},{to:{name:"Users"},title:"کاربران",perm:"user"},{to:{name:"Roles"},title:"نقش ها",perm:"role"},{title:"شرکت ها",to:{name:"Companies"},perm:"company"},{title:"سال های مالی",to:{name:"FinancialYears"},perm:"financialYear"},{perm:"exportVerifier",to:{name:"ExportVerifiers"},title:"تایید کنندگان خروجی"}]},{title:"حسابداری",icon:"fa-wallet",module:"sanads",children:[{title:"تعریف حساب",children:[{to:{name:"Accounts",params:{level:0}},title:"گروه حساب",perm:"account0"},{perm:"account1",to:{name:"Accounts",params:{level:1}},title:"حساب کل"},{perm:"account2",to:{name:"Accounts",params:{level:2}},title:"حساب معین"},{perm:"account3",to:{name:"Accounts",params:{level:3}},title:"حساب تفضیلی"},{perm:"account3",to:{name:"Accounts",params:{level:3,accountType:"p"}},title:"اشخاص"},{perm:"account3",to:{name:"Accounts",params:{level:3,accountType:"b"}},title:"بانک"},{perm:"account",to:{name:"AccountsTree"},title:"نمودار درختی حساب ها"}]},{title:"تعریف شناور و مراکز",children:[{perm:"floatAccountGroup",to:{name:"FloatAccountGroups"},title:"گروه حساب شناور"},{perm:"floatAccount",to:{name:"FloatAccounts"},title:"حساب شناور"},{perm:"floatAccountGroup",to:{name:"FloatAccountGroups",params:{is_cost_center:!0}},title:"گروه مرکز هزینه و درآمد"},{perm:"floatAccount",to:{name:"FloatAccounts",params:{is_cost_center:!0}},title:"مرکز هزینه و درآمد"}]},{perm:"create.sanad",to:{name:"SanadForm"},title:"ثبت سند"},{title:"لیست اسناد",children:[{perm:"sanad",to:{name:"SanadsList",params:{type:"all"}},title:"تمامی اسناد"},{perm:"sanad",to:{name:"SanadsList",params:{type:"unbalanced"}},title:"اسناد نامتوازن"},{perm:"sanad",to:{name:"SanadsList",params:{type:"empty"}},title:"اسناد خالی"},{perm:"sanad",to:{name:"SanadsList",params:{type:"notDefined"}},title:"اسناد غیر قطعی"},{perm:"sanad",to:{name:"SanadItemsList"},title:"جزئیات اسناد"}]},{perm:"financialYear",to:{name:"Closing"},title:"عملیات بستن و انتقال"},{title:"حساب های پیش فرض",children:[{perm:"defaultAccounts",to:{name:"DefaultAccounts",params:{usage:"closeAccounts"}},title:"حساب های بستن"},{perm:"defaultAccounts",to:{name:"DefaultAccounts",params:{usage:"other"}},title:"سایر حساب ها"}]}]},{title:"خزانه داری",icon:"$safeIcon",module:"transactions",children:[{title:"اطلاعات پایه",children:[{perm:"chequebook",to:{name:"ChequebookForm"},title:"ثبت دسته چک"},{perm:"defaultAccount",to:{name:"DefaultAccounts",params:{usage:"receive"}},title:"حساب های پیش فرض دریافت"},{perm:"defaultAccount",to:{name:"DefaultAccounts",params:{usage:"payment"}},title:"حساب های پیش فرض پرداخت"},{perm:"defaultAccount",to:{name:"DefaultAccounts",params:{usage:"guarantee"}},title:"پیشفرض های حساب های انتظامی"}]},{title:"دریافت",children:[{perm:"receiveTransaction",to:{name:"TransactionForm",params:{type:"receive"}},title:"ثبت دریافت"},{perm:"receiveTransaction",to:{name:"TransactionsList",params:{type:"receive"}},title:"لیست دریافت ها"},{perm:"receivedGuaranteeTransaction",to:{name:"TransactionForm",params:{type:"receivedGuarantee"}},title:"ثبت اسناد ضمانتی دریافتی"},{perm:"receivedGuaranteeTransaction",to:{name:"TransactionsList",params:{type:"receivedGuarantee"}},title:"لیست اسناد ضمانتی دریافتی"},{perm:"receivedCheque",to:{name:"ChequeForm",params:{type:"c",isPaid:!1}},title:"ثبت چک دریافتنی"},{perm:"receivedCheque",to:{name:"ChequesList",params:{type:"c",isPaid:!1}},title:"لیست چک های دریافتی"},{perm:"receivedCheque",to:{name:"ChequesList",params:{type:"c",isPaid:!1},query:{status__in:"notPassed,bounced",due__lt:this.serverNow?this.serverNow.format("jYYYY-jMM-jDD"):""}},title:"لیست چک های دریافتی پاس نشده و برگشتی سررسید گذشته"}]},{title:"پرداخت",children:[{perm:"paymentTransaction",to:{name:"TransactionForm",params:{type:"payment"}},title:"ثبت پرداخت"},{perm:"paymentTransaction",to:{name:"TransactionsList",params:{type:"payment"}},title:"لیست پرداخت ها"},{perm:"paymentGuaranteeTransaction",to:{name:"TransactionForm",params:{type:"paymentGuarantee"}},title:"ثبت اسناد ضمانتی پرداختی"},{perm:"paymentGuaranteeTransaction",to:{name:"TransactionsList",params:{type:"paymentGuarantee"}},title:"لیست اسناد ضمانتی پرداختی"},{perm:"bankTransferTransaction",to:{name:"TransactionForm",params:{type:"bankTransfer"}},title:"ثبت پرداخت بین بانک ها"},{perm:"bankTransferTransaction",to:{name:"TransactionsList",params:{type:"bankTransfer"}},title:"لیست پرداخت های بین بانک ها"},{perm:"paidCheque",to:{name:"ChequeForm",params:{type:"c",isPaid:!0}},title:"ثبت چک پرداختنی"},{perm:"paidCheque",to:{name:"ChequesList",params:{type:"c",isPaid:!0}},title:"لیست چک های پرداختنی"},{perm:"paidCheque",to:{name:"ChequesList",params:{type:"c",isPaid:!0},query:{status__in:"notPassed,bounced",due__lt:this.serverNow?this.serverNow.format("jYYYY-jMM-jDD"):""}},title:"لیست چک های پرداختی پاس نشده و برگشتی سررسید گذشته"}]},{title:"تنخواه",children:[{perm:"imprestTransaction",title:"پرداخت تنخواه",to:{name:"TransactionForm",params:{type:"imprest"}}},{perm:"imprestTransaction",to:{name:"TransactionsList",params:{type:"imprest"}},title:"لیست پرداخت های تنخواه"},{perm:"defaultAccount",title:"حساب های پیشفرض تنخواه",to:{name:"DefaultAccounts",params:{usage:"imprest"}}}]},{title:"عملیات های بین بانکی",perm:"bankingOperation",to:{name:"BankingOperations"}}]},{title:"بازرگانی",icon:"$buySaleIcon",module:"factors",children:[{title:"پیشفرض های فاکتور",children:[{perm:"defaultAccount",to:{name:"DefaultAccounts",params:{usage:"factor"}},title:"حساب ها"},{perm:"defaultTexts",to:{name:"DefaultTexts",params:{usage:"factor"}},title:"متون"}]},{title:"تعریف کالا",children:[{perm:"ware",to:{name:"Wares",params:{level:0}},title:"ماهیت"},{perm:"ware",to:{name:"Wares",params:{level:1}},title:"گروه"},{perm:"ware",to:{name:"Wares",params:{level:2}},title:"دسته بندی"},{perm:"ware",to:{name:"Wares",params:{level:3}},title:"کالا"},{perm:"ware",to:{name:"WaresTree"},title:"نمودار درختی کالا ها"},{perm:"salePriceType",to:{name:"SalePriceTypes"},title:"انواع نرخ های فروش"},{perm:"warehouse",to:{name:"Warehouses"},title:"انبار"},{perm:"unit",to:{name:"Units"},title:"واحد"},{perm:"firstPeriodInventory",to:{name:"FactorForm",params:{isPreFactor:!1,type:"fpi"}},title:"ثبت موجودی اول دوره"}]},{title:"پیش فاکتور",children:[{title:"ثبت پیش فاکتور فروش",perm:"saleFactor",to:{name:"FactorForm",params:{isPreFactor:!0,type:"sale"}}},{title:"لیست پیش فاکتور های فروش",perm:"buyFactor",to:{name:"FactorsList",params:{isPreFactor:!0,type:"sale"}}},{title:"ثبت پیش فاکتور خرید",perm:"buyFactor",to:{name:"FactorForm",params:{isPreFactor:!0,type:"buy"}}},{title:"لیست پیش فاکتور های خرید",perm:"buyFactor",to:{name:"FactorsList",params:{isPreFactor:!0,type:"buy"}}}]},{title:"فاکتور خرید",children:[{perm:"factorExpenses",to:{name:"FactorExpenses",params:{factorType:"buy"}},title:"هزینه های فاکتور خرید"},{title:"ثبت فاکتور خرید",perm:"buyFactor",to:{name:"FactorForm",params:{isPreFactor:!1,type:"buy"}}},{perm:"buyFactor",to:{name:"FactorsList",params:{isPreFactor:!1,type:"buy"}},title:"لیست فاکتور های خرید"},{title:"ثبت سند تجمیعی فاکتور خرید",perm:"buyFactorsAggregatedSanad",to:{name:"FactorsAggregatedSanadForm",params:{type:"buy"}}},{title:"لیست اسناد تجمیعی فاکتور خرید",perm:"buyFactorsAggregatedSanad",to:{name:"FactorsAggregatedSanadsList",params:{type:"buy"}}}]},{title:"فاکتور فروش",children:[{perm:"factorExpenses",to:{name:"FactorExpenses",params:{factorType:"sale"}},title:"هزینه های فاکتور فروش"},{perm:"saleFactor",to:{name:"FactorForm",params:{isPreFactor:!1,type:"sale"}},title:"ثبت فاکتور فروش"},{perm:"saleFactor",to:{name:"FactorsList",params:{isPreFactor:!1,type:"sale"}},title:"لیست فروش"},{title:"ثبت سند تجمیعی فاکتور فروش",perm:"saleFactorsAggregatedSanad",to:{name:"FactorsAggregatedSanadForm",params:{type:"sale"}}},{title:"لیست اسناد تجمیعی فاکتور فروش",perm:"saleFactorsAggregatedSanad",to:{name:"FactorsAggregatedSanadsList",params:{type:"sale"}}}]},{title:"برگشت از خرید",children:[{perm:"backFromBuyFactor",to:{name:"FactorForm",params:{isPreFactor:!1,type:"backFromBuy"}},title:"ثبت برگشت از خرید"},{perm:"backFromBuyFactor",to:{name:"FactorsList",params:{isPreFactor:!1,type:"backFromBuy"}},title:"لیست برگشت از خرید"}]},{title:"برگشت از فروش",children:[{perm:"backFromSaleFactor",to:{name:"FactorForm",params:{isPreFactor:!1,type:"backFromSale"}},title:"ثبت برگشت از فروش"},{perm:"backFromSaleFactor",to:{name:"FactorsList",params:{isPreFactor:!1,type:"backFromSale"}},title:"لیست برگشت از فروش"}]}]},{title:"انبار",icon:"$warehouseIcon",module:"warehouses",children:[{title:"رسید",children:[{perm:"receipt",to:{name:"FactorForm",params:{type:"rc",isPreFactor:!1}},title:"ثبت رسید"},{perm:"receipt",to:{name:"FactorsList",params:{type:"rc",isPreFactor:!1}},title:"لیست رسید ها"}]},{title:"حواله",children:[{perm:"remittance",to:{name:"FactorForm",params:{type:"rm",isPreFactor:!1}},title:"ثبت حواله"},{perm:"remittance",to:{name:"FactorsList",params:{type:"rm",isPreFactor:!1}},title:"لیست حواله ها"}]},{title:"انتقال",children:[{perm:"transfer",to:{name:"TransferForm"},title:"ثبت انتقال"},{perm:"transfer",to:{name:"TransfersList"},title:"لیست انتقال ها"}]},{title:"تعدیل",children:[{title:"رسید تعدیل انبار",perm:"adjustment",to:{name:"AdjustmentForm",params:{type:"ia"}}},{perm:"adjustment",to:{name:"AdjustmentsList",params:{type:"ia"}},title:"لیست رسید های تعدیل انبار"},{title:"حواله تعدیل انبار",perm:"adjustment",to:{name:"AdjustmentForm",params:{type:"oa"}}},{perm:"adjustment",to:{name:"AdjustmentsList",params:{type:"oa"}},title:"لیست حواله های تعدیل انبار"}]},{title:"حواله کالای مصرفی",hide:this.isAdvari,children:[{perm:"consumptionWareFactor",to:{name:"FactorForm",params:{isPreFactor:!1,type:"cw"}},title:"ثبت حواله کالای مصرفی"},{perm:"consumptionWareFactor",to:{name:"FactorsList",params:{isPreFactor:!1,type:"cw"}},title:"لیست حواله های کالای مصرفی"}]},{title:"انبارگردانی",children:[{perm:"warehouseHandling",to:{name:"WarehouseHandlingForm"},title:"ثبت انبارگردانی"},{perm:"warehouseHandling",to:{name:"WarehouseHandlingList"},title:"لیست انبارگردانی ها"}]}]},{title:"گزارش",icon:"$reportIcon",children:[{perm:"accountsCodingReport",to:{name:"AccountsCoding"},title:"گزارش کدینگ حساب ها"},{title:"دفاتر حسابداری",children:[{perm:"sanadItemsReport",title:"گروه حساب",to:{name:"LedgerReport",params:{level:"level0"}}},{perm:"sanadItemsReport",title:"کل",to:{name:"LedgerReport",params:{level:"level1"}}},{perm:"sanadItemsReport",title:"معین",to:{name:"LedgerReport",params:{level:"level2"}}},{perm:"sanadItemsReport",title:"تفصیلی",to:{name:"LedgerReport",params:{level:"level3"}}},{perm:"sanadItemsReport",title:"گروه شناور",to:{name:"LedgerReport",params:{level:"floatAccountGroups"}}},{perm:"sanadItemsReport",title:"حساب شناور",to:{name:"LedgerReport",params:{level:"floatAccounts"}}},{perm:"sanadItemsReport",title:"گروه مرکز هزینه و درآمد",to:{name:"LedgerReport",params:{level:"costCenterGroups"}}},{perm:"sanadItemsReport",title:"مرکز هزینه و درآمد",to:{name:"LedgerReport",params:{level:"costCenters"}}}]},{perm:"sanadItemsReport",to:{name:"BillReport"},title:"صورت حساب تفصیلی"},{title:"تراز حساب ها",children:[{perm:"accountBalanceReport",to:{name:"AccountsBalanceReport"},title:"تراز سطوح حساب ها"},{perm:"floatAccountBalanceByGroupReport",to:{name:"FloatAccountsBalanceReportByGroup"},title:"تراز گروه و حساب شناور"},{perm:"floatAccountBalanceReport",to:{name:"FloatAccountsBalanceReport"},title:"تراز حساب شناور"},{perm:"floatAccountBalanceByGroupReport",to:{name:"FloatAccountsBalanceReportByGroup",params:{is_cost_center:!0}},title:"تراز گروه و مرکز هزینه و درآمد"},{perm:"floatAccountBalanceReport",to:{name:"FloatAccountsBalanceReport",params:{is_cost_center:!0}},title:"تراز مرکز هزینه و درآمد"}]},{title:"گزارش کالا",children:[{perm:"wareInventoryReport",to:{name:"DetailedWareInventoryReport"},title:"کاردکس کالا"},{perm:"allWaresInventoryReport",to:{name:"AllWaresInventoryReport"},title:"کاردکس همه کالا ها"},{perm:"buyReport",to:{name:"BuySaleReport",params:{type:"buy"}},title:"گزارش خرید"},{perm:"saleReport",to:{name:"BuySaleReport",params:{type:"sale"}},title:"گزارش فروش"},{perm:"salePrice",to:{name:"SalePricesList"},title:"گزارش قیمت ها و واحد های کالا ها"}]},{title:"گزارش انبار",children:[{perm:"warehouseInventoryReport",to:{name:"DetailedWarehouseInventoryReport"},title:"کاردکس انبار"},{perm:"allWarehousesInventoryReport",to:{name:"AllWarehousesInventoryReport"},title:"کاردکس انبار همه کالا ها"}]},{perm:"sanadItemsReport",to:{name:"JournalReport"},title:"دفتر روزنامه"},{title:"سود و زیان",children:[{perm:"incomeStatementReport",to:{name:"IncomeStatementReport"},title:"کلی"},{perm:"incomeStatementReport",to:{name:"IncomeStatementReport",params:{detailed:"detailed"}},title:"جامع"}]},{perm:"balanceSheetReport",to:{name:"BalanceSheetReport"},title:"ترازنامه"}]},{title:"پخش",icon:"fa-truck",module:"distribution",children:[{title:"بازه پورسانت",perm:"commissionRange",to:{name:"CommissionRanges"}},{title:"ویزیتور",children:[{title:d["c"].find((function(t){return 0==t.value})).text,perm:"visitor",to:{name:"Visitors",params:{level:0}}},{title:d["c"].find((function(t){return 1==t.value})).text,perm:"visitor",to:{name:"Visitors",params:{level:1}}},{title:d["c"].find((function(t){return 2==t.value})).text,perm:"visitor",to:{name:"Visitors",params:{level:2}}},{title:d["c"].find((function(t){return 3==t.value})).text,perm:"visitor",to:{name:"Visitors",params:{level:3}}}]},{title:"مسیر",children:[{title:d["b"].find((function(t){return 0==t.value})).text,perm:"path0",to:{name:"Paths",params:{level:0}}},{title:d["b"].find((function(t){return 1==t.value})).text,perm:"path1",to:{name:"Paths",params:{level:1}}},{title:d["b"].find((function(t){return 2==t.value})).text,perm:"path2",to:{name:"Paths",params:{level:2}}},{title:d["b"].find((function(t){return 3==t.value})).text,perm:"path3",to:{name:"Paths",params:{level:3}}},{title:d["b"].find((function(t){return 4==t.value})).text,perm:"path4",to:{name:"Paths",params:{level:4}}}]},{title:"راننده",perm:"driver",to:{name:"Drivers"}},{title:"موزع",perm:"distributor",to:{name:"Distributors"}},{title:"ماشین",perm:"car",to:{name:"Cars"}},{title:"تحویل فاکتور ها جهت توزیع",perm:"distribution",to:{name:"DistributionForm"}}]},{title:"بهای تمام شده",module:"costAccounting",icon:"$costAccountingIcon",children:[{title:"اطلاعات پایه",children:[{perm:"defaultAccount",to:{name:"DefaultAccounts",params:{usage:"costAccounting"}},title:"حساب های پیشفرض"}]},{title:"تولید",children:[{title:"ثبت تولید",perm:"production",to:{name:"FactorForm",params:{isPreFactor:!1,type:"p"}}},{title:"لیست تولید ها",perm:"production",to:{name:"FactorsList",params:{isPreFactor:!1,type:"p"}}}]}]},{title:"حمل و نقل",icon:"$transportationIcon",module:"dashtbashi",children:[{title:"اطلاعات پایه",children:[{title:"تنظیمات",perm:"option",to:{name:"Options"}},{perm:"defaultAccount",to:{name:"DefaultAccounts",params:{usage:"dashtbashi"}},title:"حساب های پیشفرض"},{to:{name:"Cities"},title:"شهر ها",perm:"city"},{perm:"car",title:"ماشین ها",to:{name:"DashtbashiCars"}},{title:"راننده ها",perm:"driver",to:{name:"DashtbashiDrivers"}},{perm:"driving",title:"انتصاب راننده به ماشین",to:{name:"Drivings"}},{perm:"association",title:"انجمن",to:{name:"Associations"}}]},{title:"بارنامه",children:[{perm:"ladingBillSeries",title:"سری بارنامه",to:{name:"LadingBillSeries"}},{perm:"ladingBillSeries",title:"لیست سری های بارنامه",to:{name:"LadingBillSeriesList"}},{perm:"ladingBillNumber",title:"ابطال شماره بارنامه",to:{name:"RevokeLadingBillNumber"}}]},{title:"حواله",children:[{title:"ثبت حواله",perm:"remittance",to:{name:"Remittance"}},{title:"لیست حواله ها",perm:"remittance",to:{name:"RemittancesList"}}]},{title:"بارگیری",children:[{title:"بارگیری حمل و نقل",perm:"lading",to:{name:"Lading"}},{title:"لیست بارگیری های حمل و نقل",perm:"lading",to:{name:"LadingsList"}},{title:"بارگیری شرکت نفت",perm:"oilCompanyLading",to:{name:"OilCompanyLading"}},{title:"لیست بارگیری شرکت نفت",perm:"oilCompanyLading",to:{name:"OilCompanyLadingsList"}},{title:"لیست بارگیری شرکت نفت همراه با جزئیات",perm:"oilCompanyLading",to:{name:"OilCompanyLadingsList",params:{detailed:!0}}}]},{title:"پرداخت",children:[{perm:"otherDriverPayment",title:"پرداخت راننده متفرقه",to:{name:"OtherDriverPayment"}},{perm:"otherDriverPayment",title:"لیست پرداخت راننده متفرقه",to:{name:"OtherDriverPaymentsList"}}]},{title:"گزارشات",children:[{title:"گزارش بارنامه برای کامیون های آقا ابراهیم",perm:"lading",to:{name:"LadingNumberReport",query:{"filters.driving__car__owner":"e"}}},{title:"گزارش بارنامه برای کامیون های آقا رحیم",perm:"lading",to:{name:"LadingNumberReport",query:{"filters.driving__car__owner":"rm"}}},{title:"گزارش بارنامه برای کامیون های متفرقه",perm:"lading",to:{name:"LadingNumberReport",query:{"filters.driving__car__owner":"o"}}},{title:"گزارش بارنامه برای کامیون های حاج رحمان",perm:"lading",to:{name:"LadingNumberReport",query:{"filters.driving__car__owner":"rn"}}},{title:"گزارش بارگیری حمل و نقل برای پیمانکار",perm:"lading",to:{name:"LadingsReportForContractor"}},{title:"گزارش بارگیری حمل و نقل برای راننده",perm:"lading",to:{name:"LadingsReportForDriver"}},{title:"گزارش کمیسیون حمل و نقل",perm:"lading",to:{name:"TransportationCommissionReport"}},{perm:"otherDriverPayment",title:"گزارش مبلغ قابل پرداخت رانندگان متفرقه",to:{name:"OtherDriverPaymentReport"}}]}]},{title:"مناقصه",icon:"fa-handshake",children:[{title:"مناقصه",to:{name:"Tender"}},{title:"قرارداد",to:{name:"Contract"}},{to:{name:"Statement"},title:"صورت وضعیت"},{to:{name:"Supplement"},title:"الحاقیه"}]},{title:"حقوق و دستمزد",icon:"fa-credit-card",children:[{title:"کارگاه",children:[{title:"ثبت کارگاه",to:{name:"Workshop"}},{title:"لیست کارگاه",to:{name:"WorkshopList"}},{to:{name:"ContractRow"},title:" ثبت ردیف پیمان"},{title:"لیست ردیف پیمان",to:{name:"ContractRowList"}}]},{title:"پرسنل",children:[{title:"ثبت پرسنل",to:{name:"Personnel"}},{title:"لیست پرسنل",to:{name:"PersonnelList"}},{to:{name:"PersonnelFamily"},title:" ثبت خانواده پرسنل"},{title:"لیست خانواده پرسنل",to:{name:"PersonnelFamilyList"}}]},{title:"پرسنل کارگاه",children:[{to:{name:"WorkshopPersonnel"},title:" ثبت پرسنل کارگاه"},{to:{name:"Absence"},title:"ثبت مرخصی یا غیبت"},{to:{name:"Mission"},title:"ثبت ماموریت"},{to:{name:"WorkshopPersonnelList"},title:" لیست پرسنل ها در کارگاه"},{to:{name:"AbsenceList"},title:"لیست مرخصی یا غیبت ها"},{to:{name:"MissionList"},title:" لیست ماموریت ها"}]},{title:"قرارداد",children:[{to:{name:"WorkshopContract"},title:"ثبت قرارداد"},{to:{name:"WorkshopContractList"},title:"لیست قرارداد ها"},{to:{name:"HRLetter"},title:"ثبت حکم کارگزینی"},{to:{name:"HRLetterList"},title:"لیست حکم های کارگزینی"}]},{title:"لیست حقوق",children:[{to:{name:"Payment"},title:"محاسبه حقوق"},{to:{name:"PaymentList"},title:"لیست حقوق"},{to:{name:"Loan"},title:"مساعده یا وام"},{to:{name:"LoanList"},title:"لیست مساعده یا وام"},{to:{name:"Deduction"},title:"کسورات اختیاری"},{to:{name:"DeductionList"},title:"لیست کسورات اختیاری"},{to:{name:"TaxRow"},title:"معافیت مالیات "}]}]}]},routes:function(){var t,e=this,a=this.allRoutes,i=function t(a){var i=!1;if(a.module&&!e.hasModule(a.module))i=!1;else if(a.perm)i=e.hasPerm("",a.perm);else if(a.children){var s,n=Object(c["a"])(a.children);try{for(n.s();!(s=n.n()).done;){var o=s.value;i|=t(o)}}catch(r){n.e(r)}finally{n.f()}a.show=i}else i=!0;return a.show=i,i},s=Object(c["a"])(a);try{for(s.s();!(t=s.n()).done;){var n=t.value;i(n)}}catch(o){s.e(o)}finally{s.f()}return a},username:function(){var t=this.$store.state.user;return t.username.includes("manager")?"manager":t.username}}},p=m,v=(a("16a3"),a("2877")),h=a("6544"),f=a.n(h),_=a("8336"),b=a("132d"),x=a("adda"),g=a("8860"),y=a("da13"),k=a("1800"),w=a("5d23"),C=a("34c3"),E=Object(v["a"])(p,r,l,!1,null,null,null),$=E.exports;f()(E,{VBtn:_["a"],VIcon:b["a"],VImg:x["a"],VList:g["a"],VListItem:y["a"],VListItemAction:k["a"],VListItemContent:w["a"],VListItemIcon:C["a"],VListItemTitle:w["c"]});var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{})},S=[],V={name:"Footer",data:function(){return{}},computed:{companyName:function(){return this.company?this.company.name:"-"}}},F=V,P=Object(v["a"])(F,T,S,!1,null,"f74bfb5c",null),D=P.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center ltr",staticStyle:{width:"100%"}},[a("span",{staticClass:"mr-3"},[t._v(t._s(t.systemBarDate))]),a("span",[t._v(t._s(t.systemBarTime))])])},I=[],j=a("a67b"),L=a.n(j),R={name:"Footer",data:function(){return{systemBarDate:"",systemBarTime:""}},mounted:function(){var t=this;this.updateTime(),setInterval((function(){t.updateTime()}),6e4)},methods:{updateTime:function(){this.systemBarDate=this.serverNow.format("jYYYY/jMM/jDD"),this.systemBarTime=this.serverNow.format("HH:mm")}}},O=R,q=(a("7c75"),Object(v["a"])(O,A,I,!1,null,"a99fdd26",null)),B=q.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.OGR>0?a("div",{attrs:{id:"loader"}},[t._m(0)]):t._e()},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sk-circle"},[a("div",{staticClass:"sk-circle1 sk-child"}),a("div",{staticClass:"sk-circle2 sk-child"}),a("div",{staticClass:"sk-circle3 sk-child"}),a("div",{staticClass:"sk-circle4 sk-child"}),a("div",{staticClass:"sk-circle5 sk-child"}),a("div",{staticClass:"sk-circle6 sk-child"}),a("div",{staticClass:"sk-circle7 sk-child"}),a("div",{staticClass:"sk-circle8 sk-child"}),a("div",{staticClass:"sk-circle9 sk-child"}),a("div",{staticClass:"sk-circle10 sk-child"}),a("div",{staticClass:"sk-circle11 sk-child"}),a("div",{staticClass:"sk-circle12 sk-child"})])}],N={name:"",data:function(){return{}}},Y=N,z=(a("1aea"),Object(v["a"])(Y,U,M,!1,null,"878dc99a",null)),W=z.exports,G=a("2f62"),K={name:"App",components:{mNavbar:$,mFooter:D,mSystemBar:B,Loader:W},data:function(){return{isAppReady:!1,showDrawer:!1,developersDialog:!1,timeInterval:null}},computed:Object(o["a"])({serverUrl:{get:function(){return localStorage.getItem("serverUrl")},set:function(t){localStorage.setItem("serverUrl",t)}}},Object(G["b"])({snackbar:function(t){return t.snackbar}})),created:function(){this.log("server url is : ".concat(this.getServerUrl())),this.getDateTime()},mounted:function(){this.tabOn("change:activeFinancialYear",(function(){window.close()}))},methods:{routeClick:function(t){this.$route.name==t&&this.EventBus.$emit("sameRouteClick")},getDateTime:function(){var t=this;this.request({url:this.endpoint("home/time"),method:"get",token:!1,success:function(e){var a=L.a.unix(e.time);t.$store.commit("setTime",a),t.isAppReady=!0,t.timeInterval=window.setInterval((function(){t.$store.commit("setTime",t.serverNow.add(1,"second"))}),1e3)}})},logout:function(){if(this.setToken(""),this.$store.commit("setUser",null),"Login"!=this.$route.name){var t=this.$router.resolve({name:"Login"});window.location=t}}}},H=K,Q=(a("5c0b"),a("7496")),X=a("40dc"),J=a("5bc1"),Z=a("8212"),tt=a("b0af"),et=a("99d9"),at=a("cc20"),it=a("62ad"),st=a("a523"),nt=a("169a"),ot=a("553a"),rt=a("f6c4"),lt=a("f774"),ct=a("0fd9"),ut=a("2db4"),dt=a("2fa4"),mt=a("afd9"),pt=a("8654"),vt=Object(v["a"])(H,s,n,!1,null,null,null),ht=vt.exports;f()(vt,{VApp:Q["a"],VAppBar:X["a"],VAppBarNavIcon:J["a"],VAvatar:Z["a"],VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VChip:at["a"],VCol:it["a"],VContainer:st["a"],VDialog:nt["a"],VFooter:ot["a"],VIcon:b["a"],VImg:x["a"],VMain:rt["a"],VNavigationDrawer:lt["a"],VRow:ct["a"],VSnackbar:ut["a"],VSpacer:dt["a"],VSystemBar:mt["a"],VTextField:pt["a"]});var ft=a("9483");Object(ft["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var _t=a("53ca"),bt=a("2909"),xt=(a("99af"),a("159b"),a("b64b"),a("8c4f")),gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user&&t.systemOptions?a("span",[a("router-view"),0!=t.userPopUps.length?a("notification-dialog",{attrs:{detailDialog:t.notificationDialog,item:t.notification},on:{"update:detailDialog":t.showNextNotification}}):t._e()],1):t._e()},yt=[],kt={data:function(){return{userPopUps:[]}},methods:{getUser:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.request({url:this.endpoint("users/currentUser/"),method:"get",success:function(a){t.$store.commit("setUser",a),t.userPopUps=t.user.pop_up_notifications,t.company?t.financialYear||!t.$route||["FinancialYears"].includes(t.$route.name)||t.$router.push({name:"FinancialYears"}):t.$route&&!["Companies","Profile"].includes(t.$route.name)&&t.$router.push({name:"Companies"}),e&&e()}})}}},wt={methods:{getOptions:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||!this.systemOptions)return this.request({url:this.endpoint("home/options"),method:"get",success:function(e){t.$store.commit("setOptions",e)}})}}},Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{value:t.detailDialog,"max-width":"600px",transition:"dialog-transition","v-bind":t.$attrs,"v-on":t.$listeners},on:{"click:outside":t.closeDetailDialog}},[t.item?a("v-card",[a("v-card-title",{staticClass:"grey lighten-3"},[t._v(" "+t._s(t.item.title)+" "),a("v-spacer"),a("span",{staticClass:"font-weight-light subtitle-1",attrs:{dir:"ltr"}},[t._v(t._s(t.item.created_at))])],1),a("v-card-text",{staticClass:"py-3"},[a("p",[a("pre",{domProps:{innerHTML:t._s(t.item.explanation)}})])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"w-100px",attrs:{color:"blue white--text",disabled:"r"==t.item.status_codename},on:{click:function(e){return t.changeStatus(t.item,"r")}}},[t._v("خوانده شد")])],1)],1):t._e()],1)},Et=[],$t={name:"NotificationDialog",props:{item:{required:!0},detailDialog:{}},data:function(){return{}},methods:{changeStatus:function(t,e){var a=this;t.status_codename!=e?this.request({url:this.endpoint("users/notifications/changeStatus"),method:"post",loading:!1,data:{id:t.id,new_status:e},success:function(t){var e=a.user;e.unread_notifications_count-=1,a.$store.commit("setUser",e),a.closeDetailDialog(),a.$emit("statusChanged")}}):this.closeDetailDialog()},closeDetailDialog:function(){this.$emit("click:outside"),this.$emit("update:detailDialog",!1)}}},Tt=$t,St=(a("c16c"),Object(v["a"])(Tt,Ct,Et,!1,null,null,null)),Vt=St.exports;f()(St,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VDialog:nt["a"],VSpacer:dt["a"]});var Ft={name:"Panel",mixins:[kt,wt],components:{NotificationDialog:Vt},data:function(){return{notificationDialog:!1,notification:null,notificationIndex:-1}},created:function(){var t=this;this.getUser((function(){t.showNextNotification()})),this.getOptions()},methods:{showNextNotification:function(){var t=this;this.notificationDialog=!1,this.userPopUps.length&&this.userPopUps.length>this.notificationIndex+1&&(this.notification?setTimeout((function(){t.notificationIndex+=1,t.notification=t.userPopUps[t.notificationIndex],t.notificationDialog=!0}),500):(this.notification=this.userPopUps[0],this.notificationIndex=0,this.notificationDialog=!0))}}},Pt=Ft,Dt=Object(v["a"])(Pt,gt,yt,!1,null,"278f9525",null),At=Dt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"d-flex justify-center"},[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",[t._v("تنظیمات کاربری")])],1),a("v-tabs",{attrs:{vertical:""},model:{value:t.openTab,callback:function(e){t.openTab=e},expression:"openTab"}},[a("v-tab",[a("v-icon",{staticClass:"ml-4"},[t._v("fa-user")]),a("span",[t._v("مشخصات کاربری")])],1),a("v-tab",[a("v-icon",{staticClass:"ml-4"},[t._v("fa-key")]),a("span",[t._v("تغییر کلمه عبور")])],1),a("v-tab",[a("v-icon",{staticClass:"ml-4"},[t._v("fa-envelope-open-text")]),a("span",[t._v("لیست دعوت ها")])],1),a("v-tab",{on:{click:t.getSecretKey}},[a("v-icon",{staticClass:"ml-4"},[t._v("fa-shield-alt")]),a("span",{},[t._v("ورود دوعاملی")])],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing,rules:t.rules.required,"hide-details":!1},model:{value:t.item.first_name,callback:function(e){t.$set(t.item,"first_name",e)},expression:"item.first_name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* نام خانوادگی",disabled:!t.isEditing,rules:t.rules.required,"hide-details":!1},model:{value:t.item.last_name,callback:function(e){t.$set(t.item,"last_name",e)},expression:"item.last_name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-phone-field",{attrs:{label:"* شماره موبایل ",disabled:!0},model:{value:t.item.phone,callback:function(e){t.$set(t.item,"phone",e)},expression:"item.phone"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-national-code",{attrs:{label:"* کد ملی ",disabled:!0},model:{value:t.item.username,callback:function(e){t.$set(t.item,"username",e)},expression:"item.username"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"light-blue white--text"},on:{click:t.openChangePhoneDialog}},[t._v("تغییر شماره موبایل")]),t.isEditing?[a("v-btn",{attrs:{color:"blue white--text w-100px"},on:{click:t.updateProfile}},[t._v("ثبت")])]:[a("v-btn",{staticClass:"amber w-100px",on:{click:function(e){t.isEditing=!0}}},[t._v("ویرایش")])]],2)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-form",{ref:"changePasswordForm"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:" * کلمه عبور فعلی",type:"password",rules:t.rules.required,"hide-details":!1},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:" * کلمه عبور جدید",type:"password",rules:t.passwordRules,"hide-details":!1},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{type:"password",label:" * تکرار کلمه عبور جدید",rules:t.rules.required,"hide-details":!1},model:{value:t.newPasswordRepeat,callback:function(e){t.newPasswordRepeat=e},expression:"newPasswordRepeat"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue white--text w-100px"},on:{click:t.changePassword}},[t._v("ثبت")])],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("m-datatable",{attrs:{headers:t.invitationsHeaders,items:t.invitations,showExportBtns:!1},scopedSlots:t._u([{key:"item.action",fn:function(e){var i=e.item;return["p"==i.status?[a("v-btn",{attrs:{color:"green white--text"},on:{click:function(e){return t.confirmInvitation(i)}}},[t._v("تایید دعوت")]),a("v-btn",{attrs:{color:"red white--text mr-1"},on:{click:function(e){return t.changeInvitationStatus(i,"r")}}},[t._v("رد دعوت")])]:a("span",[t._v("-")])]}}])})],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("p",[t._v(" توسط ورود دوعاملی امنیت داده های خود را در سامانه حسابداری سبحان چند برابر کنید ")]),a("p",[t._v(" با فعال سازی ورود دو عاملی هنگام ورود به سامانه علاوه بر نام کاربری و کلمه عبور باید کد تایید نیز وارد نمایید ")]),a("p",[t._v("کد تایید هر 30 ثاینه یک بار عوض می شود")]),a("p",[t._v("برای فعال سازی مراحل زیر را طی کنید:")]),t.user.has_two_factor_authentication?t._e():a("ul",{staticClass:"mr-4 mb-2"},[a("li",[t._v(" نرم افزار Google Authenticator را دانلود و نصب نمایید ")]),a("li",[t._v(" کد رو به رو را در نرم افزار Google Authenticator اسکن کنید ")]),a("li",[t._v(" کد تولید شده توسط نرم افزار را وارد کنید و روی دکمه تایید کلید نمایید ")])]),t.user.has_two_factor_authentication?a("v-btn",{attrs:{color:"red white--text"},on:{click:function(e){t.removeSecretKeyDialog=!0}}},[t._v("غیر فعال سازی ورود دو عاملی")]):t._e()],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.secretKey.qr_code&&!t.user.has_two_factor_authentication?a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"d-flex justify-center"},[a("vue-qrcode",{attrs:{value:t.secretKey.qr_code,options:{width:300}}})],1),a("v-col",{attrs:{cols:"12",md:"8","offset-md":"1"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:"کد تایید"},model:{value:t.secretKey.code,callback:function(e){t.$set(t.secretKey,"code",e)},expression:"secretKey.code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-btn",{staticClass:"mt-3 mt-md-1 mr-md-2",attrs:{block:"",color:"blue white--text"},on:{click:t.setSecretKey}},[t._v("تایید")])],1)],1):t._e()],1)],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px",transition:"dialog-transition"},model:{value:t.removeSecretKeyDialog,callback:function(e){t.removeSecretKeyDialog=e},expression:"removeSecretKeyDialog"}},[a("v-card",[a("v-card-title",[t._v("غیر فعال سازی ورود دو عاملی")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("p",[t._v("برای غیر فعال سازی ورود دو عاملی کد تایید را وارد کنید")])]),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:"کد تایید"},model:{value:t.secretKey.code,callback:function(e){t.$set(t.secretKey,"code",e)},expression:"secretKey.code"}})],1),a("v-col",{attrs:{cols:"12",md:"6","offset-md":"3"}},[a("v-btn",{staticClass:"mt-3 mt-md-1 mr-md-2",attrs:{block:"",color:"red white--text"},on:{click:t.removeSecretKey}},[t._v("غیر فعال سازی")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"400px",transition:"dialog-transition"},model:{value:t.confirmInvitationDialog,callback:function(e){t.confirmInvitationDialog=e},expression:"confirmInvitationDialog"}},[t.invitation?a("v-card",[a("v-card-title",[t._v("تایید دعوت")]),a("v-card-subtitle",{staticClass:"mt-0"},[t._v(" لطفا کد تاییدی که از شرکت "),a("span",[t._v(t._s(t.invitation.company_name))]),t._v(" دریافت کرده اید را وارد کنید ")]),a("v-card-text",[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:"کد تایید دریافتی"},model:{value:t.confirmationCode,callback:function(e){t.confirmationCode=e},expression:"confirmationCode"}})],1),a("v-card-actions",[a("v-btn",{attrs:{block:"",color:"blue white--text "},on:{click:function(e){return t.changeInvitationStatus(t.invitation,"a",t.confirmationCode)}}},[t._v("تایید")])],1)],1):t._e()],1),a("v-dialog",{attrs:{scrollable:"","max-width":"400px",transition:"dialog-transition"},model:{value:t.changePhoneDialog,callback:function(e){t.changePhoneDialog=e},expression:"changePhoneDialog"}},[a("v-card",[a("v-card-title",[t._v("تغییر شماره موبایل")]),a("v-card-text",[a("v-form",{ref:"changePhoneForm"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:t.codeSent?12:8}},[a("m-phone-field",{attrs:{label:"* شماره موبایل جدید"},model:{value:t.newPhone,callback:function(e){t.newPhone=e},expression:"newPhone"}})],1),t.codeSent?t._e():a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-btn",{staticClass:"mt-1",attrs:{block:"",color:"blue white--text",disabled:t.codeSent},on:{click:t.sendCode}},[t._v(" ارسال کد ")])],1),t.codeSent?a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:"کد تایید دریافتی"},model:{value:t.phoneVerificationCode,callback:function(e){t.phoneVerificationCode=e},expression:"phoneVerificationCode"}})],1):t._e()],1)],1)],1),t.codeSent?a("v-card-actions",[a("v-btn",{attrs:{disabled:!t.canResend,outlined:""},on:{click:t.sendCode}},[t.canResend?a("span",[t._v(" ارسال دوباره کد ")]):a("span",{staticClass:"black--text"},[t._v(" "+t._s(t.timer)+" ")])]),a("v-spacer"),a("v-btn",{attrs:{color:"blue white--text w-100px"},on:{click:t.changePhone}},[t._v("تایید")])],1):t._e()],1)],1)],1)},jt=[],Lt=a("b7e5"),Rt=a("38da"),Ot=(a("ac1f"),a("00b4"),a("e096")),qt={components:{VueRecaptcha:Ot["a"]},data:function(){return{recaptchaResponse:""}},computed:{UserInvitationStatuses:function(){return[{text:"در انتظار بررسی",value:"p"},{text:"پذیرفته شده",value:"a"},{text:"رد شده",value:"r"}]},passwordRules:function(){return[function(t){return/(?=.{8,})/.test(t)||"طول کلمه عبور باید بیشتر از 8 کاراکتر باشد"},function(t){return/(?=.*[0-9])/.test(t)||"حداقل از یک عدد استفاده کنید"},function(t){return/(?=.*[!@#$%^&*])/.test(t)||"حداقل از یکی از کاراکتر های ! @ # $ % ^ & * استفاده کنید"},function(t){return/[A-Z]/.test(t)||"حداقل از یک حرف بزرگ استفاده کنید"}]}},methods:{sendVerificationCode:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.request({url:this.endpoint("users/sendVerificationCode"),method:"post",data:t,token:!1,success:function(t){e.$refs.recaptcha&&e.$refs.recaptcha.reset(),a&&a(t)},error:function(t){e.$refs.recaptcha&&e.$refs.recaptcha.reset(),e.handleError(t,{})}})}}},Bt=a("8925"),Ut=a("b2e5"),Mt=a.n(Ut),Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},Yt=[],zt={name:"",data:function(){return{}}},Wt=zt,Gt=Object(v["a"])(Wt,Nt,Yt,!1,null,"0f29a0ee",null),Kt=Gt.exports,Ht={components:{MDatatable:Bt["a"],VueQrcode:Mt.a,Template:Kt},name:"Register",mixins:[qt,Lt["b"],Rt["a"],kt],props:{},data:function(){return{isEditing:!1,openTab:0,oldPassword:null,newPassword:null,newPasswordRepeat:null,invitations:[],invitation:null,confirmInvitationDialog:!1,confirmationCode:null,secretKey:{},removeSecretKeyDialog:!1,changePhoneDialog:!1,newPhone:"",phoneVerificationCode:null,codeSent:!1,canResend:!1,timer:0}},computed:{invitationsHeaders:function(){return[{text:"شرکت",value:"company_name"},{text:"وضعیت",value:"status",type:"select",items:this.UserInvitationStatuses},{text:"",value:"action",filterable:!1,sortable:!1}]}},mounted:function(){this.getInvitations(),this.setItem(this.user)},methods:{sendCode:function(){var t=this;this.$refs.changePhoneForm.validate()&&(this.sendVerificationCode({phone:this.newPhone,username:this.user.uesrname},(function(){return t.codeSent=!0})),this.canResend=!1,this.timer=120,this.timerInterval=setInterval((function(){0==t.timer?(clearInterval(t.timerInterval),t.canResend=!0):t.timer-=1}),1e3))},changePhone:function(){var t=this;this.$refs.changePhoneForm.validate()&&this.request({url:this.endpoint("users/changePhone"),method:"post",data:{new_phone:this.newPhone,code:this.phoneVerificationCode},success:function(e){t.successNotify(),t.item.phone=t.newPhone,t.changePhoneDialog=!1,t.newPhone=void 0,t.phoneVerificationCode=void 0,t.codeSent=!1}})},openChangePhoneDialog:function(){this.changePhoneDialog=!0},setSecretKey:function(){var t=this;this.request({url:this.endpoint("users/secretKey"),method:"put",data:{secret_key:this.secretKey.secret_key,code:this.secretKey.code},success:function(e){t.secretKey.code=null,t.successNotify(),t.getUser()}})},removeSecretKey:function(){var t=this;this.request({url:this.endpoint("users/secretKey"),method:"delete",data:{code:this.secretKey.code},success:function(){t.removeSecretKeyDialog=!1,t.successNotify(),t.getSecretKey(),t.getUser()}})},getSecretKey:function(){var t=this;this.request({url:this.endpoint("users/secretKey"),method:"get",success:function(e){t.secretKey=e}})},updateProfile:function(){var t=this;this.request({url:this.endpoint("users/update/".concat(this.item.id)),method:"put",data:this.item,success:function(e){t.successNotify(),t.isEditing=!1}})},changePassword:function(){var t=this;if(this.$refs.changePasswordForm.validate()){if(this.newPassword!=this.newPasswordRepeat)return void this.notify("کلمه عبور و تکرار آن یکسان نیستند","danger");this.request({url:this.endpoint("users/changePassword"),method:"post",data:{old_password:this.oldPassword,new_password:this.newPassword},success:function(e){t.successNotify(),t.oldPassword=null,t.newPassword=null,t.newPasswordRepeat=null,t.openTab=0}})}},confirmInvitation:function(t){this.invitation=t,this.confirmInvitationDialog=!0},changeInvitationStatus:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.request({url:this.endpoint("users/invitations/changeStatus"),method:"post",data:{id:t.id,status:e,confirmation_code:i},success:function(){a.confirmInvitationDialog=!1,a.confirmationCode=null,a.successNotify(),a.getInvitations()}})},getInvitations:function(){var t=this;this.request({url:this.endpoint("users/invitations"),method:"get",success:function(e){t.invitations=e}})}}},Qt=Ht,Xt=a("4bd4"),Jt=a("71a3"),Zt=a("c671"),te=a("fe57"),ee=a("71d9"),ae=a("2a7f"),ie=Object(v["a"])(Qt,It,jt,!1,null,null,null),se=ie.exports;f()(ie,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardSubtitle:et["b"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VForm:Xt["a"],VIcon:b["a"],VRow:ct["a"],VSpacer:dt["a"],VTab:Jt["a"],VTabItem:Zt["a"],VTabs:te["a"],VTextField:pt["a"],VToolbar:ee["a"],VToolbarTitle:ae["a"]});var ne,oe,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",{staticClass:"white--text red darken-2"},[t._v("هزینه")]),a("v-card-text",{staticClass:"pt-4"},[a("accounts-remain-chart",{attrs:{label:"هزینه",codeStartsWith:"8",legendPossition:"left",value:"bed_remain"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",{staticClass:"white--text green"},[t._v("درآمد")]),a("v-card-text",{staticClass:"pt-4"},[a("accounts-remain-chart",{attrs:{label:"درآمد",codeStartsWith:"6",legendPossition:"right",value:"bes_remain"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("recent-cheques-widget",{attrs:{type:"c",isPaid:!0}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("recent-cheques-widget",{attrs:{type:"c",isPaid:!1}})],1)],1)],1)},le=[],ce=(a("d81d"),a("4de4"),a("1fca")),ue=(ce["b"].reactiveProp,{extends:ce["a"],props:{label:{},codeStartsWith:{},legendPossition:{},value:{},height:{default:null},width:{default:null}},data:function(){return{colors:["rgb(54, 162, 235)","rgb(75, 192, 192)","rgb(255, 159, 64)","rgb(153, 102, 255)","rgb(255, 99, 132)","rgb(255, 205, 86)"]}},computed:{labels:function(){return this.data.map((function(t){return t.name}))},dataset:function(){var t=this;return this.data.map((function(e){return e[t.value]}))},backgroundColor:function(){var t=this;return this.data.map((function(e,a){return t.colors[a%t.colors.length]}))},chartData:function(){return{labels:this.labels,datasets:[{label:this.label,backgroundColor:this.backgroundColor,data:this.dataset}]}},chartOptions:function(){var t=this;return{title:{text:this.label},tooltips:{callbacks:{label:function(e,a){var i=e.index,s=a.labels[i],n=a.datasets[0].data[i];return"".concat(s," ").concat(t.toMoney(n))}}},legend:{position:this.legendPossition,rtl:!0}}}},mounted:function(){var t=this;this.request({url:this.endpoint("reports/balance"),method:"get",params:{account_code_starts_with:this.codeStartsWith},success:function(e){t.data=e.filter((function(t){return 1==t.level})),t.renderChart(t.chartData,t.chartOptions)}})}}),de=ue,me=Object(v["a"])(de,ne,oe,!1,null,null,null),pe=me.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(" "+t._s(t.title)+" "),a("v-spacer"),a("v-btn",{attrs:{color:"blue white--text",to:t.listRoute}},[t._v("مشاهده همه")])],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.items,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.value",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(a.value)))]}}])})],1)],1)},he=[],fe={props:{type:{required:!0},isPaid:{required:!0}},data:function(){return{items:[],headers:[{text:"شماره",value:"serial"},{text:"شرح",value:"explanation"},{text:"تاریخ",value:"date"},{text:"تاریخ سررسید",value:"due"},{text:"مبلغ",value:"value"},{text:"نام حساب",value:"account.name"}]}},computed:{title:function(){return"p"==this.type?"چک های پرداختنی در هفت روز آینده":"چک های دریافتنی در هفت روز آینده"},limit:function(){return this.serverNow.clone().add("day",1).format("jYYYY-jMM-jDD")},listRoute:function(){return{name:"ChequesList",params:{type:this.type,isPaid:this.isPaid},query:{"filters.status__in":"notPassed","filters.ordering":"due"}}}},mounted:function(){var t=this;this.request({url:this.endpoint("reports/lists/cheques"),method:"get",params:{limit:3,offset:0,status:"notPassed",is_paid:this.isPaid,type:this.type,due__lte:this.limit,ordering:"due"},success:function(e){t.items=e.results}})}},_e=fe,be=a("8fea"),xe=Object(v["a"])(_e,ve,he,!1,null,null,null),ge=xe.exports;f()(xe,{VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VDataTable:be["a"],VSpacer:dt["a"]});var ye={name:"Panel",mixins:[kt],components:{AccountsRemainChart:pe,RecentChequesWidget:ge},data:function(){return{}},created:function(){this.getUser()},methods:{closeAccounts:function(){var t=this;this.request({url:this.endpoint("companies/closeAccounts"),method:"post",success:function(e){t.successNotify()}})}}},ke=ye,we=Object(v["a"])(ke,re,le,!1,null,"ad07ab18",null),Ce=we.exports;f()(we,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rtl"},[a("m-form",{attrs:{title:"شرکت",items:t.items,cols:t.cols,canSubmit:!0,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("m-file-input",{attrs:{label:"لوگو",disabled:!t.isEditing,"delete-attachment":t.item.delete_logo},on:{"update:deleteAttachment":function(e){return t.$set(t.item,"delete_logo",e)},"update:delete-attachment":function(e){return t.$set(t.item,"delete_logo",e)}},model:{value:t.item.logo,callback:function(e){t.$set(t.item,"logo",e)},expression:"item.logo"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{rows:"3",label:"آدرس 1",disabled:!t.isEditing},model:{value:t.item.address1,callback:function(e){t.$set(t.item,"address1",e)},expression:"item.address1"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{rows:"3",label:"آدرس 2",disabled:!t.isEditing},model:{value:t.item.address2,callback:function(e){t.$set(t.item,"address2",e)},expression:"item.address2"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"کشور",disabled:!t.isEditing},model:{value:t.item.country,callback:function(e){t.$set(t.item,"country",e)},expression:"item.country"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شماره ثبت",disabled:!t.isEditing},model:{value:t.item.sabt_number,callback:function(e){t.$set(t.item,"sabt_number",e)},expression:"item.sabt_number"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"تلفن 1",disabled:!t.isEditing},model:{value:t.item.phone1,callback:function(e){t.$set(t.item,"phone1",e)},expression:"item.phone1"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"تلفن 2",disabled:!t.isEditing},model:{value:t.item.phone2,callback:function(e){t.$set(t.item,"phone2",e)},expression:"item.phone2"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"فکس",disabled:!t.isEditing},model:{value:t.item.fax,callback:function(e){t.$set(t.item,"fax",e)},expression:"item.fax"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"ایمیل",type:"email",disabled:!t.isEditing},model:{value:t.item.email,callback:function(e){t.$set(t.item,"email",e)},expression:"item.email"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"کد پستی",type:"number",disabled:!t.isEditing},model:{value:t.item.postal_code,callback:function(e){t.$set(t.item,"postal_code",e)},expression:"item.postal_code"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"وبسایت",disabled:!t.isEditing},model:{value:t.item.website,callback:function(e){t.$set(t.item,"website",e)},expression:"item.website"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"کد اقتصادی",disabled:!t.isEditing},model:{value:t.item.eghtesadi_code,callback:function(e){t.$set(t.item,"eghtesadi_code",e)},expression:"item.eghtesadi_code"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شناسه ملی / کد ملی",disabled:!t.isEditing},model:{value:t.item.shenase,callback:function(e){t.$set(t.item,"shenase",e)},expression:"item.shenase"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"3",label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0},{key:"item.activate",fn:function(e){var i=e.item;return[t.company&&t.company.id==i.id?a("v-btn",{attrs:{icon:"",color:"blue",large:""}},[a("v-icon",[t._v("fa-toggle-on")])],1):a("v-btn",{attrs:{color:"blue",icon:"",large:""},on:{click:function(e){return t.activeCompany(i)}}},[a("v-icon",[t._v("fa-toggle-off")])],1)]}}])})],1)},$e=[],Te={mixins:[Lt["b"],kt],props:{},data:function(){return{baseUrl:"companies",permissionBasename:"company",items:[],cols:[{text:"نام",value:"name"},{text:"",value:"activate",sortable:!1,filterable:!1}]}},computed:{createUrl:function(){return"".concat(this.baseUrl,"/")},updateUrl:function(){return this.item.id&&"".concat(this.baseUrl,"/").concat(this.item.id,"/")},deleteUrl:function(){return this.item.id&&"".concat(this.baseUrl,"/").concat(this.item.id,"/")}},methods:{getData:function(){this.getCompanies(),this.getUser()},getCompanies:function(){var t=this;this.request({url:this.endpoint("companies/list"),method:"get",success:function(e){t.items=e}})},getSerialized:function(){var t=this.copy(this.item);return Object(_t["a"])(t["logo"])==Object(_t["a"])("")&&delete t["logo"],this.jsonToFormData(t)},activeCompany:function(t){var e=this;this.request({url:this.endpoint("users/setActiveCompany"),method:"post",data:{company:t.id},success:function(t){e.successNotify(),window.location.reload(),e.getUser()}})}}},Se=Te,Ve=a("a844"),Fe=Object(v["a"])(Se,Ee,$e,!1,null,null,null),Pe=Fe.exports;f()(Fe,{VBtn:_["a"],VCol:it["a"],VIcon:b["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rtl"},[a("m-form",{attrs:{title:"سال مالی",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"header-btns",fn:function(){},proxy:!0},{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{label:"* سیستم انبار",items:t.warehouseSystems,disabled:void 0!=t.item.id&&""!=t.item.warehouse_system,"return-object":!1},model:{value:t.item.warehouse_system,callback:function(e){t.$set(t.item,"warehouse_system",e)},expression:"item.warehouse_system"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("date",{attrs:{label:" * شروع",default:!0,disabled:!t.isEditing},model:{value:t.item.start,callback:function(e){t.$set(t.item,"start",e)},expression:"item.start"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("date",{attrs:{label:" * پایان",default:!0,disabled:!t.isEditing},model:{value:t.item.end,callback:function(e){t.$set(t.item,"end",e)},expression:"item.end"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0},{key:"item.activate",fn:function(e){var i=e.item;return[t.financialYear&&t.financialYear.id==i.id?a("v-btn",{attrs:{icon:"",color:"blue",large:""}},[a("v-icon",[t._v("fa-toggle-on")])],1):a("v-btn",{attrs:{color:"blue",icon:"",large:""},on:{click:function(e){return t.activeFinancialYear(i)}}},[a("v-icon",[t._v("fa-toggle-off")])],1)]}}])})],1)},Ae=[],Ie={methods:{getFinancialYears:function(t){this.request({url:this.endpoint("companies/financialYears/"),method:"get",success:function(e){t(e)}})},getCompanyUserInvitations:function(t){this.request({url:this.endpoint("companies/companyUserInvitations/"),method:"get",success:function(e){t(e)}})}}},je={mixins:[Lt["b"],kt,Ie],props:{},data:function(){var t=[{text:"دائمی",value:"d"},{text:"ادواری",value:"a"}];return{baseUrl:"companies/financialYears",permissionBasename:"financialYear",items:[],warehouseSystems:t,cols:[{text:"نام",value:"name"},{text:"سیستم انبار",value:"warehouse_system",type:"select",items:t},{text:"شروع",value:"start"},{text:"پایان",value:"end"},{text:"",value:"activate",sortable:!1,filterable:!1}]}},computed:{createUrl:function(){return"".concat(this.baseUrl,"/")},updateUrl:function(){return this.item.id&&"".concat(this.baseUrl,"/").concat(this.item.id,"/")},deleteUrl:function(){return this.item.id&&"".concat(this.baseUrl,"/").concat(this.item.id,"/")}},methods:{getData:function(){var t=this;this.getUser(),this.getFinancialYears((function(e){return t.items=e}))},getSerialized:function(){return this.item.company=this.company.id,this.item},activeFinancialYear:function(t){var e=this;confirm("با تغییر سال مالی سایر تب های سامانه بسته می شوند، میخواهید ادامه دهید؟")&&this.request({url:this.endpoint("users/setActiveFinancialYear"),method:"post",data:{financial_year:t.id},success:function(t){e.tabEmit("change:activeFinancialYear"),e.successNotify(),window.location.reload()}})}}},Le=je,Re=a("b974"),Oe=Object(v["a"])(Le,De,Ae,!1,null,null,null),qe=Oe.exports;f()(Oe,{VBtn:_["a"],VCol:it["a"],VIcon:b["a"],VRow:ct["a"],VSelect:Re["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(" اعلان ها "),a("v-spacer")],1),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters,"show-export-btns":!1,"item-class":t.getItemClass},on:{"update:filters":function(e){t.filters=e},"click:row":t.openDetailDialog}})],1),a("notification-dialog",{attrs:{item:t.item,detailDialog:t.detailDialog},on:{"update:detailDialog":function(e){t.detailDialog=e},"update:detail-dialog":function(e){t.detailDialog=e},statusChanged:function(e){return t.$refs.datatable.getDataFromApi()}}})],1)},Ue=[],Me={name:"Notifications",components:{NotificationDialog:Vt},data:function(){return{filters:{},detailDialog:!1,item:null}},computed:{url:function(){return"users/notifications"},headers:function(){var t=[{text:"عنوان",value:"title"},{text:"توضیحات",value:"explanation"},{text:"تاریخ",value:"created_at",type:"date"},{text:"وضعیت",value:"status"}];return t}},methods:{openDetailDialog:function(t){this.item=t,this.detailDialog=!0},getItemClass:function(t){return"ur"==t.status_codename?"grey lighten-3 clickable":"white clickable"}}},Ne=Me,Ye=(a("5ae3"),Object(v["a"])(Ne,Be,Ue,!1,null,null,null)),ze=Ye.exports;f()(Ye,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VSpacer:dt["a"]});var We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"form",attrs:{title:t.title,cols:t.cols,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1,"api-url":t.baseUrl+"/",serverProcessing:t.serverProcessing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"* عنوان",disabled:!t.isEditing},model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"* توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),t.isReminder?t._e():a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{label:"* دریافت کننده ها",items:t.users,"item-text":"name","item-value":"id",disabled:!t.isEditing,multiple:!0},model:{value:t.item.receivers,callback:function(e){t.$set(t.item,"receivers",e)},expression:"item.receivers"}})],1),t.isReminder?t._e():a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"ارسال زماندار",disabled:!t.isEditing},model:{value:t.item.has_schedule,callback:function(e){t.$set(t.item,"has_schedule",e)},expression:"item.has_schedule"}})],1),t.item.has_schedule||t.isReminder?[a("v-col",{attrs:{cols:"6"}},[a("date",{attrs:{label:" * تاریخ",required:"",default:!0,disabled:!t.isEditing},model:{value:t.item.send_date,callback:function(e){t.$set(t.item,"send_date",e)},expression:"item.send_date"}})],1),a("v-col",{attrs:{cols:"6"}},[a("mtime",{attrs:{label:" * ساعت",required:"",default:!0,disabled:!t.isEditing},model:{value:t.item.send_time,callback:function(e){t.$set(t.item,"send_time",e)},expression:"item.send_time"}})],1)]:t._e(),t.isReminder?t._e():a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"نمایش pop-up",disabled:!t.isEditing},model:{value:t.item.show_pop_up,callback:function(e){t.$set(t.item,"show_pop_up",e)},expression:"item.show_pop_up"}})],1)],2)]},proxy:!0},{key:"item.detail",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{color:"light-blue whtie--text",icon:""},on:{click:function(e){return t.openReceiversDialog(i)}}},[a("v-icon",[t._v("fa fa-users")])],1)]}}])}),a("v-dialog",{attrs:{scrollable:"","max-width":"500px"},model:{value:t.receiversDialog,callback:function(e){t.receiversDialog=e},expression:"receiversDialog"}},[a("v-card",[t.item?a("m-datatable",{attrs:{filters:t.receiversDatatableFilters,showExportBtns:!1,showSelect:!1,showAppliedFilters:!1,headers:t.receiversDatatableHeaders,items:t.item.userNotifications},on:{"update:filters":function(e){t.receiversDatatableFilters=e}}}):t._e()],1)],1)],1)},Ge=[],Ke=a("1276"),He={name:"NotificationForm",mixins:[Lt["b"],Rt["a"]],components:{mtime:Ke["a"]},props:{type:{required:!0}},data:function(){return{item:{},appendSlash:!0,permissionBasename:"",serverProcessing:!0,receiversDialog:!1,receiversDatatableFilters:{},receiversDatatableHeaders:[{text:"کاربر",value:"user"},{text:"وضعیت",value:"status",type:"select",items:[{text:"خوانده شده",value:"خوانده شده"},{text:"خوانده نشده",value:"خوانده نشده"}]}]}},computed:{title:function(){return this.isReminder?"یاداور":"ارسال اعلان"},isReminder:function(){return"reminder"==this.type},baseUrl:function(){return this.isReminder?"users/reminderNotification":"users/sendNotification"},cols:function(){var t=[{text:"عنوان",value:"title"},{text:"توضیحات",value:"explanation"}];return this.isReminder?t.push({text:"تاریخ",value:"send_date",type:"date"},{text:"ساعت",value:"send_time"}):t.push({text:"تاریخ",value:"created_at",type:"date"},{text:"وضعیت",value:"detail",sortable:!1,filterable:!1}),t}},methods:{getData:function(){this.getUsers()},openReceiversDialog:function(t){this.receiversDialog=!0}}},Qe=He,Xe=a("c6a6"),Je=a("b73d"),Ze=Object(v["a"])(Qe,We,Ge,!1,null,null,null),ta=Ze.exports;f()(Ze,{VAutocomplete:Xe["a"],VBtn:_["a"],VCard:tt["a"],VCol:it["a"],VDialog:nt["a"],VIcon:b["a"],VRow:ct["a"],VSwitch:Je["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rtl"},[a("m-form",{attrs:{title:t.title,items:t.companyUsers,cols:t.cols,isEditing:t.isEditing,canDelete:t.canDelete,canSubmit:t.canSubmit&&t.item.id,"show-navigation-btns":!1,showListBtn:!1,showClearBtn:!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"UserInvitations"}}},[t._v("افزودن کاربر")])]},proxy:!0},{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:" * کد ملی",disabled:!0},model:{value:t.item.user.username,callback:function(e){t.$set(t.item.user,"username",e)},expression:"item.user.username"}})],1),[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{type:"number",label:"شماره موبایل",required:"",disabled:!0},model:{value:t.item.user.phone,callback:function(e){t.$set(t.item.user,"phone",e)},expression:"item.user.phone"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"نام",disabled:!0},model:{value:t.item.user.first_name,callback:function(e){t.$set(t.item.user,"first_name",e)},expression:"item.user.first_name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"نام خانوادگی",disabled:!0},model:{value:t.item.user.last_name,callback:function(e){t.$set(t.item.user,"last_name",e)},expression:"item.user.last_name"}})],1)],a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"سال های مالی",items:t.financialYears,disabled:!t.isEditing,"item-text":"name","item-value":"id",multiple:""},model:{value:t.item.financialYears,callback:function(e){t.$set(t.item,"financialYears",e)},expression:"item.financialYears"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"نقش ها",items:t.roles,disabled:!t.isEditing,"item-text":"name","item-value":"id",multiple:""},model:{value:t.item.roles,callback:function(e){t.$set(t.item,"roles",e)},expression:"item.roles"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"فعال",disabled:!t.isEditing},model:{value:t.item.is_active,callback:function(e){t.$set(t.item,"is_active",e)},expression:"item.is_active"}})],1)],2)]},proxy:!0}])})],1)},aa=[],ia={methods:{getRoles:function(t){this.request({url:this.endpoint("users/roles/list"),method:"get",success:function(e){t(e)}})}}},sa={mixins:[Lt["b"],ia,Rt["a"],Ie],data:function(){return{baseUrl:"companies/companyUsers",appendSlash:!0,roles:[],financialYears:[],permissionBasename:"user",cols:[{text:"نام",value:"user.first_name"},{text:"نام خانوادگی",value:"user.last_name"},{text:"نام کاربری",value:"user.username"},{text:"فعال",value:"is_active",type:"boolean"}]}},computed:{title:function(){return"کاربران"}},methods:{getItemTemplate:function(){return{id:null,roles:[],financialYears:[],is_active:!0,user:{}}},getData:function(){var t=this;this.getUsers(),this.getRoles(this.setRoles),this.getFinancialYears((function(e){return t.financialYears=e}))},setRoles:function(t){this.roles=t},getSerialized:function(){var t=Object(o["a"])({},this.item);return t}}},na=sa,oa=Object(v["a"])(na,ea,aa,!1,null,null,null),ra=oa.exports;f()(oa,{VAutocomplete:Xe["a"],VBtn:_["a"],VCol:it["a"],VRow:ct["a"],VSwitch:Je["a"],VTextField:pt["a"]});var la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rtl"},[a("m-form",{attrs:{title:t.title,items:t.items,cols:t.cols,isEditing:t.isEditing,canDelete:t.canDelete,canSubmit:t.canSubmit,"show-navigation-btns":!1,showListBtn:!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.isInvitation?t._e():a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"Users"}}},[t._v("کاربران")])]},proxy:!0},{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:" * کد ملی",disabled:!t.isEditing},model:{value:t.item.username,callback:function(e){t.$set(t.item,"username",e)},expression:"item.username"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* کد تایید",disabled:!t.isEditing},model:{value:t.item.confirmation_code,callback:function(e){t.$set(t.item,"confirmation_code",e)},expression:"item.confirmation_code"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"سال های مالی",items:t.financialYears,disabled:!t.isEditing,"item-text":"name","item-value":"id",multiple:""},model:{value:t.item.financialYears,callback:function(e){t.$set(t.item,"financialYears",e)},expression:"item.financialYears"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"نقش ها",items:t.roles,disabled:!t.isEditing,"item-text":"name","item-value":"id",multiple:""},model:{value:t.item.roles,callback:function(e){t.$set(t.item,"roles",e)},expression:"item.roles"}})],1)],1)]},proxy:!0}])})],1)},ca=[],ua={mixins:[Lt["b"],ia,Rt["a"],Ie,qt],props:{isInvitation:{default:!1}},data:function(){return{baseUrl:"companies/companyUserInvitations",appendSlash:!0,roles:[],items:[],financialYears:[],permissionBasename:"user"}},computed:{title:function(){return"دعوت از کاربران"},cols:function(){return[{text:"کد ملی",value:"username"},{text:"کد تایید",value:"confirmation_code"},{text:"وضعیت",value:"status",type:"select",items:this.UserInvitationStatuses}]}},methods:{getItemTemplate:function(){return{id:null,roles:[],financialYears:[]}},getData:function(){var t=this;this.getCompanyUserInvitations((function(e){t.items=e})),this.getRoles((function(e){return t.roles=e})),this.getFinancialYears((function(e){return t.financialYears=e}))}}},da=ua,ma=Object(v["a"])(da,la,ca,!1,null,null,null),pa=ma.exports;f()(ma,{VAutocomplete:Xe["a"],VBtn:_["a"],VCol:it["a"],VRow:ct["a"],VTextField:pt["a"]});var va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rtl"},[a("m-form",{attrs:{title:"نقش",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-subheader",[t._v("دسترسی ها")]),a("div",{staticClass:"d-flex flex-column flex-md-row"},[a("v-text-field",{attrs:{placeholder:"جستجو"},model:{value:t.modelSearch,callback:function(e){t.modelSearch=e},expression:"modelSearch"}}),a("v-spacer"),a("v-btn",{staticClass:"mt-1 mt-md-0",attrs:{disabled:!t.isEditing,small:"",depressed:"",color:"cyan white--text"},on:{click:function(e){return t.setAll({value:!1})}}},[t._v("عدم انتخاب همه")]),a("v-btn",{staticClass:"mt-1 mt-md-0 mr-md-1",attrs:{disabled:!t.isEditing,small:"",depressed:"",color:"cyan white--text"},on:{click:function(e){return t.setAll({value:!0})}}},[t._v("انتخاب همه")])],1),a("v-expansion-panels",{staticClass:"mt-3",attrs:{multiple:""}},t._l(t.filteredModels,(function(e,i){return a("v-expansion-panel",{directives:[{name:"show",rawName:"v-show",value:t.showModelPermissions(e),expression:"showModelPermissions(model)"}],key:i},[a("v-expansion-panel-header",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[t._v(t._s(e.label))]),a("v-spacer"),a("v-col",{staticClass:"text-left pl-6 d-flex justify-end"},[a("v-btn",{attrs:{icon:"",disabled:!t.isEditing},on:{click:function(a){return a.stopPropagation(),t.setAll({model:e,value:!1})}}},[a("v-icon",[t._v("fa-times")])],1),a("v-btn",{staticClass:"mr-1",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(a){return a.stopPropagation(),t.setAll({model:e,value:!0})}}},[a("v-icon",[t._v("fa-check-double")])],1),a("v-btn",{staticClass:"mr-1",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(a){return a.stopPropagation(),t.setAll({model:e,value:!0,justOwn:!0})}}},[a("v-icon",[t._v("fa-user-shield")])],1)],1)],1)],1),a("v-expansion-panel-content",[a("v-row",[t.hasShortcutPerms(e)?a("v-col",{attrs:{cols:"12"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("v-btn-toggle",{attrs:{"background-color":"white",multiple:"",color:"green",tile:"",borderless:""},model:{value:t.item[e.modelKey],callback:function(a){t.$set(t.item,e.modelKey,a)},expression:"item[model.modelKey]"}},t._l(t.getPermissionBtns(e),(function(i,s){return a("v-tooltip",{key:s,attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[a("v-btn",t._g(t._b({style:t.getPermissionBtns(e).length!=s-1?"border-left: 1px solid black":"",attrs:{tile:"",value:i.value}},"v-btn",r,!1),o),[a("v-icon",[t._v(t._s(i.icon))])],1)]}}],null,!0)},[a("span",[t._v(t._s(i.tootltip))])])})),1)],1),a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("v-btn-toggle",{attrs:{"background-color":"white",multiple:"",color:"lime",tile:"",borderless:""},model:{value:t.item[e.ownModelKey],callback:function(a){t.$set(t.item,e.ownModelKey,a)},expression:"item[model.ownModelKey]"}},[t._l(t.getPermissionBtns(e),(function(i,s){return[i.ownValue?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on,r=n.attrs;return[a("v-btn",t._g(t._b({style:t.getPermissionBtns(e).length!=s-1?"border-left: 1px solid black":"",attrs:{tile:"",value:i.ownValue}},"v-btn",r,!1),o),[a("v-icon",[t._v("fa-user-shield")])],1)]}}],null,!0)},[a("span",[t._v(t._s(i.tootltip)+" مواردی که خود کاربر ثبت کرده است")])]):a("v-btn",{staticStyle:{"border-left":"1px solid black","background-color":"white !important"},attrs:{disabled:""}})]}))],2)],1)],1)],1):t._e(),a("v-col",{attrs:{cols:"12"}},t._l(e.permissions,(function(i,s){return a("v-switch",{key:s,attrs:{label:i.name,disabled:!t.isEditing},model:{value:t.item[e.otherModelKey][i.id],callback:function(a){t.$set(t.item[e.otherModelKey],i.id,a)},expression:"item[model.otherModelKey][permission.id]"}})})),1)],1)],1)],1)})),1)],1)],1)]},proxy:!0}])})],1)},ha=[],fa=(a("2ca0"),a("8a79"),a("12767"),{mixins:[Lt["b"],ia],props:{},data:function(){return{baseUrl:"users/roles/list",permissionBasename:"role",items:[],modelSearch:"",rawPermissions:[],operations:["get","create","update","delete"],cols:[{text:"نام",value:"name"}]}},computed:{createUrl:function(){return"users/roles/create"},updateUrl:function(){return this.item.id&&"users/roles/update/".concat(this.item.id)},deleteUrl:function(){return this.item.id&&"users/roles/delete/".concat(this.item.id)},otherPermissions:function(){var t=["get.account","get.option","update.option"];return this.rawPermissions.filter((function(e){var a=e.codename,i=t.includes(a)||"reportspermissions"==e.contentType.model||e.codename.includes("firstPeriodInventory")||e.codename.includes("userInvitation")||!a.startsWith("get")&&!a.startsWith("create")&&!a.startsWith("update")&&!a.startsWith("delete");return i}))},models:function(){var t=this,e=[{app:"users",name:"role",label:"نقش ها"},{app:"users",name:"user",label:"کاربران"},{app:"companies",name:"userInvitation",label:"دعوت نامه "},{app:"users",name:"notification",label:"اعلان"},{app:"users",name:"city",label:"شهر ها"},{app:"companies",name:"company",label:"شرکت ها"},{app:"companies",name:"financialYear",label:"سال های مالی"},{app:"accounts",name:"floatAccountGroup",label:"گروه حساب شناور و مرکز هزینه و درآمد"},{app:"accounts",name:"floatAccount",label:"حساب شناور و مرکز هزینه و درآمد"},{app:"accounts",name:"account0",label:"گروه حساب"},{app:"accounts",name:"account1",label:"حساب کل"},{app:"accounts",name:"account2",label:"حساب معین"},{app:"accounts",name:"account3",label:"حساب تفصیلی"},{app:"accounts",name:"account",label:"مشاهده حساب ها"},{app:"accounts",name:"defaultAccount",label:"حساب های پیشفرض"},{app:"wares",name:"unit",label:"واحد ها"},{app:"wares",name:"warehouse",label:"انبار ها"},{app:"wares",name:"ware",label:"کالا و سطوح کالا"},{app:"wares",name:"salePriceType",label:"انواع نرخ های فروش"},{app:"sanads",name:"sanad",label:"اسناد"},{app:"transactions",name:"receiveTransaction",label:"دریافت"},{app:"transactions",name:"paymentTransaction",label:"پرداخت"},{app:"transactions",name:"bankTransferTransaction",label:"پرداخت بین بانک ها"},{app:"transactions",name:"receivedGuaranteeTransaction",label:"اسناد ضمانتی دریافتی"},{app:"transactions",name:"paymentGuaranteeTransaction",label:"اسناد ضمانتی پرداختی"},{app:"transactions",name:"bankingOperation",label:"عملیات های بانکی"},{app:"transactions",name:"imprestTransaction",label:"پرداخت تنخواه"},{app:"imprests",name:"imprestSettlement",label:"تسویه تنخواه"},{app:"cheques",name:"chequebook",label:"دسته چک"},{app:"cheques",name:"receivedCheque",label:"چک دریافتنی"},{app:"cheques",name:"paidCheque",label:"چک پرداختنی"},{app:"cheques",name:"statusChange",label:"تغییر وضعیت چک"},{app:"factors",name:"expense",label:"هزینه های فاکتور"},{app:"factors",name:"receipt",label:"رسید"},{app:"factors",name:"remittance",label:"حواله"},{app:"factors",name:"buyPreFactor",label:"پیش فاکتور خرید"},{app:"factors",name:"salePreFactor",label:"پیش فاکتور فروش"},{app:"factors",name:"buyFactor",label:"فاکتور خرید"},{app:"factors",name:"saleFactor",label:"فاکتور فروش"},{app:"factors",name:"backFromBuyFactor",label:"فاکتور برگشت از خرید"},{app:"factors",name:"backFromSaleFactor",label:"فاکتور برگشت از فروش"},{app:"factors",name:"firstPeriodInventory",label:"موجودی اول دوره"},{app:"factors",name:"consumptionWareFactor",label:"حواله کالای مصرفی"},{app:"factors",name:"transfer",label:"انتقال"},{app:"factors",name:"warehouseHandling",label:"انبارگردانی"},{app:"factors",name:"adjustment",label:"تعدیل"},{app:"reports",name:"reports",label:"گزارش ها"},{app:"reports",name:"exportVerifier",label:"تایید کنندگان خروجی"},{app:"home",name:"option",label:"تنظیمات"}];return this.hasModule("dashtbashi")&&e.push.apply(e,[{app:"_dashtbashi",name:"driver",label:"راننده"},{app:"_dashtbashi",name:"car",label:"ماشین"},{app:"_dashtbashi",name:"driving",label:"انتصاب راننده به ماشین"},{app:"_dashtbashi",name:"association",label:"انجمن"},{app:"_dashtbashi",name:"remittance",label:"حواله حمل و نقل"},{app:"_dashtbashi",name:"ladingBillSeries",label:"سری بارگیری"},{app:"_dashtbashi",name:"ladingBillNumber",label:"کد بارگیری"},{app:"_dashtbashi",name:"lading",label:"بارگیری"},{app:"_dashtbashi",name:"oilCompanyLading",label:"بارگیری شرکت نفت"},{app:"_dashtbashi",name:"otherDriverPayment",label:"پرداخت رانندگان متفرقه"}]),this.hasModule("distribution")&&e.push.apply(e,[{app:"distributions",name:"path",label:"مسیر ها"},{app:"distributions",name:"car",label:"ماشین"},{app:"distributions",name:"visitor",label:"ویزیتور ها"},{app:"distributions",name:"commissionRange",label:"بازه کمیسیون"},{app:"distributions",name:"distributor",label:"موزع"},{app:"distributions",name:"driver",label:"راننده"},{app:"distributions",name:"distribution",label:"تحویل فاکتور جهت توزیع"}]),e.map((function(e){return e.permissions=t.getModelOtherPermissions(e),e.modelKey="".concat(e.app,".").concat(e.name),e.ownModelKey="".concat(e.modelKey,".own"),e.otherModelKey="".concat(e.modelKey,".other"),e})),e},filteredModels:function(){var t=this;return this.models.filter((function(e){return e.label.includes(t.modelSearch)}))}},methods:{showModelPermissions:function(t){if(!this.item||!this.item.id||this.isEditing)return!0;return this.item[t.modelKey].length||this.item[t.ownModelKey].length||Object.keys(this.item[t.otherModelKey]).length},getPermissionBtns:function(t){var e=[{icon:"fa-eye",tootltip:"مشاهده",value:"get.".concat(t.name),ownValue:"getOwn.".concat(t.name)},{icon:"fa-plus",tootltip:"تعریف",value:"create.".concat(t.name)},{icon:"fa-edit",tootltip:"ویرایش",value:"update.".concat(t.name),ownValue:"updateOwn.".concat(t.name)},{icon:"fa-trash-alt",tootltip:"حذف",value:"delete.".concat(t.name),ownValue:"deleteOwn.".concat(t.name)}];return e},getPermissionByCodename:function(t){var e=this.rawPermissions.filter((function(e){return e.codename==t}));return e.length?e[0]:null},hasShortcutPerms:function(t){return!["firstPeriodInventory","reports","account","option","userInvitation","notification"].includes(t.name)},getModelOtherPermissions:function(t){var e=this;return this.otherPermissions.filter((function(a){return e.isModelPermission(t,a)}))},isModelPermission:function(t,e){return!!("reports"==t.app&&"reports"==t.name&&e.codename.endsWith("Report")||"accounts"==t.app&&"account"==t.name&&"get.account"==e.codename)||e.contentType.app_label==t.app&&e.codename.split(".")[1]==t.name},getItemTemplate:function(){var t,e={},a=Object(c["a"])(this.models);try{for(a.s();!(t=a.n()).done;){var i=t.value;e[i.modelKey]=[],e[i.ownModelKey]=[],e[i.otherModelKey]={}}}catch(s){a.e(s)}finally{a.f()}return e},clearForm:function(){this.item=this.copy(this.getItemTemplate()),this.item.permissions=this.getPermissionsTemplate(),this.isEditing=!0},getPermissionsTemplate:function(){var t,e={},a=Object(c["a"])(this.rawPermissions);try{for(a.s();!(t=a.n()).done;){var i=t.value;e[i.id]=!1}}catch(s){a.e(s)}finally{a.f()}return e},setItem:function(t){var e=this;t=Object(o["a"])(Object(o["a"])({},this.getItemTemplate()),t),t.permissionObjects=t.permissions.map((function(t){return e.rawPermissions.find((function(e){return e.id==t}))}));var a,i=Object(c["a"])(this.models);try{for(i.s();!(a=i.n()).done;){var s,n=a.value,r=Object(c["a"])(t.permissionObjects);try{for(r.s();!(s=r.n()).done;){var l=s.value;this.isModelPermission(n,l)&&(this.otherPermissions.map((function(t){return t.id})).includes(l.id)?t[n.otherModelKey][l.id]=!0:l.codename.includes("Own")?t[n.ownModelKey].push(l.codename):t[n.modelKey].push(l.codename))}}catch(u){r.e(u)}finally{r.f()}}}catch(u){i.e(u)}finally{i.f()}this.item=t},isCheckedPermission:function(t){return this.item.permissions.filter((function(e){return e==t.id})).length},getData:function(){this.getRoles(this.setRoles),this.getPermissions()},setRoles:function(t){this.modelSearch="",this.items=t},getPermissions:function(){var t=this;this.request({url:this.endpoint("users/permissions/list"),method:"get",success:function(e){t.rawPermissions=e,t.clearForm()}})},setAll:function(t){var e=t.model,a=void 0===e?null:e,i=t.value,s=t.justOwn,n=void 0!==s&&s;if(a){var o=this.getPermissionBtns(a);this.item[a.modelKey]=[],this.item[a.ownModelKey]=[],this.item[a.otherModelKey]={},i&&(n?this.item[a.ownModelKey]=o.map((function(t){return t.ownValue})):this.item[a.modelKey]=o.map((function(t){return t.value})));var r,l=Object(c["a"])(a.permissions);try{for(l.s();!(r=l.n()).done;){var u=r.value;n?u.codename.toLowerCase().includes("own")&&(this.item[a.otherModelKey][u.id]=i):this.item[a.otherModelKey][u.id]=i}}catch(v){l.e(v)}finally{l.f()}}else{var d,m=Object(c["a"])(this.filteredModels);try{for(m.s();!(d=m.n()).done;){var p=d.value;this.setAll({model:p,value:i,justOwn:n})}}catch(v){m.e(v)}finally{m.f()}}},getSerialized:function(){var t=this,e=this.copy(this.item);delete e.permissionObjects;var a,i=[],s=Object(c["a"])(this.models);try{var n=function(){var s=a.value;i.push.apply(i,Object(bt["a"])(t.rawPermissions.filter((function(a){return t.isModelPermission(s,a)&&(e[s.modelKey].includes(a.codename)||e[s.ownModelKey].includes(a.codename))})).map((function(t){return t.id})))),i.push.apply(i,Object(bt["a"])(Object.keys(e[s.otherModelKey]).filter((function(t){return e[s.otherModelKey][t]})))),delete e[s.modelKey],delete e[s.ownModelKey],delete e[s.otherModelKey]};for(s.s();!(a=s.n()).done;)n()}catch(o){s.e(o)}finally{s.f()}return e.permissions=i,e}}}),_a=fa,ba=a("a609"),xa=a("cd55"),ga=a("49e2"),ya=a("c865"),ka=a("0393"),wa=a("e0c7"),Ca=a("3a2f"),Ea=Object(v["a"])(_a,va,ha,!1,null,null,null),$a=Ea.exports;f()(Ea,{VBtn:_["a"],VBtnToggle:ba["a"],VCol:it["a"],VExpansionPanel:xa["a"],VExpansionPanelContent:ga["a"],VExpansionPanelHeader:ya["a"],VExpansionPanels:ka["a"],VIcon:b["a"],VRow:ct["a"],VSpacer:dt["a"],VSubheader:wa["a"],VSwitch:Je["a"],VTextField:pt["a"],VTooltip:Ca["a"]});var Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rtl"},[a("m-form",{attrs:{title:"شهر",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1)],1)]},proxy:!0}])})],1)},Sa=[],Va=a("89ce"),Fa={mixins:[Lt["b"],Va["a"]],props:{},data:function(){return{baseUrl:"users/cities",permissionBasename:"city",cols:[{text:"نام",value:"name",type:"text",filters:["name"]}]}},computed:{items:function(){return this.$store.state.cities}},methods:{getData:function(){this.getCities()}}},Pa=Fa,Da=Object(v["a"])(Pa,Ta,Sa,!1,null,null,null),Aa=Da.exports;f()(Da,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"]});var Ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:t.title,items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,canClear:t.canClear,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1,showList:"tree"!=t.usage},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[void 0!=t.item.id?[a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",on:{click:function(e){return t.openLedger(t.item)}}},[t._v("دفتر این حساب")])]:t._e(),t._l(4,(function(e){return t.isBank||t.isPerson?t._e():[e-1!=t.level?a("v-btn",{key:e,staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:"/panel/accounts/"+(e-1)}},[t._v("تعریف "+t._s(t.getTitle(e-1)))]):a("v-btn",{key:e,staticClass:"blue white--text mr-1 mt-1 mt-md-0",on:{click:t.clearForm}},[t._v("تعریف "+t._s(t.getTitle(e-1)))])]}))]},proxy:!0},{key:"default",fn:function(){return[a("v-row",[t.hasParent?[a("v-col",{attrs:{cols:"12"}},[a("account-select",{attrs:{label:" * "+t.parentTitle,itemsType:t.itemsType,disabled:void 0!=t.item.id||!t.isEditing},on:{input:function(e){return!t.item.id&&e&&(t.item.type=e.type)}},model:{value:t.item.parent,callback:function(e){t.$set(t.item,"parent",e)},expression:"item.parent"}})],1),t.parents.length?a("v-col",{attrs:{cols:"12"}},[a("v-breadcrumbs",{attrs:{items:t.parents},scopedSlots:t._u([{key:"divider",fn:function(){return[a("v-icon",[t._v("fa-chevron-left")])]},proxy:!0}],null,!1,1727334028)})],1):t._e()]:t._e(),t.isPerson||t.isBank||0==t.level?t._e():a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{label:"نوع",items:t.accountTypes,disabled:!t.isEditing,"item-text":"name","item-value":"id"},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}})],1),void 0!=t.item.id?a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"کد",disabled:""},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1):t._e(),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),void 0!=t.item.id&&t.item.balance?a("v-col",{staticClass:"mt-3",attrs:{cols:"12"}},[a("v-simple-table",[a("thead",[a("tr",[a("th",[t._v("بدهکار")]),a("th",[t._v("بستانکار")]),a("th",[t._v("مانده")]),a("th",[t._v("تشخیص")])])]),a("tbody",[a("tr",[a("td",[t._v(t._s(t._f("toMoney")(t.item.balance.bed)))]),a("td",[t._v(t._s(t._f("toMoney")(t.item.balance.bes)))]),a("td",[t._v(t._s(t._f("toMoney")(t.item.balance.remain)))]),a("td",[t._v(t._s(t.getRemainType()))])])])])],1):t._e(),t.hasDetail?[a("v-col",{attrs:{cols:"12",md:"6"}},[a("account-select",{attrs:{label:"گروه حساب تفضیلی شناور",itemsType:"floatAccountGroups","deep-select":!1,"item-text":"name","item-value":"id",disabled:!t.isEditing,clearable:!0},model:{value:t.item.floatAccountGroup,callback:function(e){t.$set(t.item,"floatAccountGroup",e)},expression:"item.floatAccountGroup"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[t.hasCostCenter?[a("account-select",{attrs:{label:"گروه مرکز هزینه و درآمد","deep-select":!1,itemsType:"costCenterGroups","item-text":"name",disabled:!t.isEditing,clearable:!0},model:{value:t.item.costCenterGroup,callback:function(e){t.$set(t.item,"costCenterGroup",e)},expression:"item.costCenterGroup"}})]:t._e()],2),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{staticClass:"form-control",attrs:{label:"سقف بدهکاری",disabled:!t.isEditing},model:{value:t.item.max_bed,callback:function(e){t.$set(t.item,"max_bed",e)},expression:"item.max_bed"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{staticClass:"form-control",attrs:{label:"سقف بستانکاری",disabled:!t.isEditing},model:{value:t.item.max_bes,callback:function(e){t.$set(t.item,"max_bes",e)},expression:"item.max_bes"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{rows:"2",label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)]:t._e(),t.isBank?[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"نام بانک",disabled:!t.isEditing},model:{value:t.item.bank_name,callback:function(e){t.$set(t.item,"bank_name",e)},expression:"item.bank_name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"نام شعبه",disabled:!t.isEditing},model:{value:t.item.branch_name,callback:function(e){t.$set(t.item,"branch_name",e)},expression:"item.branch_name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"کد شعبه",disabled:!t.isEditing},model:{value:t.item.branch_code,callback:function(e){t.$set(t.item,"branch_code",e)},expression:"item.branch_code"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{staticClass:"form-control",attrs:{label:"شماره حساب",disabled:!t.isEditing},model:{value:t.item.account_number,callback:function(e){t.$set(t.item,"account_number",e)},expression:"item.account_number"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"کد شبا",disabled:!t.isEditing},model:{value:t.item.sheba,callback:function(e){t.$set(t.item,"sheba",e)},expression:"item.sheba"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{staticClass:"form-control",attrs:{label:"شماره تماس",disabled:!t.isEditing},model:{value:t.item.phone,callback:function(e){t.$set(t.item,"phone",e)},expression:"item.phone"}})],1)]:t._e(),t.isPerson?[a("v-col",{attrs:{cols:"12"}},[a("v-divider")],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:[{text:"خریدار",value:"b"},{text:"فروشنده",value:"s"}],"item-text":"text","item-value":"value","return-object":!1,label:" * حساب شخص",required:"",disabled:void 0!=t.item.id},model:{value:t.item.buyer_or_seller,callback:function(e){t.$set(t.item,"buyer_or_seller",e)},expression:"item.buyer_or_seller"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.personTypes,disabled:void 0!=t.item.id,label:" * نوع شخص","item-text":"title","item-value":"id"},model:{value:t.item.person_type,callback:function(e){t.$set(t.item,"person_type",e)},expression:"item.person_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"نرخ پیشفرض فروش",items:t.salePriceTypes,"return-object":!1,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.item.defaultSalePriceType,callback:function(e){t.$set(t.item,"defaultSalePriceType",e)},expression:"item.defaultSalePriceType"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"موبایل",disabled:!t.isEditing},model:{value:t.item.mobile,callback:function(e){t.$set(t.item,"mobile",e)},expression:"item.mobile"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"شماره تماس 1",disabled:!t.isEditing},model:{value:t.item.phone_1,callback:function(e){t.$set(t.item,"phone_1",e)},expression:"item.phone_1"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"شماره تماس 2",disabled:!t.isEditing},model:{value:t.item.phone_2,callback:function(e){t.$set(t.item,"phone_2",e)},expression:"item.phone_2"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"شماره ملی",disabled:!t.isEditing},model:{value:t.item.melli_code,callback:function(e){t.$set(t.item,"melli_code",e)},expression:"item.melli_code"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"وبسایت",disabled:!t.isEditing},model:{value:t.item.website,callback:function(e){t.$set(t.item,"website",e)},expression:"item.website"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"فکس",disabled:!t.isEditing},model:{value:t.item.fax,callback:function(e){t.$set(t.item,"fax",e)},expression:"item.fax"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"ایمیل",disabled:!t.isEditing},model:{value:t.item.email,callback:function(e){t.$set(t.item,"email",e)},expression:"item.email"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"استان",disabled:!t.isEditing},model:{value:t.item.province,callback:function(e){t.$set(t.item,"province",e)},expression:"item.province"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"شهر",disabled:!t.isEditing},model:{value:t.item.city,callback:function(e){t.$set(t.item,"city",e)},expression:"item.city"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"کد پستی",disabled:!t.isEditing},model:{value:t.item.postal_code,callback:function(e){t.$set(t.item,"postal_code",e)},expression:"item.postal_code"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"شماره حساب 1",disabled:!t.isEditing},model:{value:t.item.account_number_1,callback:function(e){t.$set(t.item,"account_number_1",e)},expression:"item.account_number_1"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"شماره حساب 2",disabled:!t.isEditing},model:{value:t.item.account_number_2,callback:function(e){t.$set(t.item,"account_number_2",e)},expression:"item.account_number_2"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"کد اقتصادی",disabled:!t.isEditing},model:{value:t.item.eghtesadi_code,callback:function(e){t.$set(t.item,"eghtesadi_code",e)},expression:"item.eghtesadi_code"}})],1),a("v-col",{attrs:{cols:"12",md:"8"}}),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{rows:"2",label:"آدرس 1",disabled:!t.isEditing},model:{value:t.item.address_1,callback:function(e){t.$set(t.item,"address_1",e)},expression:"item.address_1"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{rows:"2",label:"آدرس 2",disabled:!t.isEditing},model:{value:t.item.address_2,callback:function(e){t.$set(t.item,"address_2",e)},expression:"item.address_2"}})],1),t.hasModule("distribution")?[a("v-col",{attrs:{cols:"12"}},[a("v-divider")],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-card-subtitle",{staticClass:"py-0"},[t._v("مسیر")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-row",t._l(5,(function(e,i){return a("v-col",{key:i},[0==i||void 0!=t.path[i-1]?a("v-autocomplete",{attrs:{label:t.getPathTitle(i),items:t.getPathItems(i),"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{input:function(e){return t.clearPath(i)}},model:{value:t.path[i],callback:function(e){t.$set(t.path,i,e)},expression:"path[i]"}}):t._e()],1)})),1)],1)]:t._e()]:t._e()],2)]},proxy:!0}])})},ja=[],La=a("a49f"),Ra={data:function(){return{pricingTypes:[{id:"f",name:"فایفو"},{id:"wm",name:"میانگین موزون"}],waresStatuses:[{value:"all",text:"همه"},{value:"withRemain",text:"کالا های دارای مانده"},{value:"withoutRemain",text:"بدون مانده"},{value:"withTransaction",text:"کالا های دارای گردش"},{value:"withoutTransaction",text:"کالا های بدون گردش"}],wareLevels:[{value:null,text:"همه"},{value:0,text:"ماهیت"},{value:1,text:"گروه"},{value:2,text:"دسته بندی"},{value:3,text:"کالا"}]}},methods:{getWares:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e||!this.wares.length)&&this.canGet("wares"))return this.request({url:this.endpoint("wares/wares"),method:"get",success:function(e){t.$store.commit("setWares",{wares:e}),a&&t.init(),t.toggleIsGetting("wares"),t.EventBus.$emit("get:wares",e)}})},getWarehouses:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e||!this.warehouses.length)&&this.canGet("warehouses"))return this.request({url:this.endpoint("wares/warehouses"),method:"get",success:function(e){t.$store.commit("setWares",{warehouses:e}),a&&t.init(),t.toggleIsGetting("warehouses")}})},getUnits:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e||!this.units.length)return this.request({url:this.endpoint("wares/units"),method:"get",success:function(e){t.$store.commit("setWares",{units:e}),a&&t.init()}})},getSalePriceTypes:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e||!this.units.length)return this.request({url:this.endpoint("wares/salePriceTypes"),method:"get",success:function(e){t.$store.commit("setWares",{salePriceTypes:e}),a&&t.init()}})},getWareUnits:function(t){var e=t.salePrices.map((function(t){return t.unit})),a=this.units.filter((function(t){return e.includes(t.id)}));return a},getUnitSuffix:function(t,e){if(e&&t&&t.salePrices){var a=t.salePrices.find((function(t){return t.unit==e.id}));if(a&&1!=a["conversion_factor"])return"برابر ".concat(conversionFactor," ").concat(t.main_unit_name)}},convertToMainUnit:function(t,e,a){return e*(t.salePrices.filter((function(t){return t.unit==a.id}))[0].conversion_factor||1)}},computed:Object(o["a"])({},Object(G["b"])({wares:function(t){return t.wares.wares},warehouses:function(t){return t.wares.warehouses},units:function(t){return t.wares.units},salePriceTypes:function(t){return t.wares.salePriceTypes},isGetting:function(t){return t.isGetting}}))},Oa=a("923b"),qa={mixins:[Lt["b"],La["a"],La["a"],Ra,Oa["a"]],props:{level:{requried:!0},accountType:{default:"o",validator:function(t){return-1!=["p","b","o"].indexOf(t)}},parent:{default:null},usage:{default:null}},data:function(){return{item:{},baseUrl:"accounts/accounts",personTypes:[{title:"حقیقی",id:"r"},{title:"حقوقی",id:"l"},{title:"پیمانکاران",id:"c"},{title:"سایر",id:"o"}],cols:[{text:"کد حساب",value:"code"},{text:"نام حساب",value:"name"},{text:"نوع",value:"type.name"}],fetchedItems:[],path:[null,null,null,null,null]}},computed:{title:function(){return this.getTitle(this.level,this.accountType)},permissionBasename:function(){return"account".concat(this.level)},parentTitle:function(){return this.getTitle(+this.level-1)},itemsType:function(){return"level"+(this.level-1)},hasParent:function(){return 0!=this.level&&!this.isBank&&!this.isPerson},hasDetail:function(){return 3==this.level},hasCostCenter:function(){return!0},isBank:function(){return"b"==this.accountType},isPerson:function(){return"p"==this.accountType},items:function(){var t=this;return this.accounts.filter((function(e){return e.level==t.level&&e.account_type==t.accountType}))},parentItems:function(){return this.accountsSelectValues.levels[this.level-1]},canClear:function(){return this.isPerson||this.isBank},parents:function(){if(!this.hasParent||!this.item.parent)return[];var t=[];return this.accountParentsName(this.item).forEach((function(e){t.push({text:e})})),t}},watch:{parent:function(){this.item.id||(this.item.parent=this.parent)}},created:function(){var t=this;this.EventBus.$on("get:accounts",(function(){var e=t.urlQuery.parent;e&&(t.item.parent=t.accounts.filter((function(t){return t.id==e}))[0])}))},mounted:function(){this.getSalePriceTypes()},methods:{getRemainType:function(){var t=this.item.balance.bed,e=this.item.balance.bes;return t==e?" - ":t>e?"بدهکار":"بستانکار"},setItem:function(t){var e=this,a="accounts/accounts/".concat(t.id),i=this.fetchedItems.find((function(e){return e.id==t.id}));i?(this.item=i,this.setPath(t.path)):this.request({url:this.endpoint(a),method:"get",success:function(a){t=a,Object(_t["a"])(t.parent)==Object(_t["a"])(72)&&(t.parent=e.parentItems.filter((function(e){return e.id==t.parent}))[0]),e.fetchedItems.push(t),e.item=t,e.setPath(t.path)}})},setPath:function(t){var e=this,a=[null,null,null,null,null];t&&function(){a[4]=t;for(var i=e.paths.find((function(e){return e.id==t})),s=3;s>=0;s--)i=e.paths.find((function(t){return t.id==i.parent})),a[s]=i.id}(),this.path=a},getItemTemplate:function(){return{is_real:!0,type:null}},getData:function(){this.getAccounts(!0),this.getAccountTypes(),this.getPaths(),this.getFloatAccountGroups(!0)},getAccount:function(t){return this.accounts.filter((function(e){return e.id=t}))[0]},getSerialized:function(){var t=this.copy(this.item);return t=this.extractIds(t),t.id||(t.account_type=this.accountType),t.path=this.path["4"],t},getPathTitle:function(t){return Object(d["d"])(d["b"],t)},getPathItems:function(t){var e=this;return this.paths.filter((function(a){return a.level==t&&(!a.parent||a.parent==e.path[t-1])}))},clearPath:function(t){for(var e=t+1;e<5;e++)this.path[e]=null},clearForm:function(){this.isEditing=!0,this.item=this.getItemTemplate(),this.setPath()}}},Ba=qa,Ua=a("2bc5"),Ma=a("ce7e"),Na=a("1f4f"),Ya=Object(v["a"])(Ba,Ia,ja,!1,null,null,null),za=Ya.exports;f()(Ya,{VAutocomplete:Xe["a"],VBreadcrumbs:Ua["a"],VBtn:_["a"],VCardSubtitle:et["b"],VCol:it["a"],VDivider:Ma["a"],VIcon:b["a"],VRow:ct["a"],VSelect:Re["a"],VSimpleTable:Na["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rtl"},[a("m-form",{attrs:{title:t.title,items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),a("v-col",{attrs:{cols:"12"}},[a("label",{staticClass:"required"}),a("account-select",{attrs:{label:"گروه",itemsType:t.groupType,"item-text":"name",multiple:!0,disabled:!t.isEditing},model:{value:t.item.floatAccountGroups,callback:function(e){t.$set(t.item,"floatAccountGroups",e)},expression:"item.floatAccountGroups"}})],1)],1)],1)],1)},Ga=[],Ka={mixins:[Lt["b"],La["a"]],props:{is_cost_center:{default:!1}},data:function(){return{baseUrl:"accounts/floatAccounts",permissionBasename:"floatAccount",cols:[{text:"نام حساب",value:"name",type:"text",filters:["name"]},{text:"توضیحات",value:"explanation",type:"text",filters:["expalantion"]}]}},computed:{title:function(){return this.isCostCenter?"مرکز هزینه و درآمد":"حساب شناور"},items:function(){return this.isCostCenter?this.costCenters:this.floatAccounts},isCostCenter:function(){return["true",!0].includes(this.is_cost_center)},groupType:function(){return this.isCostCenter?"costCenterGroups":"floatAccountGroups"}},methods:{getItemTempate:function(){return{is_cost_center:this.is_cost_center}},getData:function(){this.getFloatAccounts(!0),this.getFloatAccountGroups(!0)},getSerialized:function(){var t=this.copy(this.item);if(t=this.extractIds(t),t.syncFloatAccountGroups=[],t.floatAccountGroups){var e,a=Object(c["a"])(t.floatAccountGroups);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.syncFloatAccountGroups.push(i.id)}}catch(s){a.e(s)}finally{a.f()}}return t.is_cost_center=this.is_cost_center,t}}},Ha=Ka,Qa=Object(v["a"])(Ha,Wa,Ga,!1,null,null,null),Xa=Qa.exports;f()(Qa,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rtl"},[a("m-form",{attrs:{title:t.title,items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)],1)],1)},Za=[],ti={mixins:[Lt["b"],La["a"]],props:{is_cost_center:{default:!1}},data:function(){return{baseUrl:"accounts/floatAccountGroups",permissionBasename:"floatAccountGroup",cols:[{text:"نام گروه",value:"name",type:"text",filters:["name"]},{text:"توضیحات",value:"explanation",type:"text",filters:["expalantion"]}]}},computed:{title:function(){return this.isCostCenter?"گروه مرکز هزینه و درآمد":"گروه حساب شناور"},items:function(){return this.isCostCenter?this.costCenterGroups:this.floatAccountGroups},isCostCenter:function(){return["true",!0].includes(this.is_cost_center)}},methods:{getItemTemplate:function(){return{is_cost_center:this.is_cost_center}},getData:function(){this.getFloatAccountGroups(!0)}}},ei=ti,ai=Object(v["a"])(ei,Ja,Za,!1,null,null,null),ii=ai.exports;f()(ai,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",[t._v("نمودار درختی حساب ها")]),a("v-card-text",[a("tree-component",{attrs:{data:t.root},on:{"node-click":t.setAccount,"node-context-menu":t.contextMenu}}),a("context-menu",{ref:"menu",staticClass:"context-menu"},[t.account?[a("v-card",[a("v-list",{attrs:{dense:""}},[3!=t.account.level?a("v-list-item",{on:{click:function(e){return t.createChildAccount(t.account)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pt-1"},[t._v("fas fa-plus")])],1),a("v-list-item-content",[a("v-list-item-title",[a("span",[t._v("افزودن حساب "+t._s(t.getTitle(t.account.level+1)))])])],1)],1):t._e(),a("v-list-item",{on:{click:function(e){return t.openLedger(t.account)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pt-1"},[t._v("fas fa-book-open")])],1),a("v-list-item-content",[a("v-list-item-title",[a("span",[t._v("دفتر این حساب")])])],1)],1)],1)],1)]:t._e()],2)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("accounts",{ref:"accountsForm",staticClass:"mt-n3",attrs:{usage:"tree",level:t.level,parent:t.parent}})],1)],1)},ni=[],oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-text-field",{staticClass:"my-2",attrs:{label:"جستجو",id:"tree-search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),a("TreeUl",t._b({staticClass:"rtl p-0 m-0"},"TreeUl",t.childBind,!1))],1)},ri=[],li=(a("a9e3"),a("5319"),a("5b81"),a("d9e2"),a("a434"),a("2dc7")),ci={name:"Tree",inheritAttrs:!1,components:{TreeUl:li["default"]},provide:function(){return{isLeaf:this.isLeaf,emitEventToTree:this.emitEventToParent}},props:{data:{type:Array,default:function(){return[]}},canDeleteRoot:{type:Boolean,default:!1},nodeText:{default:"title"},maxLevel:{type:Number,default:1024},allowGetParentNode:{type:Boolean,default:!1}},data:function(){return{searchValue:"",filteredData:this.data}},computed:{childBind:function(){return Object.assign({},this.$attrs,Object(o["a"])(Object(o["a"])({},this.$props),{},{data:this.filteredData}))}},mounted:function(){this.filteredData=this.performSearch(this.data,this.searchValue)},watch:{searchValue:function(){this.filteredData=this.performSearch(this.data,this.searchValue)},data:function(){this.filteredData=this.performSearch(this.data,this.searchValue)}},methods:{performSearch:function(t,e){var a=this,i=!1;return t=t.map((function(t){t.children&&(t.children=a.performSearch(t.children,e)),t.originalTitle||(t.originalTitle=t[a.nodeText]);var s=t.originalTitle,n=t.children.filter((function(t){return 1==t.expanded})).length;return e&&(n||t.originalTitle.includes(e))?(s=t.originalTitle.replaceAll(e,"<span class='search-result'>".concat(e,"</span>")),i=!0):i=!1,a.$set(t,"nodeTitle",s),a.$set(t,"expanded",i),""==e?a.$set(t,"show",!0):a.$set(t,"show",i),i&&a.$set(t,"hasExpanded",!0),t})),t},isLeaf:function(t){return!(t.children&&t.children.length)},emitEventToParent:function(t){if(t&&"node-mouse-over"!=t)switch(t){case"node-mouse-over":case"node-check":case"drag-node-end":case"del-node":case"node-click":case"node-select":case"async-load-nodes":case"node-context-menu":case"node-expand":for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];this.$emit.apply(this,[t].concat(a));break;default:throw new ReferenceError("the event of ".concat(t," is not effective"))}},addNode:function(t,e){if(t){var a=null;this.$set(t,"expanded",!0);var i=Object(_t["a"])(e);if("undefined"===i)throw new ReferenceError("newNode is required but undefined");if("string"===i)a={title:e};else{if("object"!==i)throw new ReferenceError("newNode type error, not allowed ".concat(i));if(!e.hasOwnProperty("title"))throw new ReferenceError("the title property is missed");a=e}var s=t.halfcheck,n=t.checked;a=Object.assign({checked:!s&&n},a),this.isLeaf(t)?(this.$set(t,"children",[]),t.children.push(a)):t.children.push(a)}},addNodes:function(t,e){if(t){var a,i=Object(c["a"])(e);try{for(i.s();!(a=i.n()).done;){var s=a.value;this.addNode(t,s)}}catch(n){i.e(n)}finally{i.f()}}},delNode:function(t,e,a){if(null===e||"undefined"===typeof e){if(!this.canDeleteRoot)throw new ReferenceError("the root element can't deleted!");this.data.splice(a,1)}else e.children.splice(a,1);this.emitEventToParent("del-node",{parentNode:e,delNode:t})}}},ui=ci,di=(a("d5de"),Object(v["a"])(ui,oi,ri,!1,null,null,null)),mi=di.exports;f()(di,{VTextField:pt["a"]});var pi={mixins:[La["a"]],components:{TreeComponent:mi,Accounts:za},data:function(){return{account:{level:0},root:[{title:"سرفصل حساب ها",expanded:!0,show:!0,children:[]}],tree:{},parent:null,level:0}},watch:{accounts:function(){this.accounts.length&&this.updateRoot()}},created:function(){this.getAccounts(),this.updateRoot()},methods:{setAccount:function(t){this.account=Object(o["a"])({},t),this.parent=null,this.level=t.level,this.$refs.accountsForm.setItem(t)},contextMenu:function(t,e,a,i){t.id&&(this.setAccount(t),this.$refs.menu.open(i))},updateRoot:function(){this.root[0].children=[];var t,e={},a=Object(c["a"])(this.accounts);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.children=[],this.tree[i.id]&&this.tree[i.id].expanded&&(i.expanded=!0),e[i.id]=i,i.parent?e[i.parent].children.push(i):(i.show=!0,this.root[0].children.push(i)),this.tree=e}}catch(s){a.e(s)}finally{a.f()}},appendChildren:function(t){t.children=this.accountsSelectValues.all.filter((function(e){return e.code.startsWith(t.code)}))},editAccount:function(t){this.$router.push({name:"Accounts",params:{level:t.level,account_type:t.account_type},query:{showForm:!0,item:t}})},createChildAccount:function(t){this.$refs.accountsForm.clearForm(),this.parent=t,this.level=t.level+1}}},vi=pi,hi=(a("4871"),Object(v["a"])(vi,si,ni,!1,null,null,null)),fi=hi.exports;f()(hi,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VIcon:b["a"],VList:g["a"],VListItem:y["a"],VListItemContent:w["a"],VListItemIcon:C["a"],VListItemTitle:w["c"],VRow:ct["a"]});var _i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:t.title,items:t.items,cols:t.cols,canClear:t.canClear,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1,showActions:t.showActions},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("account-select",{attrs:{disabled:!t.isEditing,label:" * حساب",itemsType:t.accountLevel,floatAccount:t.item.floatAccount,costCenter:t.item.costCenter},on:{"update:floatAccount":function(e){return t.item.floatAccount=e},"update:costCenter":function(e){return t.item.costCenter=e}},model:{value:t.item.account,callback:function(e){t.$set(t.item,"account",e)},expression:"item.account"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0},{key:"item.detail",fn:function(e){var i=e.item;return["imprest"==t.usage?a("v-btn",{attrs:{color:"blue white--text",to:{name:"Accounts",params:{level:3},query:{parent:i.account.id}}}},[t._v("تعریف حساب تفصیلی")]):t._e()]}}])})},bi=[],xi={mixins:[Lt["b"],La["a"]],props:{usage:{requried:!0}},data:function(){return{item:{},baseUrl:"accounts/defaultAccounts",permissionBasename:"defaultAccount",cols:[{text:"نام",value:"name",type:"text"},{text:"حساب",value:"account.title",type:"text"},{text:"",value:"detail",filterable:!1,sortable:!1}]}},computed:{title:function(){var t="حساب های پیشفرض ";return"receive"==this.usage?t+"دریافت":"payment"==this.usage?t+"پرداخت":"factor"==this.usage?t+"فاکتور":"closeAccounts"==this.usage?t+"بستن":"imprest"==this.usage?t+"تنخواه":"other"==this.usage?"دیگر حساب های پیشفرض":"costAccounting"==this.usage?"بهای تمام شده":void 0},accountLevel:function(){return"imprest"==this.usage?"level2":"level".concat(this.item.account_level||3)},items:function(){var t=this;return this.defaultAccounts.filter((function(e){return e.usage.toLowerCase().includes(t.usage.toLowerCase())}))},canClear:function(){return["factor","closingAccounts","imprest"].includes(this.usage)},showActions:function(){return!!["imprest","receive","payment"].includes(this.usage)||void 0!=this.item.id}},methods:{getItemTemplate:function(){return{usage:this.usage}},getData:function(){this.getDefaultAccounts(!0),this.getAccounts()},setItem:function(t){this.item=t},getSerialized:function(){var t=this.extractIds(this.item);if(!t.account_level){var e=3;"imprest"==this.usage&&(e=2),t.account_level=e}return t}}},gi=xi,yi=Object(v["a"])(gi,_i,bi,!1,null,null,null),ki=yi.exports;f()(yi,{VBtn:_["a"],VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:t.title,items:t.items,showList:t.showList,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t._l(3,(function(e){return[e-1!=t.level?a("v-btn",{key:e,staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:"/panel/wares/"+(e-1)}},[t._v("تعریف "+t._s(t.getWareTitle(e-1)))]):a("v-btn",{key:e,staticClass:"blue white--text mr-1 mt-1 mt-md-0",on:{click:t.clearForm}},[t._v("تعریف "+t._s(t.getWareTitle(e-1)))])]})),a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"Wares",params:{level:3}}}},[t._v("تعریف کالا")])]},proxy:!0},{key:"default",fn:function(){return[a("v-row",[0!=t.level?a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:" * "+t.getWareTitle(t.level-1),items:t.parentItems,"item-text":"name",disabled:void 0!=t.item.id||!t.isEditing,"item-value":"id"},model:{value:t.item.parent,callback:function(e){t.$set(t.item,"parent",e)},expression:"item.parent"}})],1):t._e(),a("v-col",{attrs:{cols:"12",md:0==t.level?12:6}},[a("v-text-field",{attrs:{label:"کد",disabled:""},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:t.isWare?4:12}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),t.isWare?[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{disabled:void 0!=t.item.id||!t.isEditing,label:"کالای خدماتی",hint:"کالای خدماتی انبار گردانی ندارد"},model:{value:t.item.is_service,callback:function(e){t.$set(t.item,"is_service",e)},expression:"item.is_service"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.isAdvari?a("v-switch",{attrs:{disabled:!t.isEditing,label:"موجودی کالای منفی","false-value":!0,"true-value":!1},model:{value:t.item.check_inventory,callback:function(e){t.$set(t.item,"check_inventory",e)},expression:"item.check_inventory"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-btn",{attrs:{block:"",color:"cyan white--text"},on:{click:function(e){t.pricesDialog=!0}}},[t._v("واحد و قیمت فروش")])],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{label:" * نوع قیمت گذاری",items:t.pricingTypes,"item-text":"name","item-value":"id",disabled:!t.isEditing,"return-object":!0},model:{value:t.item.pricingType,callback:function(e){t.$set(t.item,"pricingType",e)},expression:"item.pricingType"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:" * انبار پیشفرض",items:t.warehouses,disabled:!t.isEditing,"item-text":"name","item-value":"id"},model:{value:t.item.warehouse,callback:function(e){t.$set(t.item,"warehouse",e)},expression:"item.warehouse"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"بارکد",disabled:!t.isEditing},model:{value:t.item.barcode,callback:function(e){t.$set(t.item,"barcode",e)},expression:"item.barcode"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"حداقل فروش",disabled:!t.isEditing},model:{value:t.item.minSale,callback:function(e){t.$set(t.item,"minSale",e)},expression:"item.minSale"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"حداکثر فروش",disabled:!t.isEditing},model:{value:t.item.maxSale,callback:function(e){t.$set(t.item,"maxSale",e)},expression:"item.maxSale"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"حداقل موجودی",disabled:!t.isEditing},model:{value:t.item.minInventory,callback:function(e){t.$set(t.item,"minInventory",e)},expression:"item.minInventory"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"حداکثر موجودی",disabled:!t.isEditing},model:{value:t.item.maxInventory,callback:function(e){t.$set(t.item,"maxInventory",e)},expression:"item.maxInventory"}})],1)]:t._e(),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],2),a("v-dialog",{attrs:{scrollable:"","max-width":"1200px",transition:"dialog-transition"},model:{value:t.pricesDialog,callback:function(e){t.pricesDialog=e},expression:"pricesDialog"}},[a("v-card",[a("v-card-title",[t._v(" واحد و قیمت فروش "),a("span",{staticClass:"pr-1"},[t._v(t._s(t.item.name))])]),a("v-card-text",[a("input-table",{scopedSlots:t._u([{key:"thead",fn:function(){return[a("tr",[a("th",[t._v("#")]),a("th",[t._v("واحد")]),a("th",[t._v("ضریب تبدیل")]),t._l(t.salePriceTypes,(function(e){return a("th",[t._v(t._s(e.name))])})),a("th")],2)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.rows,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"tr-counter"},[t._v(t._s(i+1))]),a("td",{staticStyle:{"min-width":"100px"}},[a("v-autocomplete",{attrs:{"return-object":!1,items:t.units,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:e.unit,callback:function(a){t.$set(e,"unit",a)},expression:"row.unit"}})],1),a("td",[0==i?a("span",[t._v("(واحد اصلی)")]):a("money",{attrs:{disabled:!t.isEditing},model:{value:e.conversion_factor,callback:function(a){t.$set(e,"conversion_factor",a)},expression:"row.conversion_factor"}})],1),t._l(t.salePriceTypes,(function(i){return a("td",{staticStyle:{width:"150px"}},[a("money",{attrs:{disabled:!t.isEditing},model:{value:e.prices[i.id],callback:function(a){t.$set(e.prices,i.id,a)},expression:"row.prices[salePriceType.id]"}})],1)})),a("td",{staticClass:"d-print-none"},[i!=t.rows.length-1?a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(i)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)],2)}))},proxy:!0}]),model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue white--text w-100px"},on:{click:function(e){t.pricesDialog=!1}}},[t._v("تایید")])],1)],1)],1)]},proxy:!0}])})},Ci=[],Ei=(a("a15b"),{name:"Wares",mixins:[Lt["b"],Ra],props:{level:{requried:!0},showList:{default:!0}},data:function(){return{item:{},baseUrl:"wares/wares",permissionBasename:"ware",rowKey:"unit",pricesDialog:!1,cols:[{text:"کد",value:"code"},{text:"نام",value:"name"}]}},computed:{title:function(){return this.getWareTitle(this.level)},isWare:function(){return 3==this.level},parentItems:function(){var t=this;return this.wares.filter((function(e){return e.level==+t.level-1}))},items:function(){var t=this;return this.wares.filter((function(e){return e.level==t.level}))},parents:function(){var t=this.item.parent,e=[],a=!1;Object(_t["a"])(t)==Object(_t["a"])(72)?a=t:t&&t.id&&(a=t.id);while(a){var i=this.wares.filter((function(t){return t.id==a}))[0];e.push(i.name),a=i.parent}return e.reverse().join(" > ")}},methods:{getRowTemplate:function(){return{unit:null,conversion_factor:null,prices:{}}},getData:function(){this.getUnits(),this.getSalePriceTypes(),this.getWarehouses(),this.getWares(!0)},getWareTitle:function(t){switch(Number(t)){case 0:return"ماهیت";case 1:return"گروه";case 2:return"دسته بندی";case 3:return"کالا"}},setItem:function(t){var e=this;this.request({url:this.endpoint("wares/wares/".concat(t.id)),method:"get",success:function(a){t=a,t.salePrices.length?e.rows=t.salePrices:e.rows=[e.getRowTemplate()],e.item=t}})},getSerialized:function(){var t=this,e=this.extractIds(this.item);return e.level=this.level,e.salePrices=this.rows.map((function(e){return t.extractIds(e)})),e},getItemTemplate:function(){return{parent:null}}}}),$i=Ei,Ti=Object(v["a"])($i,wi,Ci,!1,null,null,null),Si=Ti.exports;f()(Ti,{VAutocomplete:Xe["a"],VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VIcon:b["a"],VRow:ct["a"],VSelect:Re["a"],VSpacer:dt["a"],VSwitch:Je["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Vi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",[t._v("نمودار درختی کالا ها")]),a("v-card-text",[a("tree-component",{ref:"tree",attrs:{data:t.root,"node-text":"name"},on:{"node-click":t.setItem,"node-context-menu":t.contextMenu}}),a("context-menu",{ref:"menu",staticClass:"context-menu"},[t.item?[a("v-card",[a("v-list",{attrs:{dense:""}},[3!=t.item.level?a("v-list-item",{on:{click:function(e){return t.createChildItem(t.item)}}},[a("v-list-item-icon",[a("v-icon",{staticClass:"pt-1"},[t._v("fas fa-plus")])],1),a("v-list-item-content",[a("v-list-item-title",[a("span",[t._v("افزودن فرزند")])])],1)],1):t._e()],1)],1)]:t._e()],2)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("wares-form",{ref:"itemForm",staticClass:"mt-n3",attrs:{"show-list":!1,level:t.level}})],1)],1)},Fi=[],Pi={mixins:[Ra],components:{TreeComponent:mi,WaresForm:Si},data:function(){return{item:{level:0},root:[{name:"نمودار درختی کالا ها",expanded:!0,show:!0,children:[]}],tree:{},parent:null,level:0}},computed:{items:function(){return this.wares}},created:function(){var t=this;this.EventBus.$on("get:wares",(function(){t.updateRoot(),t.$refs.tree.performSearch(t.$refs.tree.data,"")})),this.getWares()},methods:{setItem:function(t){t.id&&(this.item=Object(o["a"])({},t),this.parent=null,this.level=t.level,this.$refs.itemForm.setItem(t))},contextMenu:function(t,e,a,i){t.id&&(this.setItem(t),this.$refs.menu.open(i))},updateRoot:function(){this.root[0].children=[];var t,e={},a=Object(c["a"])(this.items);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.children=[],this.tree[i.id]&&this.tree[i.id].expanded&&(i.expanded=!0),e[i.id]=i,i.parent?e[i.parent].children.push(i):(i.show=!0,this.root[0].children.push(i)),this.tree=e}}catch(s){a.e(s)}finally{a.f()}},createChildItem:function(t){this.$refs.itemForm.clearForm(),this.$refs.itemForm.item.parent=t,this.level=t.level+1}}},Di=Pi,Ai=(a("6e0f"),Object(v["a"])(Di,Vi,Fi,!1,null,null,null)),Ii=Ai.exports;f()(Ai,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VIcon:b["a"],VList:g["a"],VListItem:y["a"],VListItemContent:w["a"],VListItemIcon:C["a"],VListItemTitle:w["c"],VRow:ct["a"]});var ji=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"انبار",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},Li=[],Ri={mixins:[Lt["b"],Ra],data:function(){return{item:{},baseUrl:"wares/warehouses",permissionBasename:"warehouse",cols:[{text:"نام",value:"name",type:"text",filters:["name"]},{text:"توضیحات",value:"explanation",type:"text",filters:["explanation"]}]}},computed:{items:function(){return this.warehouses}},methods:{getData:function(){this.getWarehouses(!0)}}},Oi=Ri,qi=Object(v["a"])(Oi,ji,Li,!1,null,null,null),Bi=qi.exports;f()(qi,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"واحد های شمارش",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},Mi=[],Ni={mixins:[Lt["b"],Ra],data:function(){return{item:{},baseUrl:"wares/units",permissionBasename:"unit",cols:[{text:"نام",value:"name",type:"text",filters:["name"]},{text:"توضیحات",value:"explanation",type:"text",filters:["explanation"]}]}},computed:{items:function(){return this.units}},methods:{getData:function(){this.getUnits(!0)}}},Yi=Ni,zi=Object(v["a"])(Yi,Ui,Mi,!1,null,null,null),Wi=zi.exports;f()(zi,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"نوع های نرخ فروش",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1)],1)]},proxy:!0}])})},Ki=[],Hi={mixins:[Lt["b"],Ra],data:function(){return{item:{},baseUrl:"wares/salePriceTypes",permissionBasename:"salePriceType",cols:[{text:"نام",value:"name"}]}},computed:{items:function(){return this.salePriceTypes}},methods:{getData:function(){this.getSalePriceTypes(!0)}}},Qi=Hi,Xi=Object(v["a"])(Qi,Gi,Ki,!1,null,null,null),Ji=Xi.exports;f()(Xi,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"]});var Zi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},ts=[],es={name:"Sanad",data:function(){return{}}},as=es,is=Object(v["a"])(as,Zi,ts,!1,null,"06e6de4a",null),ss=is.exports,ns=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"سند حسابداری",showList:!1,listRoute:{name:"SanadsList"},exportBaseUrl:"reports/lists/sanads",exportParams:{id:this.id},canDelete:!1,canEdit:t.canEdit,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.relatedForm?a("v-btn",{staticClass:"light-blue white--text mr-1 mt-1 mt-md-0",attrs:{to:t.relatedForm.to,rounded:""}},[a("v-icon",{staticClass:"ml-1"},[t._v("fa-external-link-square-alt")]),t._v(" "+t._s(t.relatedForm.title)+" ")],1):t._e(),a("v-btn",{staticClass:"teal white--text mr-1 mt-1 mt-md-0",attrs:{small:"",title:"کپی سند به سند جدید",icon:"",outlined:""},on:{click:t.copySanadToNewSanad}},[a("v-icon",[t._v("fa-clone")])],1)]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{disabled:"",label:"عطف","background-color":"white"},model:{value:t.item.local_id,callback:function(e){t.$set(t.item,"local_id",e)},expression:"item.local_id"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{disabled:"",label:"شماره سند","background-color":"white"},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{staticClass:"form-control",attrs:{label:" * تاریخ سند",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-select",{attrs:{disabled:!t.isEditing,items:t.sanadTypes,label:"نوع سند","return-object":!1},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.created_by?a("v-select",{attrs:{disabled:"",items:[{text:"دستی",value:!1},{text:"سیستمی",value:!0}],label:"نوع ثبت"},model:{value:t.item.is_auto_created,callback:function(e){t.$set(t.item,"is_auto_created",e)},expression:"item.is_auto_created"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"6"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.id?a("v-switch",{attrs:{label:"قطعی شده",disabled:""},model:{value:t.item.is_defined,callback:function(e){t.$set(t.item,"is_defined",e)},expression:"item.is_defined"}}):t._e()],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{label:"شرح سند",disabled:!t.isEditing,height:"105"},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,items:t.rows,showExportBtns:!1,showAppliedFilters:!1,showClearFiltersBtn:!0,showSelect:!1,filters:t.filters},on:{"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.account.title",fn:function(e){var i=e.item;return[a("account-select",{attrs:{horizontal:!0,"items-type":"level3",disabled:!t.isEditing,floatAccount:i.floatAccount,costCenter:i.costCenter},on:{"update:floatAccount":function(t){return i.floatAccount=t},"update:costCenter":function(t){return i.costCenter=t}},model:{value:i.account,callback:function(e){t.$set(i,"account",e)},expression:"item.account"}})]}},{key:"item.explanation",fn:function(e){var i=e.item;return[a("row-textarea",{attrs:{disabled:!t.isEditing,i:t.rows.indexOf(i)},on:{updateRowsExplanation:t.updateRowsExplanation},model:{value:i.explanation,callback:function(e){t.$set(i,"explanation",e)},expression:"item.explanation"}})]}},{key:"item.bed",fn:function(e){var i=e.item;return[a("money",{attrs:{disabled:!t.isEditing||0!=i.bes},model:{value:i.bed,callback:function(e){t.$set(i,"bed",e)},expression:"item.bed"}})]}},{key:"item.swap",fn:function(e){var i=e.item;return[t.rows.indexOf(i)!=t.rows.length-1?a("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.exchangeValue(i)}}},[a("i",{staticClass:"fas fa-exchange-alt"})]):t._e()]}},{key:"item.bes",fn:function(e){var i=e.item;return[a("money",{staticClass:"form-control",attrs:{disabled:!t.isEditing||0!=i.bed},model:{value:i.bes,callback:function(e){t.$set(i,"bes",e)},expression:"item.bes"}})]}},{key:"item.deleteRow",fn:function(e){var i=e.item;return[t.rows.indexOf(i)!=t.rows.length-1?a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){t.deleteRow(t.rows.indexOf(i))}}},[a("v-icon",[t._v("delete")])],1):t._e()]}},{key:"body.append",fn:function(e){e.headers;return[a("tr",{key:"last-row",staticClass:"grey lighten-3 text-white"},[a("td",{attrs:{colspan:"2"}},[t.bedSum!=t.besSum?a("span",[t._v("اختلاف: "+t._s(t._f("toMoney")(Math.abs(t.bedSum-t.besSum)))+" "+t._s(t.bedSum>t.besSum?"بستانکار":"بدهکار"))]):t._e()]),a("td",{staticClass:"text-left"},[t._v("مجموع:")]),a("td",{},[t._v(t._s(t._f("toMoney")(t.bedSum)))]),a("td",{staticClass:"d-print-none"}),a("td",{},[t._v(t._s(t._f("toMoney")(t.besSum)))]),a("td",{staticClass:"d-print-none"},[a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(-1)}}},[a("v-icon",[t._v("delete_sweep")])],1)],1)])]}}])})],1),t._e()],1)]],2)},os=[],rs=(a("4e827"),a("4633")),ls=a("3c1f"),cs=a("0359"),us={name:"Form",components:{money:ls["a"],date:cs["a"]},mixins:[rs["a"],La["a"],Lt["b"]],props:["id"],data:function(){return{baseUrl:"sanads",permissionBasename:"sanad",appendSlash:!0,hasList:!1,hasIdProp:!0,isDefinable:!0,hasLock:!0,rowKey:"account",filters:{},sanadTypes:[{text:"افتتاحیه",value:"o"},{text:"اختتامیه",value:"c"},{text:"عادی",value:"n"}],headers:[{text:"* کد و نام حساب",value:"account.title",align:"center",sortable:!1,filterable:!0},{text:"شرح ردیف",value:"explanation",align:"center",sortable:!1,filterable:!1},{text:"بدهکار",value:"bed",align:"center",sortable:!1,filterable:!1,width:"150px"},{text:"",value:"swap",align:"center",sortable:!1,filterable:!1,width:"40px"},{text:"بستانکار",value:"bes",align:"center",sortable:!1,filterable:!1,width:"150px"},{text:"",value:"deleteRow",align:"center",sortable:!1,filterable:!1,width:"40px"}]}},computed:{relatedForm:function(){var t=[{name:"factors.factor",title:"فاکتور",routeName:"FactorForm",params:{isPreFactor:!1}},{name:"factors.factorsaggregatedsanad",title:"سند تجمیعی فاکتور",routeName:"FactorsAggregatedSanadForm"},{name:"factors.adjustment",title:"تعدیل",routeName:"AdjustmentForm"},{name:"factors.transfer",title:"انتقال",routeName:"TransferForm"},{name:"_dashtbashi.lading",title:"بارگیری",routeName:"Lading"},{name:"_dashtbashi.oilcompanylading",title:"بارگیری شرکت نفت",routeName:"OilCompanyLading"},{name:"cheques.statuschange",title:"چک",routeName:"ChequeDetail"},{name:"transactions.transaction",title:"دریافت/پرداخت",routeName:"TransactionForm"},{name:"imprests.imprestsettlement",title:"تسویه تنخواه",routeName:"ImprestSettlement"}],e=this.item.origin;if(e){var a=t.find((function(t){return t.name==e.name})),i=a.params?a.params:{};return{title:a.title,to:{name:a.routeName,params:Object(o["a"])({id:e.id,type:e.type,code:e.code},i)}}}return null},canEdit:function(){return!this.item.id||!this.item.is_auto_created},bedSum:function(){var t=0;return this.rows.forEach((function(e){e.bed&&(t+=+e.bed)})),t},besSum:function(){var t=0;return this.rows.forEach((function(e){e.bes&&(t+=+e.bes)})),t}},methods:{getItemTemplate:function(){return{type:"n"}},getRowTemplate:function(){return{bed:0,bes:0}},getSanadByCode:function(t){var e=this;return this.log("Get sanad by code: ",t),this.request({url:this.endpoint("sanads/getSanadByCode"),method:"get",params:{code:t},success:function(t){e.selectSanad(t)}})},setItem:function(t){var e=this;this.item=t,this.itemsToDelete=[],this.rows=[],t.items.sort((function(t,e){return t.order-e.order})).forEach((function(t){var a=Object(o["a"])({},t);e.rows.push(a)})),this.rows.push(this.getRowTemplate()),this.changeRouteTo(t.id),this.isEditing=!1},copySanadToNewSanad:function(){var t=this,e=this.copy(this.rows);this.clearForm(),this.$nextTick((function(){t.rows=[];var a,i=Object(c["a"])(e);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.id&&delete s.id,t.rows.push(Object(o["a"])({},s))}}catch(n){i.e(n)}finally{i.f()}}))},exchangeValue:function(t){if(t){var e=t.bed;t.bed=t.bes,t.bes=e}else{var a,i=Object(c["a"])(this.rows);try{for(i.s();!(a=i.n()).done;){var s=a.value,n=s.bed;s.bed=s.bes,s.bes=n}}catch(o){i.e(o)}finally{i.f()}}},getSerialized:function(){var t=this,e={item:this.extractIds(this.item),items:{ids_to_delete:this.itemsToDelete,items:[]}};return this.rows.forEach((function(a,i){if(i!=t.rows.length-1){var s=t.copy(a);s=t.extractIds(s),s.bed=+s.bed,s.bes=+s.bes,e.items.items.push(s)}})),e}}},ds=us,ms=Object(v["a"])(ds,ns,os,!1,null,"389008a3",null),ps=ms.exports;f()(ms,{VBtn:_["a"],VCol:it["a"],VIcon:b["a"],VRow:ct["a"],VSelect:Re["a"],VSwitch:Je["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},hs=[],fs={name:"Sanad",data:function(){return{}}},_s=fs,bs=Object(v["a"])(_s,vs,hs,!1,null,"be9f0a36",null),xs=bs.exports,gs=a("3915"),ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"عملیات های بانکی",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},ks=[],ws=a("6438"),Cs={mixins:[Lt["b"],ws["a"]],data:function(){return{item:{},baseUrl:"transactions/bankingOperations",appendSlash:!0,permissionBasename:"bankingOperation",cols:[{text:"نام",value:"name"},{text:"توضیحات",value:"explanation"}]}},computed:{items:function(){return this.bankingOperations}},methods:{getData:function(){this.getBankingOperations(!0)}}},Es=Cs,$s=Object(v["a"])(Es,ys,ks,!1,null,null,null),Ts=$s.exports;f()($s,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Ss,Vs,Fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},Ps=[],Ds={name:"Factor",data:function(){return{}}},As=Ds,Is=Object(v["a"])(As,Fs,Ps,!1,null,"653376c2",null),js=Is.exports,Ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{attrs:{title:t.title,hasIdProp:t.hasIdProp,showList:!1,showListBtn:!t.isFpi,listRoute:t.listRoute,exportBaseUrl:t.isFpi||t.isCw?"reports/lists/factors":void 0,exportParams:(t.isFpi||t.isCw)&&{id:this.id},showClearBtn:!t.isFpi,showNavigationBtns:!t.isFpi,showSubmitAndClearBtn:!t.isFpi,isEditing:t.isEditing,canDelete:t.canDelete,canSubmit:t.canSubmit},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},clearForm:function(e){return t.clearForm(!0)},goToForm:t.getItemByPosition,submit:t.validate,delete:function(e){return t.deleteItem()}},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.sanad?a("open-sanad-btn",{attrs:{sanad:t.item.sanad}}):t._e(),t.item.aggregatedSanad?a("v-btn",{staticClass:"light-blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"FactorsAggregatedSanadForm",params:{id:t.item.aggregatedSanad,type:t.item.type}},rounded:""}},[a("v-icon",{staticClass:"ml-1"},[t._v("fa-external-link-square-alt")]),t._v("سند تجمیعی ")],1):t._e(),t.hasTransaction?a("v-btn",{staticClass:"light-blue white--text mr-1 mt-1 mt-md-0",attrs:{title:"مشاهده "+t.transactionLink.label+" ها",icon:""},on:{click:function(e){t.transactionsDialog=!0}}},[a("v-icon",[t._v("fa-stream")])],1):t._e(),null!=t.preFactor?a("v-btn",{staticClass:"light-blue white--text mr-1 mt-1 mt-md-0",attrs:{target:"_blank",to:{name:"FactorForm",params:{type:t.preFactor.type,isPreFactor:t.preFactor.isPreFactor,id:t.preFactor.id}}}},[t._v("مشاهده "+t._s(t.preFactor.label))]):t._e(),t.hasTransaction&&t.canSubmitTransaction?a("v-btn",{staticClass:"teal white--text mr-1 mt-1 mt-md-0",attrs:{to:t.transactionLink.to,title:"ثبت "+t.transactionLink.label,icon:""}},["receive"==t.transactionLink.type?a("v-icon",[t._v("$receiveTransactionIcon")]):a("v-icon",[t._v("$paymentTransactionIcon")])],1):t._e(),t.hasTransaction?a("v-menu",{attrs:{bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"teal white--text mr-1 mt-1 mt-md-0",title:"ثبت "+t.transactionLink.label+" سریع",rounded:""}},"v-btn",s,!1),i),[a("v-icon",[t._v("fa-money-bill-wave")])],1)]}}],null,!1,1503937531)},[a("v-list",{staticClass:"pa-0 pt-1"},t._l(t.quickTransactionOptions,(function(e){return a("v-list-item",{key:e.codename,staticClass:"px-1 pb-1"},[a("v-list-item-content",{staticClass:"pa-0"},[a("v-btn",{attrs:{block:"",color:"teal lighten-3"},on:{click:function(a){return t.createQuickTransaction(e.codename)}}},[t._v(t._s(e.text))])],1)],1)})),1)],1):t._e(),t.hasReverseFactor?a("v-btn",{staticClass:"teal white--text mr-1 mt-1 mt-md-0",attrs:{title:"ثبت "+t.reverseLabel,icon:""},on:{click:t.reverseFactor}},[t.type.includes("sale")?a("v-icon",[t._v("$inputFactorIcon")]):a("v-icon",[t._v("$outputFactorIcon")])],1):t._e(),t.isFpi||t.isCw?t._e():a("v-btn",{staticClass:"teal lue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"Accounts",params:{level:3,accountType:"p"},query:{showForm:!0}},title:"تعریف حساب اشخاص",icon:""}},[a("v-icon",[t._v("fa-users")])],1),t.isFpi||t.isCw||0==t.id?t._e():a("v-btn",{staticClass:"export-btn mr-1 mt-1 mt-md-0",attrs:{title:"خروجی",icon:""},on:{click:function(e){t.exportsDialog=!0}}},[a("v-icon",[t._v("fa-cloud-download-alt")])],1)]},proxy:!0},{key:"footer-outside-btns",fn:function(){return[!t.id||t.isFpi||t.isPreFactor||t.isRoR?t._e():a("v-btn",{staticClass:"blue white--text mr-1",attrs:{disabled:t.item.is_defined},on:{click:t.definiteFactor}},[t._v("قطعی کردن فاکتور")]),t.isPreFactor&&!t.isEditing?a("v-btn",{staticClass:"blue white--text mr-1",on:{click:t.convertPreFactorToFactor}},[t._v("تبدیل به فاکتور")]):t._e(),t.isRoR&&!t.isEditing?[a("v-btn",{staticClass:"blue white--text mr-1",on:{click:function(e){return t.convertRoRToFactor(t.RoRFactorTypes[t.type].factor.type)}}},[t._v("تبدیل به فاکتور "+t._s(t.RoRFactorTypes[t.type].factor.label))]),a("v-btn",{staticClass:"blue white--text mr-1",on:{click:function(e){return t.convertRoRToFactor(t.RoRFactorTypes[t.type].backFactor.type)}}},[t._v("تبدیل به فاکتور "+t._s(t.RoRFactorTypes[t.type].backFactor.label))])]:t._e()]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-row",[t.isPreFactor||t.isRoR?[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"شماره ",disabled:"",value:t.item.temporary_code}})],1)]:[t.isFpi?t._e():a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره موقت",disabled:"",value:t.item.temporary_code}})],1),t.isFpi?t._e():a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره قطعی",disabled:""},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1)],a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ",required:"",default:!0,disabled:!t.isEditing||t.isConverted},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("mtime",{attrs:{label:" * ساعت",required:"",default:!0,disabled:!t.isEditing||t.isConverted},model:{value:t.item.time,callback:function(e){t.$set(t.item,"time",e)},expression:"item.time"}})],1),t.hasBijak?a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"بیجک",disabled:!t.isEditing||t.isConverted},model:{value:t.item.bijak,callback:function(e){t.$set(t.item,"bijak",e)},expression:"item.bijak"}})],1):t._e(),!t.isFpi&!t.isPreFactor&!t.isRoR?a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"نوع",disabled:"",value:t.item.is_defined?"قطعی":"موقت"}})],1):t._e(),(t.isSale||t.isBackFromSale)&&t.hasModule("distribution")?a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"ویزیتور",items:t.factorVisitors,"item-text":"user.name","item-value":"id",disabled:!t.isEditing||null!=t.backFrom||null!=t.item.backFrom||t.isConverted},model:{value:t.item.visitor,callback:function(e){t.$set(t.item,"visitor",e)},expression:"item.visitor"}})],1):t._e(),t.isProduction?t._e():a("v-col",{attrs:{cols:"12",md:"4"}},[a("account-select",{attrs:{label:" * "+t.accountName,itemsType:t.accountType,visitorId:t.item.visitor,disabled:!t.isEditing||null!=t.backFrom||null!=t.item.backFrom||t.isConverted,floatAccount:t.item.floatAccount,costCenter:t.item.costCenter},on:{"update:floatAccount":function(e){return t.item.floatAccount=e},"update:costCenter":function(e){return t.item.costCenter=e}},model:{value:t.item.account,callback:function(e){t.$set(t.item,"account",e)},expression:"item.account"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),t.showTax?a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"فاکتور مالیات دارد",disabled:!t.isEditing||t.isConverted},model:{value:t.item.has_tax,callback:function(e){t.$set(t.item,"has_tax",e)},expression:"item.has_tax"}})],1):t._e(),t.showTax?a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"سند خودکار",disabled:!t.isEditing||null!=t.item.sanad},model:{value:t.item.has_auto_sanad,callback:function(e){t.$set(t.item,"has_auto_sanad",e)},expression:"item.has_auto_sanad"}})],1):t._e()],2)],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"شرح",disabled:!t.isEditing||t.isConverted,rows:"4","auto-grow":!0},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.stopPropagation()}},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("input-table",{attrs:{id:"input-table"},scopedSlots:t._u([{key:"thead",fn:function(){return[a("tr",[t.hasSelect?a("th",{staticStyle:{width:"24px"}}):t._e(),a("th",{staticStyle:{width:"32px"}},[t._v("#")]),a("th",{staticStyle:{width:"200px"}},[t._v("* نام کالا")]),a("th",{staticStyle:{width:"32px"}}),a("th",[t._v("واحد")]),a("th",[t._v("* انبار")]),a("th",[t._v("* تعداد")]),t.showCalculatorBtn?a("th",{staticStyle:{width:"30px !important"}}):t._e(),t.isCw||t.isRoR?t._e():[a("th",[t._v("* قیمت واحد")]),a("th",[t._v("مبلغ کل")])],t.showDiscount?a("th",[t._v("تخفیف (مبلغ)")]):t._e(),t.showDiscount?a("th",[t._v("تخفیف (درصد)")]):t._e(),t.showDiscount?a("th",[t._v("جمع کل پس از تخفیف")]):t._e(),t.showTax&&t.item.has_tax?[a("th",[t._v("مالیات (مبلغ)")]),a("th",[t._v("مالیات (درصد)")]),a("th",[t._v("جمع مبلغ کل و مالیات")])]:t._e(),a("th",[t._v("توضیحات")]),a("th",{staticClass:"d-print-none",staticStyle:{width:"32px"}})],2)]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.rows,(function(e,i){return a("tr",{key:i,class:{"d-print-none":i==t.rows.length-1,draggable:i!=t.rows.length-1&&t.isEditing}},[t.hasSelect?a("td",[e.factorItem?a("v-btn",{staticClass:"mx-1",attrs:{color:"blue",dir:"ltr",title:t.getFactorItemLink(e).title,icon:"",outlined:"",to:t.getFactorItemLink(e).to,target:"_blank"}},[t._v(t._s(t.getFactorItemLink(e).text))]):a("v-checkbox",{staticClass:"mr-1",attrs:{disabled:t.isEditing},model:{value:e.is_selected,callback:function(a){t.$set(e,"is_selected",a)},expression:"row.is_selected"}})],1):t._e(),a("td",{staticClass:"tr-counter"},[t._v(t._s(i+1))]),a("td",{staticStyle:{width:"200px"}},[a("ware-select",{attrs:{disabled:!t.isEditing||e.factorItem,factorType:t.type,"show-main-unit":!1},on:{change:function(e){return t.clearRow(i)}},model:{value:t.rows[i].ware,callback:function(e){t.$set(t.rows[i],"ware",e)},expression:"rows[i].ware"}})],1),a("td",[a("v-btn",{attrs:{icon:"",color:"cyan",disabled:!t.item.account||!t.item.account.id||!t.rows[i].ware},on:{click:function(e){return t.showPrices(t.rows[i].ware)}}},[a("v-icon",[t._v("fa-hand-holding-usd")])],1)],1),a("td",{staticStyle:{"min-width":"100px"}},[t.rows[i].ware?a("v-autocomplete",{attrs:{items:t.getWareUnits(t.rows[i].ware),title:t.rows[i].unit?t.rows[i].unit.title:"","item-text":"name","item-value":"id",disabled:!t.isEditing||e.factorItem,"return-object":!0,suffix:t.getUnitSuffix(e.ware,e.unit)},on:{change:function(e){return t.updateRowFee(t.rows[i])}},model:{value:t.rows[i].unit,callback:function(e){t.$set(t.rows[i],"unit",e)},expression:"rows[i].unit"}}):t._e()],1),a("td",{staticClass:"tr-warehouse",attrs:{title:t.rows[i].warehouse&&t.rows[i].warehouse.name}},[t.rows[i].ware&&!t.rows[i].ware.isService?a("v-autocomplete",{attrs:{"return-object":!0,disabled:!t.isEditing||e.factorItem,items:t.warehouses,"item-text":"name","item-value":"id"},model:{value:t.rows[i].warehouse,callback:function(e){t.$set(t.rows[i],"warehouse",e)},expression:"rows[i].warehouse"}}):a("span",[t._v("-")])],1),a("td",[a("money",{attrs:{disabled:!t.isEditing||e.factorItem},model:{value:t.rows[i].unit_count,callback:function(e){t.$set(t.rows[i],"unit_count",e)},expression:"rows[i].unit_count"}})],1),t.showCalculatorBtn?a("td",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.openCalculatorDialog(e)}}},[a("v-icon",[t._v("fa-calculator")])],1)],1):t._e(),t.isCw||t.isRoR?t._e():[a("td",[t.isSale||t.isBackFromBuy?a("v-menu",{attrs:{bottom:"","offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(s){var n=s.on,o=s.attrs;return[a("div",{staticClass:"d-flex flex-row"},[a("money",t._g(t._b({attrs:{disabled:!t.isEditing||e.factorItem},on:{"click:suffix":function(e){t.priceMenus[i]=!0}},model:{value:t.rows[i].fee,callback:function(e){t.$set(t.rows[i],"fee",e)},expression:"rows[i].fee"}},"money",o,!1),n)),a("span",{staticClass:"mt-2 mr-1",staticStyle:{"font-size":"10px","white-space":"nowrap"}},[t._v(t._s(t.getFeeSuffix(e)))])],1)]}}],null,!0),model:{value:t.priceMenus[i],callback:function(e){t.$set(t.priceMenus,i,e)},expression:"priceMenus[i]"}},[a("v-list",{staticClass:"py-0"},t._l(t.getWarePrices(t.rows[i]),(function(e,s){return a("v-list-item",{key:s,staticStyle:{"border-bottom":"1px dashed black"},on:{click:function(a){t.rows[i].fee=e.price}}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-center",staticStyle:{"font-size":"12px"}},[a("span",[t._v(t._s(e.name))])]),a("v-list-item-subtitle",{staticClass:"text-center"},[a("span",[t._v(t._s(t._f("toMoney")(e.price)))])])],1)],1)})),1)],1):a("money",{attrs:{disabled:!t.isEditing||e.factorItem},model:{value:t.rows[i].fee,callback:function(e){t.$set(t.rows[i],"fee",e)},expression:"rows[i].fee"}})],1),a("td",{attrs:{dir:"ltr"}},[a("money",{attrs:{value:t.rowSum(t.rows[i]),disabled:"",decimalScale:0}})],1)],t.showDiscount?[a("td",[a("money",{attrs:{disabled:!t.isEditing||t.hasValue(t.rows[i].discountPercent)||e.factorItem},model:{value:t.rows[i].discountValue,callback:function(e){t.$set(t.rows[i],"discountValue",e)},expression:"rows[i].discountValue"}})],1),a("td",[a("v-text-field",{attrs:{disabled:!t.isEditing||t.hasValue(t.rows[i].discountValue)&&!t.hasValue(t.rows[i].discountPercent)||e.factorItem,type:"number",min:"0",max:"100"},model:{value:t.rows[i].discountPercent,callback:function(e){t.$set(t.rows[i],"discountPercent",e)},expression:"rows[i].discountPercent"}})],1),a("td",[a("money",{attrs:{value:t.rowSumAfterDiscount(e),decimalScale:0,disabled:""}})],1)]:t._e(),t.item.has_tax?[a("td",[a("money",{attrs:{disabled:!t.isEditing||t.hasValue(t.rows[i].tax_percent)||e.factorItem},model:{value:t.rows[i].tax_value,callback:function(e){t.$set(t.rows[i],"tax_value",e)},expression:"rows[i].tax_value"}})],1),a("td",[a("v-text-field",{attrs:{disabled:!t.isEditing||t.hasValue(t.rows[i].tax_value)&&!t.hasValue(t.rows[i].tax_percent)||e.factorItem,type:"number",min:"0",max:"100"},model:{value:t.rows[i].tax_percent,callback:function(e){t.$set(t.rows[i],"tax_percent",e)},expression:"rows[i].tax_percent"}})],1),a("td",[a("money",{attrs:{decimalScale:0,value:t.rowSumAfterTax(e),disabled:""}})],1)]:t._e(),a("td",[a("row-textarea",{attrs:{disabled:!t.isEditing||e.factorItem,i:i},on:{updateRowsExplanation:t.updateRowsExplanation},model:{value:t.rows[i].explanation,callback:function(e){t.$set(t.rows[i],"explanation",e)},expression:"rows[i].explanation"}})],1),a("td",{staticClass:"d-print-none"},[i!=t.rows.length-1?a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing||e.factorItem},on:{click:function(e){return t.deleteItemRow(i)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)],2)})),a("tr",{staticClass:"grey lighten-3 text-white"},[t.hasSelect?a("td"):t._e(),a("td",{attrs:{colspan:"4"}}),t.isFpi?a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("count"),0)))]):a("td"),t.isCw||t.isRoR?t._e():a("td"),t.isFpi?a("td",[t._v(t._s(t._f("toMoney")(t.sum.sum,0)))]):a("td"),t.isProduction?a("td"):t._e(),a("td"),t.showDiscount?a("td",{attrs:{colspan:"4"}}):t._e(),t.showTax&&t.item.has_tax?a("td",{attrs:{colspan:"3"}}):t._e(),a("td",[a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteItemRow(-1)}}},[a("v-icon",[t._v("delete_sweep")])],1)],1)])]},proxy:!0}]),model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}})],1)],1),t.isCw||t.isRoR?t._e():a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[t.showFactorExpenses?a("div",{staticClass:"pa-3 ml-md-5",staticStyle:{border:"1px dashed #9e9e9e"}},[a("div",{staticClass:"d-flex"},[a("h3",[t._v("هزینه های فاکتور")]),a("v-spacer")],1),a("input-table",{staticClass:"mt-3",scopedSlots:t._u([{key:"thead",fn:function(){return[a("tr",[a("th",[t._v("#")]),a("th",[t._v("نام هزینه ثابت")]),a("th",[t._v("مبلغ")]),a("th",[t._v("پرداخت کننده")]),a("th",[t._v("حساب شناور")]),a("th",[t._v("مرکز هزینه و درآمد")]),a("th",[t._v("توضیحات")])])]},proxy:!0},t.item.expenses.length?{key:"tbody",fn:function(){return[t._l(t.item.expenses,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",[t._v(t._s(e.expense.name))]),a("td",[t._v(t._s(t._f("toMoney")(e.value)))]),a("td",[t._v(t._s(e.account.title))]),a("td",[t._v(t._s(e.floatAccount?e.floatAccount.name:" - "))]),a("td",[t._v(t._s(e.costCenter?e.costCenter.name:" - "))]),a("td",[t._v(t._s(e.explanation))])])})),a("tr",{staticClass:"grey lighten-3"},[a("td",{attrs:{colspan:"2"}},[t._v("جمع هزینه های فاکتور:")]),a("td",[t._v(t._s(t._f("toMoney")(t.sum.expenses)))]),a("td",{attrs:{colspan:"4"}})])]},proxy:!0}:{key:"default",fn:function(e){return a("tbody",[a("tr",[a("td",{attrs:{colspan:"7"}},[t._v("هزینه ای ثبت نشده است")])])])}}],null,!0),model:{value:t.item.expenses,callback:function(e){t.$set(t.item,"expenses",e)},expression:"item.expenses"}}),a("div",{staticClass:"d-flex mt-2"},[a("v-spacer"),a("v-btn",{staticClass:"blue white--text",attrs:{disabled:!t.isEditing},on:{click:t.openFactorExpensesDialog}},[t._v("افزودن / ویرایش")])],1)],1):t._e()]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"finals",attrs:{bordered:""}},[a("tbody",[t.showDiscount||t.showTax?a("tr",[a("td",[t._v("جمع:")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("toMoney")(t.sum.sum,0))+" ریال")])]):t._e(),t.showDiscount?a("tr",[a("td",[t._v("تخفیف")]),a("td",[a("money",{attrs:{disabled:!t.isEditing||t.hasValue(t.item.discountPercent),placeholder:"مبلغ"},model:{value:t.item.discountValue,callback:function(e){t.$set(t.item,"discountValue",e)},expression:"item.discountValue"}})],1),a("td",[a("v-text-field",{attrs:{disabled:!t.isEditing||t.hasValue(t.item.discountValue),type:"number",min:"0",max:"100",placeholder:"درصد"},model:{value:t.item.discountPercent,callback:function(e){t.$set(t.item,"discountPercent",e)},expression:"item.discountPercent"}})],1)]):t._e(),t.showDiscount?a("tr",[a("td",[t._v("مبلغ فاکتور پس از تخفیف:")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("toMoney")(t.sum.afterDiscount,0))+" ریال")])]):t._e(),t.item.has_tax?a("tr",[a("td",[t._v("مالیات")]),a("td",{attrs:{colspan:"2"}},[a("money",{attrs:{disabled:!t.isEditing,placeholder:"مبلغ"},model:{value:t.item.taxValue,callback:function(e){t.$set(t.item,"taxValue",e)},expression:"item.taxValue"}})],1)]):t._e(),a("tr",[a("td",[t._v("مبلغ کل فاکتور:")]),a("td",{attrs:{colspan:"2"}},[t._v(t._s(t._f("toMoney")(t.sum.total,0))+" ریال")])])])])],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"1200px"},model:{value:t.factorExpensesDialog,callback:function(e){t.factorExpensesDialog=e},expression:"factorExpensesDialog"}},[a("v-card",{staticClass:"form-fields"},[a("v-card-title",[t._v("هزینه های فاکتور")]),a("v-card-text",[a("v-simple-table",[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("* نام هزینه ثابت")]),a("th",[t._v("* مبلغ")]),a("th",[t._v("* پرداخت کننده")]),a("th",[t._v("توضیحات")]),a("th")])]),a("tbody",t._l(t.factorExpensesCopy,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",[a("v-autocomplete",{attrs:{"return-object":!0,items:t.factorExpenses.filter((function(e){return e.type==t.factorExpenseType})),"item-text":"name","item-value":"id"},model:{value:e.expense,callback:function(a){t.$set(e,"expense",a)},expression:"e.expense"}})],1),a("td",[a("money",{model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"e.value"}})],1),a("td",[a("account-select",{attrs:{horizontal:!0,itemsType:"level3",label:"",floatAccount:e.floatAccount,costCenter:e.costCenter},on:{"update:floatAccount":function(t){return e.floatAccount=t},"update:costCenter":function(t){return e.costCenter=t}},model:{value:e.account,callback:function(a){t.$set(e,"account",a)},expression:"e.account"}})],1),a("td",[a("v-textarea",{attrs:{rows:"1","auto-grow":""},model:{value:e.explanation,callback:function(a){t.$set(e,"explanation",a)},expression:"e.explanation"}})],1),a("td",[i!=t.factorExpensesCopy.length-1?a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteExpenseRow(i)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)])})),0)])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"blue white--text",on:{click:function(e){return t.addExpenses()}}},[t._v("تایید")])],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"600px"},model:{value:t.exportsDialog,callback:function(e){t.exportsDialog=e},expression:"exportsDialog"}},[a("v-card",[a("v-card-title",[t._v("خروجی")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-switch",{attrs:{label:"خلاصه کردن فاکتور"},model:{value:t.exportOptions.summarized,callback:function(e){t.$set(t.exportOptions,"summarized",e)},expression:"exportOptions.summarized"}}),a("v-switch",{attrs:{label:"مخفی کردن هزینه های فاکتور"},model:{value:t.exportOptions.hide_expenses,callback:function(e){t.$set(t.exportOptions,"hide_expenses",e)},expression:"exportOptions.hide_expenses"}}),a("v-switch",{attrs:{label:"مخفی کردن مانده حساب"},model:{value:t.exportOptions.hide_remain,callback:function(e){t.$set(t.exportOptions,"hide_remain",e)},expression:"exportOptions.hide_remain"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"export-btn",attrs:{href:t.exportLinks.item.html,target:"_blank",rel:"noopener noreferrer",block:""}},[t._v("چاپ")])],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"export-btn",attrs:{href:t.exportLinks.item.pdf,target:"_blank",rel:"noopener noreferrer",block:""}},[t._v("PDF")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"export-btn",attrs:{href:t.exportLinks.receipt.html,target:"_blank",rel:"noopener noreferrer",block:""}},[t._v("چاپ "+t._s(t.receiptLabel))])],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-btn",{staticClass:"export-btn",attrs:{href:t.exportLinks.receipt.pdf,target:"_blank",rel:"noopener noreferrer",block:""}},[t._v("PDF "+t._s(t.receiptLabel))])],1)],1)],1)],1)],1),a("v-card-actions")],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"1200px"},model:{value:t.transactionsDialog,callback:function(e){t.transactionsDialog=e},expression:"transactionsDialog"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.transactionLink.label)+" های فاکتور")]),a("v-card-text",[a("v-simple-table",[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("مبغ")]),a("th",[t._v("کد دریافت/پرداخت")]),a("th",[t._v("تاریخ")]),a("th",[t._v("توضیحات")]),a("th")])]),a("tbody",[t.item.payments&&t.item.payments.length?[t._l(t.item.payments,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",[t._v(t._s(t._f("toMoney")(e.value)))]),a("td",[t._v(t._s(e.transaction.code))]),a("td",[t._v(t._s(e.transaction.date))]),a("td",[t._v(t._s(e.transaction.explanation))]),a("td",[a("v-btn",{staticClass:"blue white--text",on:{click:function(a){return t.openTransaction(e.transaction)}}},[t._v(" مشاهده "+t._s(t.transactionLink.label)+" "),a("v-chip",{staticClass:"app-background-color mr-2",attrs:{"x-small":""}},[t._v(t._s(e.transaction.code))])],1)],1)])})),a("tr",{staticClass:"grey lighten-3"},[a("td",[t._v("جمع:")]),a("td",[t._v(t._s(t._f("toMoney")(t.paymentsSum)))]),a("td",{attrs:{colspan:"4"}})])]:a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:"4"}},[t._v("موردی برای نمایش وجود ندارد")])])],2)])],1)],1)],1)]],2),t.priceWare?a("v-dialog",{attrs:{scrollable:"","max-width":"1000px"},model:{value:t.pricesDialog,callback:function(e){t.pricesDialog=e},expression:"pricesDialog"}},[a("v-card",[a("v-card-title",[t._v("آخرین قیمت های "+t._s(t.priceWare.name)+" برای "+t._s(t.item.account.name))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.pricesHeaders,"api-url":"reports/buySale",filters:t.pricesFilters,"item-per-page":5},on:{"update:filters":function(e){t.pricesFilters=e}}})],1)],1)],1)],1)],1):t._e(),a("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:t.calculatorDialog,callback:function(e){t.calculatorDialog=e},expression:"calculatorDialog"}},[a("v-card",[a("v-card-title",[t._v("ورود طول و عرض و ارتفاع")]),t.row?a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("money",{staticClass:"text-field-ltr",attrs:{label:"قطر"},model:{value:t.row.meta.diameter,callback:function(e){t.$set(t.row.meta,"diameter",e)},expression:"row.meta.diameter"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("money",{staticClass:"text-field-ltr",attrs:{label:"طول"},model:{value:t.row.meta.length,callback:function(e){t.$set(t.row.meta,"length",e)},expression:"row.meta.length"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("money",{staticClass:"text-field-ltr",attrs:{label:"عرض"},model:{value:t.row.meta.width,callback:function(e){t.$set(t.row.meta,"width",e)},expression:"row.meta.width"}})],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("money",{staticClass:"text-field-ltr",attrs:{label:"تعداد"},model:{value:t.row.meta.count,callback:function(e){t.$set(t.row.meta,"count",e)},expression:"row.meta.count"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{label:"مقدار ثابت"},model:{value:t.row.meta.static_value,callback:function(e){t.$set(t.row.meta,"static_value",e)},expression:"row.meta.static_value"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{staticClass:"text-field-ltr",attrs:{label:"متر مربع",value:t.squareMetters,disabled:""}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{staticClass:"text-field-ltr",attrs:{label:"متر مربع کل",value:t.totalSquareMetters,disabled:""}})],1)],1)],1):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"blue white--text w-100px",on:{click:function(e){return t.setCalculatorData(t.row)}}},[t._v("تایید")])],1)],1)],1)],1)},Rs=[],Os=(a("b680"),a("2ef0")),qs=a.n(Os),Bs={methods:{getFactorExpenses:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||!this.factorExpenses.length)return this.request({url:this.endpoint("factors/expenses/"),method:"get",success:function(e){t.$store.commit("setFactorExpenses",e)}})}},computed:Object(o["a"])({},Object(G["b"])({factorExpenses:function(t){return t.factorExpenses}})),filters:{}},Us=a("14a8"),Ms={components:{money:ls["a"],date:cs["a"],mtime:Ke["a"]},mixins:[Lt["b"],rs["a"],La["a"],Ra,Bs,Oa["a"],Us["a"]],props:{isPreFactor:{required:!0,type:Boolean},type:{required:!0},id:{default:!1},backFrom:{default:null}},data:function(){return{hasList:!1,transactionsDialog:!1,baseUrl:"factors/factors",appendSlash:!0,rowKey:"ware",hasIdProp:!0,hasLock:!0,exportsDialog:!1,factorExpensesDialog:!1,factorExpensesCopy:[{}],expensesToDelete:[],exportOptions:{summarized:!1,hide_expenses:!1,hide_remain:!1},pricesDialog:!1,priceWare:null,pricesFilters:{ware:null,factor__account:null,factor__floatAccount:null,factor__costCenter:null,factor__type__in:null},priceMenus:{},pricesHeaders:[{text:"شماره فاکتور",value:"factor.code"},{text:"تاریخ",value:"factor.date",type:"date"},{text:"تعداد",value:"count",type:"numeric"},{text:"واحد",value:"unit.name"},{text:"فی",value:"fee",type:"numeric",sortable:!1},{text:"مبلغ کل",value:"total_value",type:"numeric",sortable:!1}],calculatorDialog:!1,row:null}},computed:{showCalculatorBtn:function(){return!0},RoRFactorTypes:function(){return{rc:{factor:{label:"خرید",type:"buy"},backFactor:{label:"برگشت از فروش",type:"backFromSale"}},rm:{factor:{label:"فروش",type:"sale"},backFactor:{label:"برگشت از خرید",type:"backFromBuy"}}}},preFactor:function(){var t,e=Object(c["a"])(this.rows);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.id&&a.preFactorItem){var i=a.preFactorItem.factor__is_pre_factor,s=a.preFactorItem.factor__type,n="";return i?n="پیش فاکتور":"rm"==s?n="حواله":"rc"==s&&(n="رسید"),{label:n,id:a.preFactorItem.factor__id,isPreFactor:i,type:s}}}}catch(o){e.e(o)}finally{e.f()}return null},isConverted:function(){var t,e=Object(c["a"])(this.rows);try{for(e.s();!(t=e.n()).done;){var a=t.value;if(a.id&&a.factorItem)return!0}}catch(i){e.e(i)}finally{e.f()}return!1},hasSelect:function(){return this.isPreFactor||this.isRoR},canSubmit:function(){return this.item.id||this.isFpi?this.hasPerm("update",this.permissionBasename,this.item):this.hasPerm("create",this.permissionBasename,this.item)},permissionBasename:function(){var t={buy:"buyFactor",sale:"saleFactor",backFromBuy:"backFromBuyFactor",backFromSale:"backFromSaleFactor",fpi:"firstPeriodInventory",cw:"consumptionWareFactor",rc:"receipt",rm:"remittance",p:"production"};return t[this.type]},accountType:function(){return this.isCw||this.isFpi||this.isProduction?"level3":"persons"},createUrl:function(){return"factors/factors/"},updateUrl:function(){return"factors/factors/".concat(this.id,"/")},listRoute:function(){return{name:"FactorsList",params:{isPreFactor:this.isPreFactor,type:this.type}}},isRoR:function(){return["rc","rm"].includes(this.type)},isFpi:function(){return"fpi"==this.type},isCw:function(){return"cw"==this.type},isBuy:function(){return"buy"==this.type},isSale:function(){return"sale"==this.type},isBack:function(){return["backFromBuy","backFromSale"].includes(this.type)},isBackFromBuy:function(){return"backFromBuy"==this.type},isBackFromSale:function(){return"backFromSale"==this.type},isProduction:function(){return"p"==this.type},title:function(){return this.getFactorTitle(this.type,this.isPreFactor)},showDiscount:function(){return!this.isFpi&&!this.isCw&&!this.isRoR&&!this.isProduction},showTax:function(){return!this.isFpi&&!this.isCw&&!this.isRoR&&!this.isProduction},showFactorExpenses:function(){return!this.isFpi&&!this.isPreFactor&&!this.isProduction},hasTransaction:function(){return this.id&&!this.isFpi&&!this.isCw&&!this.isPreFactor&&!this.isProduction},hasReverseFactor:function(){return this.id&&(this.isBuy||this.isSale)},hasBijak:function(){return["buy","backFromBuy"].includes(this.type)||this.isFpi},reverseLabel:function(){var t={sale:"فاکتور برگشت از فروش ",buy:"فاکتور برگشت از خرید "};return t[this.type]},paymentsSum:function(){var t=0;return this.item.payments&&this.item.payments.forEach((function(e){t+=+e.value})),t},canSubmitTransaction:function(){return!(!this.id||this.isFpi||this.isCw||this.isPreFactor||this.isRoR||this.isProduction)&&this.item.paidValue<this.sum.total},exportLinks:function(){var t=this,e="reports/lists/factors/TEMP?form=factor&type="+this.type+"&is_pre_factor="+this.isPreFactor+"&id="+this.id+"&token="+this.token;e=this.endpoint(e),Object.keys(this.exportOptions).forEach((function(a){var i=t.exportOptions[a];e+="&".concat(a,"=").concat(i)}));var a={html:e.replace("TEMP","html"),pdf:e.replace("TEMP","pdf")},i={html:a.html+"&summarized=true&hide_prices=true&receipt=true",pdf:a.pdf+"&summarized=true&hide_prices=true&receipt=true"};return{item:a,receipt:i}},sum:function(){var t=this,e={sum:0,afterDiscount:0,discount:0,afterTax:0,total:0,expenses:0};this.rows.forEach((function(a){e.sum+=t.rowSumAfterTax(a)})),this.item.expenses.forEach((function(t){e.expenses+=+t.value}));var a=0;return a=this.hasValue(this.item.discountValue)?+this.item.discountValue:e.sum*+this.item.discountPercent/100,e.afterDiscount=e.sum-a,e.total=e.afterDiscount+ +this.item.taxValue,e},accountName:function(){return this.isCw||this.isFpi||this.isRoR||this.isProduction?"حساب":["buy","backFromBuy"].includes(this.type)?"فروشنده":"مشتری"},transactionLink:function(){return this.getFactorTransactionLink(this.item)},factorExpenseType:function(){return this.isBuy||this.isBackFromSale?"buy":"sale"},receiptLabel:function(){return this.isSale||this.isBackFromBuy?"حواله":"رسید"},quickTransactionOptions:function(){return["buy","backFromSale"].includes(this.type)?[{text:"وجه نقد سریع",codename:"quickCachePayment"},{text:"بانکی سریع",codename:"quickBankPayment"}]:[{text:"وجه نقد سریع",codename:"quickCacheReceive"},{text:"کارتخوان سریع",codename:"quickPosReceive"}]},factorVisitors:function(){var t=this,e=this.visitors.filter((function(t){return 3==t.level})),a=e.find((function(e){return e.user.id==t.user.id}));return a?(this.item.visitor=a.id,[a]):e},squareMetters:function(){var t=this.row.meta;return this.row.meta.square_meters=+(t.length*t.width).toFixed(6)},totalSquareMetters:function(){var t=this.row.meta;return this.row.meta.total_square_meters=+(this.row.meta.square_meters*t.count).toFixed(6)}},watch:{rows:{handler:function(t,e){this.setDefaultValues()},deep:!0},factorExpensesCopy:{handler:function(){var t=this.factorExpensesCopy[this.factorExpensesCopy.length-1];t&&t.expense&&this.factorExpensesCopy.push({})},deep:!0},"item.has_tax":function(){0==this.item.has_tax&&(this.item.taxPercent=0,this.item.taxValue=0)}},mounted:function(){this.getVisitors(),this.getUnits(),this.getSalePriceTypes()},methods:{getData:function(){this.getWarehouses(),this.getFactorExpenses(),this.isFpi?this.getFirstPeriodInventory():this.backFrom&&this.getFactor(this.backFrom)},getFirstPeriodInventory:function(){var t=this;this.request({url:this.endpoint("factors/firstPeriodInventory"),method:"get",success:function(e){e.message||(t.setItem(e),t.isEditing=!1)}})},getItemTemplate:function(){return{account:{},hax_tax:!1,taxValue:"",discountPercent:"",discountValue:"",backFrom:null,expenses:[],date:void 0,time:void 0,is_pre_factor:this.isPreFactor,has_auto_sanad:!0}},getRowTemplate:function(){var t="";return this.isFpi&&(t="ثبت موجودی اول دوره"),{discountValue:"",discountPercent:"",tax_value:"",tax_percent:"",fee:"",count:null,unit_count:null,ware:null,unit:null,warehouse:null,explanation:t,is_selected:!1,meta:{}}},getFactor:function(t){var e=this;return this.request({url:this.endpoint("factors/factors/"+t+"/"),method:"get",success:function(t){e.setItem(t)}})},getItemByPosition:function(t){var e=this;return this.request({url:this.endpoint("factors/factors/byPosition"),method:"get",params:{type:this.type,is_pre_factor:this.isPreFactor,id:this.item.id,position:t},success:function(t){e.setItem(t,!0)},error:function(t){404==t.response.status&&e.notify("فاکتور وجود ندارد","warning")}})},setProductionAccount:function(){var t=this.getDefaultAccount("producedWareAccount");t&&(this.$set(this.item,"account",t.account),this.$set(this.item,"floatAccount",t.floatAccount),this.$set(this.item,"costCenter",t.costCenter))},openTransaction:function(t){var e=this.$router.resolve({name:"TransactionForm",params:{type:t.type,id:t.id}});window.open(e.href,"_blank")},getSerialized:function(){var t=this;this.isProduction&&this.setProductionAccount();var e=this.copy(this.item);e=this.extractIds(e),e.path=this.item.account.path;var a=[];this.rows.forEach((function(e,i){if(i!=t.rows.length-1){var s=t.copy(e);s.count=t.convertToMainUnit(s.ware,s.unit_count,s.unit),s=t.extractIds(s),["discountPercent","discountValue","tax_value","tax_percent"].forEach((function(t){""==s[t]&&(s[t]=0)})),a.push(s)}}));var i=[];return this.item.expenses.forEach((function(e,a){var s=t.copy(e);s=t.extractIds(s),i.push(s)})),{item:e,items:{items:a,ids_to_delete:this.itemsToDelete},expenses:{items:i,ids_to_delete:this.expensesToDelete}}},definiteFactor:function(t){var e=this;this.request({url:this.endpoint("factors/factors/definite/"+this.item.id),method:"post",success:function(t){e.setItem(t),e.successNotify()}})},setDefaultValues:function(){var t=this,e=this.rows.filter((function(t){return t.ware}));e.forEach((function(e){t.isBuy||e.fee||(e.fee=e.ware.price),e.warehouse||(e.warehouse=e.ware.warehouse),e.sale_price=e.ware.price}))},validate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=!0;1==this.rows.length&&(this.notify("لطفا حداقل یک ردیف وارد کنید","danger"),a=!1),this.rows.forEach((function(e,i){i!=t.rows.length-1&&(e.unit_count&&0!=e.unit_count||(t.notify("لطفا تعداد ردیف ".concat(i+1," را وارد کنید"),"danger"),a=!1),void 0!=e.fee&&""!=e.fee||(t.isCw||t.isRoR?e.fee=0:(t.notify("لطفا قیمت واحد ردیف ".concat(i+1," را وارد کنید"),"danger"),a=!1)),void 0==e.unit_count&&(t.notify("لطفا تعداد ردیف ".concat(i+1," را وارد کنید"),"danger"),a=!1))})),a&&(["discountPercent","discountValue","taxPercent","taxValue"].forEach((function(e){""==t.item[e]&&(t.item[e]=0)})),this.item.type=this.type,this.submit(e))},setItem:function(t){if(this.rows=t.items.sort((function(t,e){return t.order-e.order})),this.backFrom&&t.backFrom!=this.backFrom){for(var e=["account","floatAccount","costCenter","date","time","discountValue","discountPercent","has_tax","taxValue","taxPercent","visitor","path"],a=0,i=e;a<i.length;a++){var s=i[a];this.$set(this.item,s,t[s])}this.item.type=this.type,this.item.backFrom=this.backFrom,this.rows.map((function(t){return delete t.id,delete t.factor,t})),this.item.expenses.map((function(t){return delete t.id,delete t.factor,t}))}else this.item=t,this.changeRouteTo(t.id,{type:t.type,isPreFactor:t.is_pre_factor});this.rows.push(this.getRowTemplate()),this.itemsToDelete=[]},deleteItemRow:function(t){var e=this;if(-1==t)this.rows.forEach((function(t){t.id&&e.itemsToDelete.push(t.id)})),this.rows.splice(0,this.rows.length-1);else{var a=this.rows[t];a.id&&this.itemsToDelete.push(a.id),this.rows.splice(t,1)}},deleteExpenseRow:function(t){var e=this.factorExpensesCopy[t];e.id&&this.expensesToDelete.push(e.id),this.factorExpensesCopy.splice(t,1)},rowSum:function(t){return this.hasValue(t.fee)&&this.hasValue(t.unit_count)?+t.fee*+t.unit_count:0},rowDiscount:function(t){return this.rowSum(t)&&(this.hasValue(t.discountValue)||this.hasValue(t.discountPercent))?this.hasValue(t.discountValue)?+t.discountValue:+(this.rowSum(t)*+t.discountPercent/100).toFixed(2):0},rowSumAfterDiscount:function(t){return this.rowSum(t)-this.rowDiscount(t)},rowTax:function(t){return this.rowSumAfterDiscount(t)&&(this.hasValue(t.tax_value)||this.hasValue(t.tax_percent))?this.hasValue(t.tax_value)?+t.tax_value:+(this.rowSumAfterDiscount(t)*+t.tax_percent/100).toFixed(2):0},rowSumAfterTax:function(t){return this.rowTax(t)?this.rowSumAfterDiscount(t)+this.rowTax(t):this.rowSumAfterDiscount(t)},openFactorExpensesDialog:function(){var t=this;this.item.expenses.length&&(this.factorExpensesCopy=[],this.item.expenses.forEach((function(e){t.factorExpensesCopy.push(t.copy(e))}))),this.factorExpensesDialog=!0},addExpenses:function(){var t=this,e=!0;this.factorExpensesCopy.forEach((function(a,i){i!=t.factorExpensesCopy.length-1&&(a.expense||(t.notify("لطفا نام هزینه ردیف ".concat(i+1," را وارد کنید"),"danger"),e=!1),a.value&&0!=a.value||(t.notify("لطفا مبلغ ردیف ".concat(i+1," را وارد کنید"),"danger"),e=!1),a.account||(t.notify("لطفا حساب پرداخت کننده ردیف ".concat(i+1," را وارد کنید"),"danger"),e=!1),a.account&&a.account.floatAccountGroup&&!a.floatAccount&&(t.notify("لطفا حساب شناور ردیف ".concat(i+1," را وارد کنید"),"danger"),e=!1),a.account&&a.account.costCenterGroup&&!a.costCenter&&(t.notify("لطفا مرکز هزینه و درآمد ردیف ".concat(i+1," را وارد کنید"),"danger"),e=!1))})),e&&(this.factorExpensesDialog=!1,this.item.expenses=this.copy(this.factorExpensesCopy),this.item.expenses.pop(),this.factorExpensesCopy=[{}])},reverseFactor:function(){var t=this,e=this.copy(this.rows);this.$router.push(this.getReverseFactorLink(this.item).to),this.$nextTick((function(){t.rows=[];var a,i=Object(c["a"])(e);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.id&&delete s.id,t.rows.push(Object(o["a"])({},s))}}catch(n){i.e(n)}finally{i.f()}}))},showPrices:function(t){this.priceWare=t,this.item.account&&(this.pricesFilters.factor__account=this.item.account.id,this.item.floatAccount&&(this.pricesFilters.factor__floatAccount=this.item.floatAccount.id),this.item.costCenter&&(this.pricesFilters.factor__costCenter=this.item.costCenter.id)),this.pricesFilters.ware=t.id,this.pricesFilters.factor__type__in=this.type,this.pricesDialog=!0},getWarePrices:function(t){var e=this;if(t.ware&&t.unit){for(var a=t.ware.salePrices,i=t.unit,s=a.filter((function(t){return t.unit==i.id}))[0].prices,n=[],o=function(){var t=l[r],a=e.salePriceTypes.filter((function(e){return e.id==t}))[0];a&&n.push({id:t,price:s[t],name:a.name})},r=0,l=Object.keys(s);r<l.length;r++)o();return n}return[]},updateRowFee:function(t){if((this.isSale||this.isBackFromBuy)&&this.item.account&&t.ware&&t.unit){var e=this.item.account.defaultSalePriceType,a=this.getWarePrices(t),i=a.find((function(t){return t.id==e.id}));t.fee=i?i.price:null}else t.fee=null},createQuickTransaction:function(t){var e=this;this.request({url:this.endpoint("transactions/quickFactorTransaction"),method:"post",data:{factor_id:this.id,default_account_codename:t},success:function(t){e.setItem(t),e.successNotify()}})},getFeeSuffix:function(t){var e=this.getWarePrices(t).find((function(e){return e.price==t.fee}));if(e)return e.name},clearRow:function(t){var e=this,a=this.getRowTemplate();Object.keys(a).forEach((function(i){"ware"!=i&&(e.rows[t][i]=a[i])}))},convertPreFactorToFactor:function(){this.rows=this.rows.filter((function(t){return t.id&&null==t.preFactorItem&&t.is_selected})),this.rows=this.rows.map((function(t){return t.preFactorItem=t.id,t.id=null,t})),this.rows.push(this.getItemTemplate()),this.item.id=null,this.item.is_pre_factor=!1,this.submit(!1)},getFactorItemLink:function(t){var e=t.factorItem,a={name:"FactorForm",params:{id:e.factor_id,type:e.factor_type,is_pre_factor:!1}},i="تبدیل شده به فاکتور شماره ".concat(e.factor_temporary_code," ردیف ").concat(+e.order+1),s=e.factor_temporary_code;return{to:a,title:i,text:s}},convertRoRToFactor:function(t){var e=this,a=this.rows.filter((function(t){return t.id&&null==t.preFactorItem&&t.is_selected}));a=a.map((function(t){return t.preFactorItem=t.id,t.id=null,t}));var i=this.copy(this.item);i.id=null,i.temporary_code=null,i.factorType=t,this.$router.push({to:"FactorForm",params:{id:null,type:t,isPreFactor:!1}}),this.$nextTick((function(){e.item=i,e.rows=[];var t,s=Object(c["a"])(a);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.rows.push(Object(o["a"])({},n))}}catch(r){s.e(r)}finally{s.f()}}))},openCalculatorDialog:function(t){this.row=t,this.calculatorDialog=!0},setCalculatorData:function(){var t=this.row.meta;t.static_value||(this.row.unit_count=t.total_square_meters),this.row.explanation="قطر: ".concat(t.diameter,"، طول: ").concat(t.length,"، عرض: ").concat(t.width,"، تعداد: ").concat(t.count,"، متر مربع: ").concat(t.square_meters,"، متر مربع کل: ").concat(t.total_square_meters),this.calculatorDialog=!1}}},Ns=Ms,Ys=Object(v["a"])(Ns,Ss,Vs,!1,null,null,null),zs=Ys.exports,Ws={name:"Form",mixins:[zs]},Gs=Ws,Ks=(a("667e"),a("74f2"),a("ac7c")),Hs=a("e449"),Qs=Object(v["a"])(Gs,Ls,Rs,!1,null,"5ea8db0d",null),Xs=Qs.exports;f()(Qs,{VAutocomplete:Xe["a"],VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCheckbox:Ks["a"],VChip:at["a"],VCol:it["a"],VDialog:nt["a"],VIcon:b["a"],VList:g["a"],VListItem:y["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VMenu:Hs["a"],VRow:ct["a"],VSimpleTable:Na["a"],VSpacer:dt["a"],VSwitch:Je["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Js=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:t.title,items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("account-select",{attrs:{label:" * حساب",itemsType:"level3",disabled:!t.isEditing,floatAccount:t.item.floatAccount,costCenter:t.item.costCenter},on:{"update:floatAccount":function(e){return t.item.floatAccount=e},"update:costCenter":function(e){return t.item.costCenter=e}},model:{value:t.item.account,callback:function(e){t.$set(t.item,"account",e)},expression:"item.account"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},Zs=[],tn={mixins:[Lt["b"],Bs],props:{factorType:{requried:!0}},data:function(){return{item:{},baseUrl:"factors/expenses",permissionBasename:"factorExpenses",appendSlash:!0,cols:[{text:"نام",value:"name",type:"text",filters:["name"]},{text:"حساب",value:"account.title",type:"text",filters:["account__title__icontains"]}]}},computed:{title:function(){var t="هزینه های پیشفرض فاکتور ";return"sale"==this.factorType?t+"فروش":t+"خرید"},items:function(){var t=this;return this.factorExpenses.filter((function(e){return e.type==t.factorType}))}},methods:{getItemTemplate:function(){return{level:this.level,type:this.factorType}},getData:function(){this.getFactorExpenses(!0)},setItem:function(t){this.item=t},getSerialized:function(){var t=this.extractIds(this.item);return t.type=this.factorType,t}}},en=tn,an=Object(v["a"])(en,Js,Zs,!1,null,null,null),sn=an.exports;f()(an,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var nn,on=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:t.title,showList:!1,listRoute:{name:"FactorsAggregatedSanadsList"},exportBaseUrl:"reports/lists/factorsAggregatedSanad",exportParams:{id:this.id},canDelete:t.canDelete,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.sanad?a("open-sanad-btn",{attrs:{sanad:t.item.sanad}}):t._e()]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{disabled:"",label:"شماره","background-color":"white"},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ ",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),t.id?a("v-col",{attrs:{cols:"12"}},[t.isEditing?a("v-card-subtitle",[t._v("فاکتور های فعلی (برای حذف فاکتور آن را از انتخاب خارج کنید)")]):t._e(),a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,filters:t.filters,showExportBtns:!1,items:t.item.factors},on:{"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.payable_value",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getFactorPayableValue(a))))]}},{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}],null,!1,65758534),model:{value:t.factors,callback:function(e){t.factors=e},expression:"factors"}})],1):t._e(),t.isEditing?[t.id?a("v-col",{attrs:{cols:"12"}},[a("v-card-subtitle",[t._v("فاکتور هایی که میخواهید اضافه کنید از لیست پایین انتخاب کنید")])],1):t._e(),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,filters:t.filters,showExportBtns:!1,apiUrl:"reports/lists/factors"},on:{"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}],null,!1,886549401),model:{value:t.factors,callback:function(e){t.factors=e},expression:"factors"}})],1)]:t._e()],2)]],2)},rn=[],ln=a("ade3"),cn={name:"DistributionForm",mixins:[Lt["b"],rs["a"],Us["a"]],props:{type:{required:!0}},data:function(){return{baseUrl:"factors/factorsAggregatedSanads",appendSlash:!0,hasList:!1,hasIdProp:!0,filters:{type:this.type,is_defined:!0,has_auto_sanad:!1,aggregatedSanad__isnull:!0},factors:[],factor:null}},computed:{title:function(){return"سند تجمیعی "+this.getFactorTitle(this.type,!1)},permissionBasename:function(){var t={buy:"buyFactor",sale:"saleFactor",backFromBuy:"backFromBuyFactor",backFromSale:"backFromSaleFactor",cw:"consumptionWareFactor",rc:"receipt",rm:"remittance",p:"production"};return t[this.type]+"AggregatedSanad"},headers:function(){return[{text:"شماره",value:"code"},{text:"تاریخ",value:"date",type:"date"},{text:"خریدار / فروشنده",value:"account.name"},{text:"شرح",value:"explanation"},{text:"مبلغ کل فاکتور",value:"total_sum",type:"numeric"},{text:"مشاهده فاکتور",value:"detail",sortable:!1,filterable:!1}]}},methods:(nn={getItemTemplate:function(){return{factors:[]}},getItemByPosition:function(t){var e=this;return this.request({url:this.endpoint("".concat(this.baseUrl,"/byPosition")),method:"get",params:{id:this.item.id,position:t},success:function(t){e.setItem(t)}})},getData:function(){},setItem:function(t){this.item=t,this.changeRouteTo(t.id),this.factors=this.copy(t.factors)},getSerialized:function(){var t=this.extractIds(this.item);return t.type=this.type,t.factors=this.factors.map((function(t){return t.id})),t}},Object(ln["a"])(nn,"getItemByPosition",(function(t){var e=this;return this.request({url:this.endpoint("factors/factorsAggregatedSanads/byPosition"),method:"get",params:{type:this.type,id:this.item.id,position:t},success:function(t){e.setItem(t,!0)},error:function(t){404==t.response.status&&e.notify("فاکتور وجود ندارد","warning")}})})),Object(ln["a"])(nn,"to",(function(t){return{name:"FactorForm",params:{isPreFactor:t.is_pre_factor,type:t.type,id:t.id}}})),Object(ln["a"])(nn,"clearForm",(function(){this.isEditing=!0,this.item=this.getItemTemplate(),this.factors=[],this.changeRouteTo(null)})),nn)},un=cn,dn=Object(v["a"])(un,on,rn,!1,null,"0941820b",null),mn=dn.exports;f()(dn,{VCardSubtitle:et["b"],VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var pn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"انتقال بین انبار ها",listRoute:{name:"TransfersList"},showList:!1,exportBaseUrl:"reports/lists/transfers",exportParams:{id:this.id},isEditing:t.isEditing,canDelete:t.canDelete,canSubmit:t.canSubmit},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},clearForm:function(e){return t.clearForm(!0)},goToForm:t.getItemByPosition,submit:t.validate,delete:t.deleteItem,define:t.defineItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.sanad?a("open-sanad-btn",{attrs:{sanad:t.item.sanad}}):t._e()]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره انتقال",disabled:""},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("mtime",{attrs:{label:" * ساعت",required:"",default:!0,disabled:!t.isEditing},model:{value:t.item.time,callback:function(e){t.$set(t.item,"time",e)},expression:"item.time"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.id?a("v-switch",{attrs:{label:"قطعی شده",disabled:""},model:{value:t.item.is_defined,callback:function(e){t.$set(t.item,"is_defined",e)},expression:"item.is_defined"}}):t._e()],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{staticClass:"form-control",attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("input-table",{scopedSlots:t._u([{key:"thead",fn:function(){return[a("tr",[a("th",[t._v("#")]),a("th",[t._v("* نام/کد کالا")]),a("th",[t._v("* واحد")]),a("th",[t._v("* از انبار")]),a("th",[t._v("* تعداد")]),a("th",[t._v("* به انبار")]),a("th",[t._v("توضیحات")]),a("th",{staticClass:"d-print-none"})])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.rows,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"tr-counter"},[t._v(t._s(i+1))]),a("td",{staticClass:"tr-ware"},[a("ware-select",{attrs:{disabled:!t.isEditing,"show-main-unit":!1},model:{value:t.rows[i].ware,callback:function(e){t.$set(t.rows[i],"ware",e)},expression:"rows[i].ware"}})],1),a("td",[t.rows[i].ware?a("v-autocomplete",{attrs:{items:t.getWareUnits(e.ware),title:t.rows[i].unit?t.rows[i].unit.title:"","item-text":"name","item-value":"id",disabled:!t.isEditing,"return-object":!0,suffix:t.getUnitSuffix(e.ware,e.unit)},model:{value:t.rows[i].unit,callback:function(e){t.$set(t.rows[i],"unit",e)},expression:"rows[i].unit"}}):t._e()],1),a("td",{staticClass:"tr-warehouse"},[t.rows[i].ware?a("v-autocomplete",{attrs:{"return-object":!0,items:t.warehouses,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.rows[i].output_warehouse,callback:function(e){t.$set(t.rows[i],"output_warehouse",e)},expression:"rows[i].output_warehouse"}}):a("span",[t._v("-")])],1),a("td",[a("money",{attrs:{disabled:!t.isEditing},model:{value:t.rows[i].unit_count,callback:function(e){t.$set(t.rows[i],"unit_count",e)},expression:"rows[i].unit_count"}})],1),a("td",{staticClass:"tr-warehouse"},[t.rows[i].ware?a("v-autocomplete",{attrs:{"return-object":!0,items:t.warehouses,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.rows[i].input_warehouse,callback:function(e){t.$set(t.rows[i],"input_warehouse",e)},expression:"rows[i].input_warehouse"}}):a("span",[t._v("-")])],1),a("td",[a("row-textarea",{attrs:{disabled:!t.isEditing,i:i},on:{updateRowsExplanation:t.updateRowsExplanation},model:{value:t.rows[i].explanation,callback:function(e){t.$set(t.rows[i],"explanation",e)},expression:"rows[i].explanation"}})],1),a("td",{staticClass:"d-print-none"},[i!=t.rows.length-1?a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(i)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)])})),a("tr",{staticClass:"bg-info text-white"},[a("td",{attrs:{colspan:2}}),a("td",[t._v("جمع")]),a("td",[t._v(t._s(t._f("toMoney")(t.sum)))]),a("td",{attrs:{colspan:3}}),a("td",[a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(-1)}}},[a("v-icon",[t._v("delete_sweep")])],1)],1)])]},proxy:!0}]),model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}})],1)],1)]],2)},vn=[],hn=(a("fb6a"),{name:"Form",components:{money:ls["a"],date:cs["a"],mtime:Ke["a"]},mixins:[rs["a"],Ra,Lt["b"]],props:{id:{}},data:function(){return{baseUrl:"factors/transfers",permissionBasename:"transfer",appendSlash:!0,rowKey:"ware",hasList:!1,hasIdProp:!0,isDefinable:!0,hasLock:!0,inventory:{ware:null,warehouses:[]}}},methods:{getData:function(){this.getWarehouses(),this.getUnits()},validate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=!0;1==this.rows.length&&(this.notify("حداقل یک ردیف وارد کنید","danger"),a=!1),this.rows.forEach((function(e,i){i!=t.rows.length-1&&(e.unit_count&&0!=e.unit_count||(t.notify("لطفا تعداد ردیف ".concat(i+1," را وارد کنید"),"danger"),a=!1),e.input_warehouse&&e.output_warehouse||(t.notify("لطفا انبار ورودی و خروجی ردیف ".concat(i+1," را وارد کنید"),"danger"),a=!1),e.input_warehouse==e.output_warehouse&&(t.notify("لطفا انبار ورودی و خروجی ردیف ".concat(i+1," نمی تواند یکی باشد"),"danger"),a=!1))})),a&&this.submit(e)},getSerialized:function(){var t=this,e=this.extractIds(this.item),a=this.rows.slice(0,this.rows.length-1);return a=a.map((function(e){return e.count=t.convertToMainUnit(e.ware,e.unit_count,e.unit),e=t.extractIds(e),e})),e.items=a,e},setItem:function(t){this.item=t,this.rows=t.items.sort((function(t,e){return t.order-e.order})),this.rows.push(this.copy(this.rowTemplate)),this.changeRouteTo(t.id)},defineItem:function(t){var e=this;this.request({url:this.endpoint(this.defineUrl),method:"post",data:{item:this.getSerialized(),indefine:t},success:function(t){e.successResponse(t,!1)}})}},computed:{sum:function(){var t=0;return this.rows.forEach((function(e){e.count&&(t+=+e.count)})),t}}}),fn=hn,_n=Object(v["a"])(fn,pn,vn,!1,null,"59789817",null),bn=_n.exports;f()(_n,{VAutocomplete:Xe["a"],VBtn:_["a"],VCol:it["a"],VIcon:b["a"],VRow:ct["a"],VSwitch:Je["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var xn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:t.title,showList:!1,listRoute:{name:"AdjustmentsList",params:{type:t.type}},exportBaseUrl:"reports/lists/adjustments",exportParams:{id:t.id},isEditing:t.isEditing,canDelete:t.canDelete,canSubmit:t.canSubmit},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},clearForm:function(e){return t.clearForm(!0)},goToForm:t.getItemByPosition,submit:t.validate,delete:t.deleteItem,define:t.defineItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.sanad?a("open-sanad-btn",{attrs:{sanad:t.item.sanad}}):t._e()]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره",disabled:""},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("mtime",{attrs:{label:" * ساعت",required:"",default:!0,disabled:!t.isEditing},model:{value:t.item.time,callback:function(e){t.$set(t.item,"time",e)},expression:"item.time"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.id?a("v-switch",{attrs:{label:"قطعی شده",disabled:""},model:{value:t.item.is_defined,callback:function(e){t.$set(t.item,"is_defined",e)},expression:"item.is_defined"}}):t._e()],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{staticClass:"form-control",attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("input-table",{scopedSlots:t._u([{key:"thead",fn:function(){return[a("tr",[a("th",[t._v("#")]),a("th",[t._v("* نام/کد کالا")]),a("th",[t._v("* واحد")]),a("th",[t._v("* انبار")]),a("th",[t._v("* تعداد")]),a("th",[t._v("توضیحات")]),a("th",{staticClass:"d-print-none"})])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.rows,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"tr-counter"},[t._v(t._s(i+1))]),a("td",{staticClass:"tr-ware"},[a("ware-select",{attrs:{disabled:!t.isEditing,"show-main-unit":!1},model:{value:t.rows[i].ware,callback:function(e){t.$set(t.rows[i],"ware",e)},expression:"rows[i].ware"}})],1),a("td",{staticStyle:{"max-width":"100px"}},[t.rows[i].ware?a("v-autocomplete",{attrs:{items:t.getWareUnits(e.ware),title:t.rows[i].unit?t.rows[i].unit.title:"","item-text":"name","item-value":"id",disabled:!t.isEditing,"return-object":!0,suffix:t.getUnitSuffix(e.ware,e.unit)},model:{value:t.rows[i].unit,callback:function(e){t.$set(t.rows[i],"unit",e)},expression:"rows[i].unit"}}):t._e()],1),a("td",{staticClass:"tr-warehouse"},[t.rows[i].ware?a("v-autocomplete",{attrs:{"return-object":!0,items:t.warehouses,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.rows[i].warehouse,callback:function(e){t.$set(t.rows[i],"warehouse",e)},expression:"rows[i].warehouse"}}):a("span",[t._v("-")])],1),a("td",[a("money",{attrs:{disabled:!t.isEditing},model:{value:t.rows[i].unit_count,callback:function(e){t.$set(t.rows[i],"unit_count",e)},expression:"rows[i].unit_count"}})],1),a("td",[a("row-textarea",{attrs:{disabled:!t.isEditing,i:i},on:{updateRowsExplanation:t.updateRowsExplanation},model:{value:t.rows[i].explanation,callback:function(e){t.$set(t.rows[i],"explanation",e)},expression:"rows[i].explanation"}})],1),a("td",{staticClass:"d-print-none"},[i!=t.rows.length-1?a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(i)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)])})),a("tr",{staticClass:"bg-info text-white"},[a("td",{attrs:{colspan:"3"}}),a("td",[t._v("جمع")]),a("td",[t._v(t._s(t._f("toMoney")(t.sum)))]),a("td",{attrs:{colspan:"1"}}),a("td",[a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(-1)}}},[a("v-icon",[t._v("delete_sweep")])],1)],1)])]},proxy:!0}]),model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}})],1)],1)]],2)},gn=[],yn={name:"Form",components:{money:ls["a"],date:cs["a"],mtime:Ke["a"]},mixins:[rs["a"],Ra,Lt["b"]],props:{id:{},type:{required:!0}},data:function(){return{baseUrl:"factors/adjustments",permissionBasename:"adjustment",appendSlash:!0,rowKey:"ware",hasList:!1,hasIdProp:!0,isDefinable:!0,hasLock:!0,inventory:{ware:null,warehouses:[]}}},methods:{getItemByPosition:function(t){var e=this;return this.request({url:this.endpoint("".concat(this.baseUrl,"/byPosition")),method:"get",params:{id:this.item.id,position:t,type:this.type},success:function(t){e.setItem(t)}})},getData:function(){this.getWarehouses(),this.getUnits()},validate:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=!0;1==this.rows.length&&(this.notify("حداقل یک ردیف وارد کنید","danger"),a=!1),this.rows.forEach((function(e,i){i!=t.rows.length-1&&(e.unit_count&&0!=e.unit_count||(t.notify("لطفا تعداد ردیف ".concat(i+1," را وارد کنید"),"danger"),a=!1))})),a&&this.submit(e)},getSerialized:function(){var t=this,e=this.extractIds(this.item),a=this.rows.slice(0,this.rows.length-1);return a=a.map((function(e){return e.count=t.convertToMainUnit(e.ware,e.unit_count,e.unit),t.extractIds(e)})),e.items=a,e.type=this.type,{adjustment:e}},setItem:function(t){this.item=t,this.rows=t.items.sort((function(t,e){return t.order-e.order})),this.rows.push(this.copy(this.rowTemplate)),this.changeRouteTo(t.id)}},computed:{title:function(){return"ia"==this.type?"رسید تعدیل انبار":"حواله تعدیل انبار"},sum:function(){var t=0;return this.rows.forEach((function(e){e.unit_count&&(t+=+e.unit_count)})),t}}},kn=yn,wn=Object(v["a"])(kn,xn,gn,!1,null,"abb9ee64",null),Cn=wn.exports;f()(wn,{VAutocomplete:Xe["a"],VBtn:_["a"],VCol:it["a"],VIcon:b["a"],VRow:ct["a"],VSwitch:Je["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var En=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{ref:"mForm",attrs:{title:"انبار گردانی",showList:!1,listRoute:{name:"WarehouseHandlingList"},exportBaseUrl:"reports/lists/warehouseHandlings",exportParams:{id:this.id},canDelete:t.canDelete,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.is_defined?[a("span",[a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"AdjustmentForm",params:{id:t.item.inputAdjustment,type:"ia"}}}},[t._v("مشاهده رسید")]),a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"AdjustmentForm",params:{id:t.item.outputAdjustment,type:"oa"}}}},[t._v("مشاهده حواله")])],1)]:t._e(),t.$refs.mForm&&t.id?[a("span",[a("v-btn",{staticClass:"export-btn mr-1 mt-1 mt-md-0",attrs:{block:t.isXs,small:"",href:t.$refs.mForm.printUrl+"&hide_remains=true",target:"_blank",rel:"noopener noreferrer"}},[t._v("چاپ بدون مانده")]),a("v-btn",{staticClass:"export-btn mr-1 mt-1 mt-md-0",attrs:{small:"",href:t.$refs.mForm.pdfUrl+"&hide_remains=true",rel:"noopener noreferrer"}},[t._v("PDF بدون مانده")]),a("v-btn",{staticClass:"export-btn mr-1 mt-1 mt-md-0",attrs:{small:""},on:{click:function(e){return t.downloadUrl(t.$refs.mForm.excelUrl+"&hide_remains=true")}}},[t._v("اکسل بدون مانده")])],1)]:t._e()]},proxy:!0},{key:"footer-outside-btns",fn:function(){return[t.id?a("v-btn",{staticClass:"blue white--text mr-1",attrs:{disabled:t.item.is_defined},on:{click:t.definite}},[t._v("ثبت نهایی")]):t._e()]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{disabled:"",label:"شماره"},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ آغاز",default:!0,disabled:!t.isEditing},model:{value:t.item.start_date,callback:function(e){t.$set(t.item,"start_date",e)},expression:"item.start_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ شمارش",default:!0,disabled:!t.isEditing},model:{value:t.item.counting_date,callback:function(e){t.$set(t.item,"counting_date",e)},expression:"item.counting_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ ثبت انبار گردانی",default:!0,disabled:!t.isEditing},model:{value:t.item.submit_date,callback:function(e){t.$set(t.item,"submit_date",e)},expression:"item.submit_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("mtime",{attrs:{label:"* ساعت ثبت انبار گردانی",default:!0,disabled:!t.isEditing},model:{value:t.item.submit_time,callback:function(e){t.$set(t.item,"submit_time",e)},expression:"item.submit_time"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"* انبار گردان",disabled:!t.isEditing},model:{value:t.item.handler,callback:function(e){t.$set(t.item,"handler",e)},expression:"item.handler"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"* انبار",items:t.warehouses,"item-text":"title","item-value":"id",disabled:void 0!=t.id},model:{value:t.filters.warehouse,callback:function(e){t.$set(t.filters,"warehouse",e)},expression:"filters.warehouse"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-select",{attrs:{items:t.waresStatuses,label:"وضعیت کالا",disabled:void 0!=t.id},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-textarea",{attrs:{label:"شرح",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12"}},[t.filters.warehouse?a("input-table",{scopedSlots:t._u([{key:"thead",fn:function(){return[a("tr",[a("th",[t._v("#")]),a("th",[t._v("کد کالا")]),a("th",[t._v("نام کالا")]),a("th",[t._v("واحد")]),a("th",[t._v("* موجودی شمارش شده انبار")]),a("th",[t._v("مانده سیستم")]),a("th",[t._v("مغایرت")]),a("th",[t._v("توضیحات")])])]},proxy:!0},t.inventory.length?{key:"tbody",fn:function(){return t._l(t.rows,(function(e,i){return a("tr",{key:i},[a("td",{staticClass:"tr-counter"},[t._v(t._s(i+1))]),a("td",[t._v(t._s(e.ware.code))]),a("td",[t._v(t._s(e.ware.name))]),a("td",[t._v(t._s(e.unit))]),a("td",[a("money",{attrs:{disabled:!t.isEditing},model:{value:e.warehouse_remain,callback:function(a){t.$set(e,"warehouse_remain",a)},expression:"row.warehouse_remain"}})],1),a("td",[t._v(t._s(t._f("toMoney")(t.getSystemRemain(e))))]),a("td",{class:t.getContradictionStyle(e),attrs:{dir:"ltr"}},[t._v(" "+t._s(t._f("toMoney")(t.getContradiction(e)))+" ")]),a("td",[a("row-textarea",{attrs:{disabled:!t.isEditing,i:i},on:{updateRowsExplanation:t.updateRowsExplanation},model:{value:e.explanation,callback:function(a){t.$set(e,"explanation",a)},expression:"row.explanation"}})],1)])}))},proxy:!0}:null],null,!0),model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}}):t._e()],1)],1)]],2)},$n=[],Tn={name:"Form",components:{money:ls["a"],date:cs["a"],mtime:Ke["a"]},mixins:[Ra,Lt["b"]],props:["id"],data:function(){return{baseUrl:"factors/warehouseHandlings",permissionBasename:"warehouseHandling",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!0,filters:{},inventory:[],rows:[]}},watch:{filters:{handler:function(){this.getWareInventory()},deep:!0}},created:function(){this.getWares(),this.getWarehouses(),this.filters=this.getFilterTemplate()},methods:{getWareInventory:function(){var t=this;this.request({url:this.endpoint("reports/inventory/warehouse/all"),params:Object(o["a"])(Object(o["a"])({},this.filters),{},{level:3,limit:1e6,offset:0}),success:function(e){e=e.results.slice(0,e.results.length-1),t.inventory=e,t.id||(t.rows=e.map((function(t){return{id:null,ware:t,system_remain:t.remain}})))}})},definite:function(){var t=this;this.request({url:this.endpoint("factors/warehouseHandlings/definite"),method:"post",data:{id:this.id},success:function(e){t.successResponse(e)}})},clearForm:function(){this.isEditing=!0,this.item=this.getItemTemplate(),this.filters=this.getFilterTemplate(),this.changeRouteTo(null)},getFilterTemplate:function(){return{warehouse:null,level:3,status:"all"}},getSystemRemain:function(t){return this.item.is_defined?t.system_remain:this.inventory.filter((function(e){return e.id==t.ware.id}))[0]["remain"]},getContradiction:function(t){return t.warehouse_remain||0==t.warehouse_remain?(t.contradiction=t.warehouse_remain-this.getSystemRemain(t)||0,t.contradiction):"-"},getContradictionStyle:function(t){var e=this.getContradiction(t);return t.warehouse_remain?e>0?"green--text":"red--text":""},getItemTemplate:function(){return{}},setItem:function(t){var e=this;this.item=t,this.filters.warehouse=t.warehouse.id,this.filters.status=t.ware_status,this.itemsToDelete=[],this.rows=[],t.items.sort((function(t,e){return t.order-e.order})).forEach((function(t){var a=Object(o["a"])({},t);e.rows.push(a)})),this.changeRouteTo(t.id),this.isEditing=!1},getSerialized:function(){var t=this,e=Object(o["a"])(Object(o["a"])({},this.item),{},{warehouse:this.filters.warehouse,ware_status:this.filters.status}),a={item:this.extractIds(e),items:{ids_to_delete:this.itemsToDelete,items:this.rows.map((function(e){return t.extractIds(e)}))}};return a}}},Sn=Tn,Vn=Object(v["a"])(Sn,En,$n,!1,null,"f68e1756",null),Fn=Vn.exports;f()(Vn,{VAutocomplete:Xe["a"],VBtn:_["a"],VCol:it["a"],VRow:ct["a"],VSelect:Re["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Pn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"دسته چک","full-width":!0,items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,apiUrl:"reports/lists/chequebooks","show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.id?a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"ChequesList",params:{type:"c",isPaid:!0},query:{filters:JSON.stringify({chequebook__id:t.item.id})}}}},[t._v("مشاهده چک ها")]):t._e()]},proxy:!0},{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("account-select",{attrs:{"items-type":"banks",label:" * حساب بانک",disabled:!t.isEditing,floatAccount:t.item.floatAccount,costCenter:t.item.costCenter},on:{"update:floatAccount":function(e){return t.item.floatAccount=e},"update:costCenter":function(e){return t.item.costCenter=e}},model:{value:t.item.account,callback:function(e){t.$set(t.item,"account",e)},expression:"item.account"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"* سری",disabled:!t.isEditing},model:{value:t.item.serial,callback:function(e){t.$set(t.item,"serial",e)},expression:"item.serial"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:" * از شماره سریال",type:"number",disabled:!t.isEditing},model:{value:t.item.serial_from,callback:function(e){t.$set(t.item,"serial_from",e)},expression:"item.serial_from"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{type:"number",label:" * تا شماره سریال",disabled:!t.isEditing},model:{value:t.item.serial_to,callback:function(e){t.$set(t.item,"serial_to",e)},expression:"item.serial_to"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},Dn=[],An=a("e5c3"),In={name:"ChequebookForm",components:{money:ls["a"],date:cs["a"]},mixins:[Lt["b"],An["a"],La["a"],rs["a"]],data:function(){return{baseUrl:"cheques/chequebooks",permissionBasename:"chequebook",appendSlash:!0,cols:[{text:"حساب",value:"account.name",type:"text",filters:["account__name__icontains"]},{text:"سری",value:"serial",type:"text",filters:["serial__icontains"]},{text:"از سریال",value:"serial_from",type:"number",filters:["serial__icontains"]},{text:"تا سریال",value:"serial_to",type:"number",filters:["serial__icontains"]},{text:"توضیحات",value:"explanation",type:"text",filters:["account__icontains"]}]}},computed:{items:function(){return this.chequebooks}},methods:{getData:function(){this.getChequebooks(!0)},getSerialized:function(){var t=this.extractIds(this.item);return t}}},jn=In,Ln=Object(v["a"])(jn,Pn,Dn,!1,null,"5db1b82a",null),Rn=Ln.exports;f()(Ln,{VBtn:_["a"],VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var On=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},qn=[],Bn={name:"Cheque",data:function(){return{}}},Un=Bn,Mn=Object(v["a"])(Un,On,qn,!1,null,"9c105f9e",null),Nn=Mn.exports,Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.cheque?a("v-card",[a("v-card-title",[t._v(" "+t._s(t.title)+" "),a("v-spacer")],1),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"detail-table",attrs:{dense:""}},[a("tbody",[a("tr",[a("th",[t._v("سریال :")]),a("td",[t._v(t._s(t.cheque.serial))])]),a("tr",[a("th",[t._v("نام بانک:")]),a("td",[t._v(t._s(t.cheque.bankName))])]),a("tr",[a("th",[t._v("نام شعبه:")]),a("td",[t._v(t._s(t.cheque.branchName))])]),a("tr",[a("th",[t._v("شماره حساب :")]),a("td",[t._v(t._s(t.cheque.accountNumber))])])])])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"detail-table",attrs:{dense:""}},[a("tbody",[a("tr",[a("th",[t._v("مبلغ:")]),a("td",[t._v(t._s(t._f("toMoney")(t.cheque.value)))])]),a("tr",[a("th",[t._v("تاریخ سررسید:")]),a("td",[t._v(t._s(t.cheque.due))])]),a("tr",[a("th",[t._v("شرح :")]),a("td",[t._v(t._s(t.cheque.explanation))])]),a("tr",[a("th",[t._v("وضعیت:")]),a("td",[t._v(t._s(t._f("chequeStatuses")(t.cheque.status)))])])])])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"detail-table",attrs:{dense:""}},[a("tbody",[a("tr",[t.isPaidCheque?a("th",[t._v("تاریخ پرداخت:")]):a("th",[t._v("تاریخ دریافت:")]),a("td",[t._v(t._s(t.cheque.date))])]),a("tr",[a("th",[t._v("کد و نام مشتری:")]),a("td",[t._v(t._s(t.cheque.account&&t.cheque.account.title))])]),t.cheque.floatAccount?a("tr",[a("th",[t._v("حساب شناور:")]),a("td",[t._v(t._s(t.cheque.floatAccount.name))])]):t._e(),t.isPaidCheque?a("tr",[a("th",[t._v("حساب :")]),a("td",[t._v(t._s(t.cheque.chequebook.account.title))])]):t._e(),t.isPaidCheque?t._e():a("tr",[a("th",[t._v("نوع :")]),a("td")]),t.isPaidCheque?a("tr",[a("th",[t._v("شرح:")]),a("td",[t._v(t._s(t.cheque.chequebook.explanation))])]):t._e()])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),t.canSubmitCheque&&t.isPaidCheque&&"blank"==t.cheque.status?a("v-btn",{staticClass:"red white--text",on:{click:function(e){t.showRevokeDialog=!0}}},[t._v("باطل کردن ")]):t._e(),t.canSubmitCheque?a("v-btn",{staticClass:"green white--text w-100px",attrs:{to:{name:"ChequeForm",params:{type:"c",isPaid:t.cheque.is_paid,id:t.id}}}},[t._v("ثبت ")]):t.canEditCheque?a("v-btn",{staticClass:"amber w-100px",attrs:{to:{name:"ChequeForm",params:{type:t.cheque.type,isPaid:t.cheque.is_paid,id:t.id}}}},[t._v("ویرایش ")]):t._e()],1)],1):t._e(),t.cheque?a("v-card",{staticClass:"mt-3"},[a("v-card-title",[t._v(" تغییر وضعیت ها "),a("v-spacer")],1),a("v-card-text",[a("v-simple-table",{staticClass:"status-changes-table"},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("تغییر از وضعیت")]),a("th",[t._v("به وضعیت")]),a("th",[t._v("تاریخ")]),a("th",[t._v("حساب بدهکار")]),a("th",[t._v("حساب بستانکار")]),a("th",[t._v("توضیحات")]),a("th"),a("th")])]),a("tbody",t._l(t.statusChanges,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",[t._v(t._s(t._f("chequeStatuses")(e.fromStatus)))]),a("td",[t._v(t._s(t._f("chequeStatuses")(e.toStatus)))]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(t._f("'-'")(e.bedAccount.name)))]),a("td",[t._v(t._s(t._f("'-'")(e.besAccount.name)))]),a("td",[t._v(t._s(e.explanation))]),a("td",[e.sanad?a("open-sanad-btn",{attrs:{sanad:e.sanad}}):t._e()],1),a("td",[i!=t.statusChanges.length-1||!t.isPaidCheque&&0==i||t.financialYear.is_closed?t._e():a("v-btn",{staticClass:"red--text",attrs:{icon:""},on:{click:function(a){return a.preventDefault(),t.deleteStatusChange(e)}}},[a("v-icon",[t._v("delete")])],1)],1)])})),0)])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"blue white--text mr-1",attrs:{disabled:!t.canChangeStatus},on:{click:t.showChangeChequeStatusDialog}},[t._v("تغییر وضعیت ")])],1),a("change-cheque-status",{ref:"changeChequeStatusComponent",attrs:{cheque:t.cheque},on:{statusChange:function(e){return t.getCheque(t.id)}}})],1):t._e(),a("v-dialog",{attrs:{"max-width":"300px",transition:"dialog-transition"},model:{value:t.showRevokeDialog,callback:function(e){t.showRevokeDialog=e},expression:"showRevokeDialog"}},[a("v-card",[a("v-card-title",[t._v("باطل کردن")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("date",{attrs:{label:" * تاریخ",default:!0},model:{value:t.revokeData.date,callback:function(e){t.$set(t.revokeData,"date",e)},expression:"revokeData.date"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"* توضیحات"},model:{value:t.revokeData.explanation,callback:function(e){t.$set(t.revokeData,"explanation",e)},expression:"revokeData.explanation"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"red white--text w-100px",on:{click:t.revokeCheque}},[t._v("ابطال ")])],1)],1)],1)],1)},zn=[],Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" تغییر وضعیت چک "+t._s(t.chequeLabel)+" ")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:" * تغییر وضعیت به","item-text":"label","item-value":"name",items:t.statuses},on:{change:t.clearForm},model:{value:t.newStatus,callback:function(e){t.newStatus=e},expression:"newStatus"}})],1),t.newStatus?[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"شماره سند"},model:{value:t.statusChange.sanad_code,callback:function(e){t.$set(t.statusChange,"sanad_code",e)},expression:"statusChange.sanad_code"}})],1),t.newStatus.hasAccount?[a("v-col",{attrs:{cols:"12"}},[a("account-select",{attrs:{required:"",label:" * "+t.accountLabel(t.newStatus),disabled:t.cheque.is_paid?t.newStatus.paidAccountDisable:t.newStatus.receivedAccountDisable,"track-by":"id",itemsType:t.newStatusAccountsType,floatAccount:t.statusChange.floatAccount,costCenter:t.statusChange.costCenter},on:{"update:floatAccount":function(e){return t.statusChange.floatAccount=e},"update:costCenter":function(e){return t.statusChange.costCenter=e}},model:{value:t.statusChange.account,callback:function(e){t.$set(t.statusChange,"account",e)},expression:"statusChange.account"}})],1)]:t._e(),a("v-col",{attrs:{cols:"12"}},[a("date",{attrs:{placeholder:" * تاریخ",default:!0},model:{value:t.statusChange.date,callback:function(e){t.$set(t.statusChange,"date",e)},expression:"statusChange.date"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات"},model:{value:t.statusChange.explanation,callback:function(e){t.$set(t.statusChange,"explanation",e)},expression:"statusChange.explanation"}})],1)]:t._e()],2)],1),a("v-card-actions",[a("v-btn",{staticClass:"green white--text w-100px",on:{click:function(e){return t.submitCheque()}}},[t._v("ثبت")])],1)],1)],1)},Gn=[],Kn=a("b0f6"),Hn={name:"ChangeChequeStatus",props:{cheque:{required:!0}},components:{money:ls["a"],date:cs["a"]},mixins:[La["a"],Kn["a"]],data:function(){return{dialog:!1,statusChange:{},newStatus:null}},computed:{newStatusAccountsType:function(){var t=this.newStatus.name;return"passed"==t?"banks":"level3"},statuses:function(){var t=[{name:"passed",label:"پاس شده",hasAccount:!0,paidAccountDisable:!0,receivedAccountLabel:"حساب وصول چک",paidAccountLabel:"حساب پرداخت کننده چک"},{name:"transferred",label:"انتقالی",hasAccount:!0,accountLabel:"حساب گیرنده چک"},{name:"bounced",label:"برگشتی",hasAccount:!1},{name:"cashed",label:"نقدی",hasAccount:!0,receivedAccountLabel:"حساب دریافت کننده وجه چک",paidAccountLabel:"حساب پرداخت کننده چک",defaultAccount:null},{name:"revoked",label:"باطل شده",hasAccount:!1},{name:"inFlow",label:"در جریان",hasAccount:!0,accountLabel:"حساب در جریان",defaultAccount:null},{name:"revertInFlow",label:"ابطال وضعیت  در جریان وصول",hasAccount:!1},{name:"extended",label:"تمدید شده",hasAccount:!1},{name:"guarantee",label:"ضمانتی",hasAccount:!1}],e=this.chequeStatusTree[1==this.cheque.is_paid?"p":"r"][this.cheque.status],a=[];return e&&(a=t.filter((function(t){return e.includes(t.name)})),"bg"!=this.cheque.type&&(a=a.filter((function(t){return"extended"!=t.name})))),a},chequebook:function(){return this.cheque.chequebook},chequeLabel:function(){return this.cheque.is_paid?"پرداختنی":"دریافتنی"}},created:function(){this.getAccounts(),this.getDefaultAccounts()},watch:{newStatus:function(){if(this.newStatus){var t=this.newStatus.name,e=null;"inFlow"==t&&(e=this.defaultAccounts.filter((function(t){return"inFlowDocuments"==t.codename}))[0]),"cashed"==t&&(e=this.defaultAccounts.filter((function(t){return"cash"==t.codename}))[0]),"passed"==t&&this.chequebook&&(e={account:this.chequebook.account}),e&&(this.statusChange.account=e.account)}}},methods:{clearForm:function(){this.statusChange={}},submitCheque:function(){var t=this;if("revertInFlow"!=this.newStatus.name){var e=this.extractIds(this.copy(this.statusChange));e.to_status=this.newStatus.name,e.cheque=this.cheque.id,this.request({url:this.endpoint("cheques/cheques/changeStatus/"+this.cheque.id),data:e,method:"post",success:function(e){t.dialog=!1,t.$emit("statusChange"),t.successNotify(),t.clearStatusChange()}})}else this.revertInFlow()},revertInFlow:function(){var t=this;this.request({url:this.endpoint("cheques/cheques/revertInFlowStatus/"+this.cheque.id),method:"post",data:{date:this.statusChange.date,explanation:this.statusChange.explanation},success:function(e){t.dialog=!1,t.successNotify()}})},accountLabel:function(t){return t.accountLabel?t.accountLabel:this.cheque.is_paid?t.paidAccountLabel:t.receivedAccountLabel},clearStatusChange:function(){this.statusChange={}}}},Qn=Hn,Xn=Object(v["a"])(Qn,Wn,Gn,!1,null,"cff40810",null),Jn=Xn.exports;f()(Xn,{VAutocomplete:Xe["a"],VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Zn=a("12b9"),to={components:{money:ls["a"],date:cs["a"],changeChequeStatus:Jn,OpenSanadBtn:Zn["a"]},mixins:[Kn["a"]],props:{id:{required:!0}},data:function(){return{cheque:null,showRevokeDialog:!1,revokeData:{}}},computed:{title:function(){return this.cheque?"جزئیات "+this.getTypeName(this.cheque.type):""},isPaidCheque:function(){return this.cheque&&this.cheque.is_paid},statusChanges:function(){return this.cheque?this.cheque.statusChanges:[]},canSubmitCheque:function(){return 0==this.statusChanges.length&&!this.financialYear.is_closed},canEditCheque:function(){return this.statusChanges.length<=1&&!this.financialYear.is_closed&&"revoked"!=this.cheque.status},canChangeStatus:function(){if(this.financialYear.is_closed)return!1;var t=this.cheque.status;return!["passed","cashed","revoked","transferred","blank"].includes(t)}},created:function(){this.getChequeMeta(),this.getCheque(this.id)},methods:{revokeCheque:function(){var t=this;this.request({url:this.endpoint("cheques/changeStatus/revokeBlankPaidCheque/"),method:"post",data:Object(o["a"])(Object(o["a"])({},this.revokeData),{},{cheque:this.id}),success:function(e){t.getCheque(t.id),t.successNotify(),t.showRevokeDialog=!1}})},showChangeChequeStatusDialog:function(){this.$refs.changeChequeStatusComponent.dialog=!0},payer:function(t){var e=t.account.title;return t.floatAccount&&(e+=t.floatAccount.name),e},deleteStatusChange:function(t){var e=this;this.request({url:this.endpoint("cheques/statusChange/".concat(t.id,"/")),method:"delete",success:function(t){e.getCheque(e.id),e.successNotify()}})},setItem:function(t){this.$router.push({name:"ChequeDetail",params:{id:t.id}}),this.cheque=t}},filters:{chequeStatuses:function(t){switch(t){case"blank":return"سفید";case"notPassed":return"پاس نشده";case"inFlow":return"در جریان";case"passed":return"پاس شده";case"bounced":return"برگشتی";case"cashed":return"نقدی";case"revoked":return"باطل شده";case"transferred":return"انتقالی";case"guarantee":return"ضمانتی";case"extended":return"تمدید شده"}}}},eo=to,ao=(a("30b0"),Object(v["a"])(eo,Yn,zn,!1,null,"77e09ab4",null)),io=ao.exports;f()(ao,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VIcon:b["a"],VRow:ct["a"],VSimpleTable:Na["a"],VSpacer:dt["a"],VTextarea:Ve["a"]});var so=a("8a10"),no=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"تایید کنندگان خروجی",items:t.items,cols:t.cols,deletable:t.item.id,"is-editing":t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[t.hasParent?[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:" * فرم",items:t.forms},model:{value:t.item.form,callback:function(e){t.$set(t.item,"form",e)},expression:"item.form"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"نام"},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:" * سمت"},model:{value:t.item.post,callback:function(e){t.$set(t.item,"post",e)},expression:"item.post"}})],1)]:t._e()],2)]},proxy:!0}])})},oo=[],ro={mixins:[Lt["b"]],data:function(){var t=[{text:"سند",value:"s"},{text:"رسید",value:"frc"},{text:"حواله",value:"frm"},{text:"پیش فاکتور خرید",value:"pfs"},{text:"پیش فاکتور فروش",value:"frb"},{text:"فاکتور خرید",value:"fb"},{text:"فاکتور فروش",value:"fs"},{text:"فاکتور برگشت از خرید",value:"fbfb"},{text:"فاکتور برگشت از فروش",value:"fbfs"},{text:"دریافت",value:"tr"},{text:"پرداخت",value:"tp"},{text:"انتقال",value:"t"},{text:"حواله کالای مصرفی",value:"cwr"},{text:"رسید تعدیل انبار",value:"ia"},{text:"حواله تعدیل انبار",value:"oa"}];return{item:{},items:[],baseUrl:"reports/exportVerifiers",appendSlash:!0,forms:t,cols:[{text:"فرم",value:"form",items:t},{text:"نام",value:"name"},{text:"سمت",value:"post"}]}},computed:{hasParent:function(){return 0!=this.level}},methods:{getData:function(){this.getVerifiers(!0)},getVerifiers:function(){var t=this;this.request({url:this.endpoint("reports/exportVerifiers/"),method:"get",success:function(e){t.items=e}})},setItem:function(t){this.item=t},getSerialized:function(){var t=this.extractIds(this.item);return t.type=this.factorType,t}}},lo=ro,co=Object(v["a"])(lo,no,oo,!1,null,null,null),uo=co.exports;f()(co,{VAutocomplete:Xe["a"],VCol:it["a"],VRow:ct["a"],VTextField:pt["a"]});var mo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:" عملیات های بستن ",items:t.items,cols:t.headers,showActions:!1,canSubmit:!1,canDelete:!1,showListBtn:!1,"show-navigation-btns":!1,"show-clear-btn":!1},scopedSlots:t._u([{key:"header-btns",fn:function(){return[a("v-btn",{staticClass:"blue white--text",attrs:{disabled:!t.financialYear.is_closed},on:{click:function(e){return t.openConfirmDialog("cancel-closing")}}},[t._v("لغو بستن سال مالی جاری")])]},proxy:!0},{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:" * سال مالی جدید",items:t.financialYears,"item-text":"name","item-value":"id",multiple:!1},model:{value:t.targetFinancialYear,callback:function(e){t.targetFinancialYear=e},expression:"targetFinancialYear"}})],1),a("v-col",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"blue white--text w-100px",attrs:{disabled:t.financialYear.is_closed||!t.targetFinancialYear},on:{click:function(e){return t.openConfirmDialog("close-and-move")}}},[t._v("بستن و انتقال")]),a("v-btn",{staticClass:"blue white--text w-100px mr-1",attrs:{disabled:t.financialYear.is_closed||!t.targetFinancialYear},on:{click:function(e){return t.openConfirmDialog("move")}}},[t._v("انتقال")])],1)],1),t.operation?a("v-dialog",{attrs:{scrollable:"","max-width":"420px",transition:"dialog-transition"},model:{value:t.confirmDialog,callback:function(e){t.confirmDialog=e},expression:"confirmDialog"}},[a("v-card",{staticClass:"red white--text"},[a("v-card-title",{staticClass:"text--center"},[t._v("آیا از انجام این عملیات اطمینان دارید؟")]),a("v-card-text",{staticClass:"white--text"},["cancel-closing"==t.operation?a("div",[t._v("بسته شدن سال مالی لغو می شود و سند های بستن خالی می گردند")]):t._e(),"close-and-move"==t.operation?a("div",[a("span",{staticClass:"white black--text mx-1 px-1 rounded"},[t._v("سال مالی "+t._s(t.financialYear.name))]),t._v(" بسته می شود و به "),a("span",{staticClass:"white black--text mx-1 px-1 rounded"},[t._v("سال مالی "+t._s(t.targetFinancialYear.name))]),t._v(" انتقال پیدا میکند ")]):t._e(),"move"==t.operation?a("div",[a("span",{staticClass:"white black--text mx-1 px-1 rounded"},[t._v("سال مالی "+t._s(t.financialYear.name))]),t._v(" به "),a("span",{staticClass:"white black--text mx-1 px-1 rounded"},[t._v("سال مالی "+t._s(t.targetFinancialYear.name))]),t._v(" انتقال می کند ")]):t._e(),a("v-text-field",{staticClass:"mt-3 text-field-ltr",attrs:{type:"password","hide-details":"",label:"کلمه عبور"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-card-actions",{staticClass:"white d-flex justify-center"},[a("v-btn",{attrs:{color:"red white--text"},on:{click:t.confirm}},[t._v("تایید و انجام عملیات")])],1)],1)],1):t._e()]},proxy:!0}])})},po=[],vo={mixins:[Lt["b"],Ie],data:function(){return{targetFinancialYear:null,password:null,financialYears:[],confirmDialog:!1,operation:null,headers:[{text:"عملیات",value:"operation"},{text:"کاربر",value:"operator_name"},{text:"تاریخ",value:"created_at",type:"date"},{text:"سال مالی مقصد",value:"to_financial_year_name"}]}},computed:{items:function(){return this.financialYear.operations.map((function(t){return t.created_at=t.created_at.substr(0,t.created_at.indexOf(".")),t}))}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.getFinancialYears((function(e){t.financialYears=e.filter((function(e){return!e.is_closed&&e.id!=t.financialYear.id}))}))},clearForm:function(){this.operation=null,this.targetFinancialYear=null,this.password=null,this.confirmDialog=!1},openConfirmDialog:function(t){this.operation=t,this.confirmDialog=!0},confirm:function(){"close"==this.operation?this.close():"move"==this.operation?this.move():"close-and-move"==this.operation?this.closeAndMove():"cancel-closing"==this.operation&&this.cancelClosing()},close:function(){},closeAndMove:function(){var t=this;this.request({url:this.endpoint("companies/closeFinancialYear"),method:"post",data:{target_financial_year:this.targetFinancialYear.id,password:this.password},success:function(e){t.clearForm(),t.successNotify(),t.$store.commit("setUser",e),t.getData()}})},move:function(){var t=this;this.request({url:this.endpoint("companies/moveFinancialYear"),method:"post",data:{target_financial_year:this.targetFinancialYear.id,password:this.password},success:function(e){t.clearForm(),t.successNotify(),t.$store.commit("setUser",e)}})},cancelClosing:function(){var t=this;this.request({url:this.endpoint("companies/cancelFinancialYearClosing"),method:"post",data:{password:this.password},success:function(e){t.clearForm(),t.successNotify(),t.$store.commit("setUser",e),t.getData()}})}}},ho=vo,fo=Object(v["a"])(ho,mo,po,!1,null,null,null),_o=fo.exports;f()(fo,{VAutocomplete:Xe["a"],VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VRow:ct["a"],VTextField:pt["a"]});var bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"تسویه تنخواه",formName:"تسویه تنخواه",exportBaseUrl:"reports/lists/imprestSettlements",exportParams:{id:t.imprest.id},showList:!1,isEditing:t.isEditing,canDelete:!1,canEdit:!t.item.is_auto_created,showClearBtn:!1,showListBtn:!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.sanad?a("open-sanad-btn",{attrs:{sanad:t.item.sanad}}):t._e(),void 0!=t.imprest.id?a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"TransactionForm",params:{id:t.imprest.id,type:"imprest"}}}},[t._v("مشاهده پرداخت")]):t._e()]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره",value:t.item.code,disabled:""}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{ref:"date",attrs:{label:" * تاریخ ",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("account-select",{attrs:{label:"نام تنخواه گردان","items-type":"imprests",floatAccount:t.imprest.floatAccount,costCenter:t.imprest.costCenter,disabled:!0},model:{value:t.imprest.account,callback:function(e){t.$set(t.imprest,"account",e)},expression:"imprest.account"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره پرداخت تنخواه",value:t.imprest&&t.imprest.code,disabled:""}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"مبلغ تنخواه",disabled:!0,value:t.imprestSum}})],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1)],1)],1),a("v-col",{attrs:{cols:"12"}},[a("input-table",{staticClass:"form-items",scopedSlots:t._u([{key:"thead",fn:function(){return[a("tr",[a("th",[t._v("#")]),a("th",[t._v("* تاریخ")]),a("th",[t._v("شرح تنخواه")]),a("th",[t._v("* نام حساب")]),a("th",[t._v("مبلغ")]),a("th"),a("th")])]},proxy:!0},{key:"tbody",fn:function(){return[t._l(t.rows,(function(e,i){return a("tr",{key:i,class:{"d-print-none":i==t.rows.length-1}},[a("td",{staticClass:"tr-counter"},[t._v(t._s(i+1))]),a("td",{staticClass:"tr-date"},[a("date",{attrs:{disabled:!t.isEditing},model:{value:t.rows[i].date,callback:function(e){t.$set(t.rows[i],"date",e)},expression:"rows[i].date"}})],1),a("td",{staticClass:"tr-textarea"},[a("row-textarea",{attrs:{disabled:!t.isEditing,i:i},on:{updateRowsExplanation:t.updateRowsExplanation},model:{value:t.rows[i].explanation,callback:function(e){t.$set(t.rows[i],"explanation",e)},expression:"rows[i].explanation"}})],1),a("td",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.accountParentsName(e.account).join(" > "),expression:"accountParentsName(row.account).join(' > ')"}],staticClass:"tr-account"},[a("account-select",{attrs:{horizontal:!0,"items-type":"level3",disabled:!t.isEditing,floatAccount:t.rows[i].floatAccount,costCenter:t.rows[i].costCenter},on:{"update:floatAccount":function(e){return t.rows[i].floatAccount=e},"update:costCenter":function(e){return t.rows[i].costCenter=e}},model:{value:t.rows[i].account,callback:function(e){t.$set(t.rows[i],"account",e)},expression:"rows[i].account"}})],1),a("td",{staticStyle:{width:"120px"}},[a("money",{attrs:{disabled:!t.isEditing},model:{value:t.rows[i].value,callback:function(e){t.$set(t.rows[i],"value",e)},expression:"rows[i].value"}})],1),a("td",{staticStyle:{"max-width":"80px"}},[a("m-file-input",{attrs:{disabled:!t.isEditing,"delete-attachment":t.rows[i].delete_attachment},on:{"update:deleteAttachment":function(e){return t.$set(t.rows[i],"delete_attachment",e)},"update:delete-attachment":function(e){return t.$set(t.rows[i],"delete_attachment",e)}},model:{value:t.rows[i].attachment,callback:function(e){t.$set(t.rows[i],"attachment",e)},expression:"rows[i].attachment"}})],1),a("td",{staticClass:"d-print-none"},[i!=t.rows.length-1?a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(i)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)])})),a("tr",{staticClass:"grey lighten-3 text-white"},[a("td",{attrs:{colspan:"3"}}),a("td",{staticClass:"text-left"},[t._v("مجموع:")]),a("td",{},[t._v(t._s(t._f("toMoney")(t.rowsSum("value"))))]),a("td"),a("td",{staticClass:"d-print-none"},[a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(-1)}}},[a("v-icon",[t._v("delete_sweep")])],1)],1)]),a("tr",{staticClass:"grey lighten-3 text-white"},[a("td",{attrs:{colspan:"3"}}),a("td",{staticClass:"text-left"},[t._v("اختلاف:")]),a("td",[t._v(t._s(t._f("toMoney")(t.imprestSum-t.rowsSum("value"))))]),a("td",{attrs:{colspan:"2"}})])]},proxy:!0}]),model:{value:t.rows,callback:function(e){t.rows=e},expression:"rows"}})],1)],1)]],2)},xo=[],go={name:"Form",components:{money:ls["a"],date:cs["a"]},mixins:[rs["a"],La["a"],Lt["b"]],props:["id"],data:function(){return{baseUrl:"transactions",appendSlash:!0,rowKey:"account",hasList:!1,hasIdProp:!0,imprests:[],imprest:{}}},computed:{imprestSum:function(){return this.imprest&&this.imprest.sanad?this.imprest.sanad.bed:0},createUrl:function(){return"imprests/imprestSettlement/"},retrieveUrl:function(){return"transactions/".concat(this.id,"/")},updateUrl:function(){return"imprests/imprestSettlement/".concat(this.item.id,"/")}},methods:{getItemTemplate:function(){return{items:[]}},getRowTemplate:function(){return{account:null}},clearForm:function(){this.item={},this.imprests=[],this.imprest={},this.rows=[this.getRowTemplate()],this.id&&this.$router.push({name:"ImprestSettlement"})},setItem:function(t){var e=this;this.changeRouteTo(t.id),this.imprest=t;var a=t.imprestSettlement;a||(a=this.getItemTemplate()),this.item=a,this.itemsToDelete=[],this.rows=[],a.items.sort((function(t,e){return t.order-e.order})).forEach((function(t){var a=Object(o["a"])({},t);e.rows.push(a)})),this.rows.push(this.getRowTemplate())},deleteRow:function(t){var e=this;if(-1==t)this.rows.forEach((function(t){t.id&&e.itemsToDelete.push(t.id)})),this.rows.splice(0,this.rows.length-1);else{var a=this.rows[t];a.id&&this.itemsToDelete.push(a.id),this.rows.splice(t,1)}},getSerialized:function(){var t=this,e={item:this.extractIds(this.item),items:{ids_to_delete:this.itemsToDelete,items:[]}};return e.item.transaction=this.imprest.id,delete e.item.items,this.rows.forEach((function(a,i){if(i!=t.rows.length-1){var s=t.copy(a);s=t.extractIds(s),t.removeAttachmentUrls(s),e.items.items.push(s)}})),this.jsonToFormData(e)}}},yo=go,ko=Object(v["a"])(yo,bo,xo,!1,null,"26bc36cd",null),wo=ko.exports;f()(ko,{VBtn:_["a"],VCol:it["a"],VIcon:b["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Co=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:t.title,items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:!1,showClearBtn:!1,"is-editing":t.isEditing,showListBtn:!1,showSubmitAndClearBtn:!1,"show-navigation-btns":!1,showActions:void 0!=t.item.id},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,submit:t.submit},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"عنوان",disabled:""},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"متن",disabled:!t.isEditing},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})],1)],1)]},proxy:!0}])})},Eo=[],$o={methods:{getDefaultTexts:function(t,e){this.fillStore({url:"home/defaultTexts",storeKey:"defaultTexts",reload:t,callback:e})}},computed:Object(o["a"])({},Object(G["b"])(["defaultTexts"]))},To={mixins:[Lt["b"],$o],props:{usage:{required:!0}},data:function(){return{item:{},baseUrl:"home/defaultTexts",cols:[{text:"عنوان",value:"name"},{text:"متن",value:"value"}]}},computed:{title:function(){return"متون پیشفرض"},items:function(){var t=this;return this.defaultTexts.filter((function(e){return e.usage==t.usage}))}},methods:{getData:function(){this.getDefaultTexts(!0)}}},So=To,Vo=Object(v["a"])(So,Co,Eo,!1,null,null,null),Fo=Vo.exports;f()(Vo,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Po=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:t.title,items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:!1,canClear:!1,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1,showActions:void 0!=t.item.id},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,submit:t.submit},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"نام",disabled:""},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"مقدار",disabled:!t.isEditing},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})],1)],1)]},proxy:!0}])})},Do=[],Ao={mixins:[Lt["b"],wt],data:function(){return{item:{},baseUrl:"home/options",cols:[{text:"نام",value:"name",type:"text",filters:["name"]},{text:"مقدار",value:"value",type:"text",filters:["value"]}]}},computed:{title:function(){return"تنظیمات"},items:function(){return this.systemOptions}},methods:{getData:function(){this.getOptions(!0)}}},Io=Ao,jo=Object(v["a"])(Io,Po,Do,!1,null,null,null),Lo=jo.exports;f()(jo,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"]});var Ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"ماشین ها",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("label",[t._v("* شماره ماشین")]),a("v-row",{staticClass:"flex-row-reverse",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"v-input v-input--hide-details v-input--dense theme--light v-text-field v-text-field--is-booted v-text-field--enclosed v-text-field--outlined"},[a("div",{staticClass:"v-input__control"},[a("div",{staticClass:"v-input__slot white"},[a("fieldset",{attrs:{"aria-hidden":"true"}},[a("legend",{staticStyle:{width:"0px"}},[a("span",[t._v("​")])])]),a("div",{staticClass:"v-text-field__slot ltr"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.item.car_number[0],expression:"item.car_number[0]",modifiers:{lazy:!0}}],attrs:{id:"car-number-1",type:"text",disabled:t.item.id},domProps:{value:t.item.car_number[0]},on:{change:function(e){return t.$set(t.item.car_number,0,e.target.value)}}})])])])])]),a("v-col",{attrs:{cols:"2"}},[a("div",{staticClass:"v-input v-input--hide-details v-input--dense theme--light v-text-field v-text-field--is-booted v-text-field--enclosed v-text-field--outlined"},[a("div",{staticClass:"v-input__control"},[a("div",{staticClass:"v-input__slot white"},[a("fieldset",{attrs:{"aria-hidden":"true"}},[a("legend",{staticStyle:{width:"0px"}},[a("span",[t._v("​")])])]),a("div",{staticClass:"v-text-field__slot ltr"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.item.car_number[1],expression:"item.car_number[1]",modifiers:{lazy:!0}}],attrs:{id:"car-number-2",type:"text",disabled:t.item.id},domProps:{value:t.item.car_number[1]},on:{change:function(e){return t.$set(t.item.car_number,1,e.target.value)}}})])])])])]),a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"v-input v-input--hide-details v-input--dense theme--light v-text-field v-text-field--is-booted v-text-field--enclosed v-text-field--outlined"},[a("div",{staticClass:"v-input__control"},[a("div",{staticClass:"v-input__slot white"},[a("fieldset",{attrs:{"aria-hidden":"true"}},[a("legend",{staticStyle:{width:"0px"}},[a("span",[t._v("​")])])]),a("div",{staticClass:"v-text-field__slot ltr"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.item.car_number[2],expression:"item.car_number[2]",modifiers:{lazy:!0}}],attrs:{id:"car-number-3",type:"text",disabled:t.item.id},domProps:{value:t.item.car_number[2]},on:{change:function(e){return t.$set(t.item.car_number,2,e.target.value)}}})])])])])]),a("v-col",{attrs:{cols:"4"}},[a("div",{staticClass:"v-input v-input--hide-details v-input--dense theme--light v-text-field v-text-field--is-booted v-text-field--enclosed v-text-field--outlined"},[a("div",{staticClass:"v-input__control"},[a("div",{staticClass:"v-input__slot white"},[a("fieldset",{attrs:{"aria-hidden":"true"}},[a("legend",{staticStyle:{width:"0px"}},[a("span",[t._v("​")])])]),a("div",{staticClass:"v-text-field__slot ltr"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.item.car_number[3],expression:"item.car_number[3]",modifiers:{lazy:!0}}],attrs:{id:"car-number-4",type:"text",disabled:t.item.id},domProps:{value:t.item.car_number[3]},on:{change:function(e){return t.$set(t.item.car_number,3,e.target.value)}}}),a("div",{staticClass:"v-text-field__suffix"},[t._v("ایران")])])])])])])],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{staticClass:"mt-5",attrs:{label:"* نوع پیمان",items:t.contractTypes,"item-text":"text","item-value":"id",disabled:t.item.id,"return-object":!0},model:{value:t.item.contract_type,callback:function(e){t.$set(t.item,"contract_type",e)},expression:"item.contract_type"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شماره کارت هوشمند",disabled:!t.isEditing},model:{value:t.item.smart_card_number,callback:function(e){t.$set(t.item,"smart_card_number",e)},expression:"item.smart_card_number"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:" * مالک",items:t.owners,disabled:t.item.id,"return-object":!0},model:{value:t.item.owner,callback:function(e){t.$set(t.item,"owner",e)},expression:"item.owner"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"نام مالک",disabled:!t.isEditing},model:{value:t.item.owner_name,callback:function(e){t.$set(t.item,"owner_name",e)},expression:"item.owner_name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"کد ملی مالک",disabled:!t.isEditing},model:{value:t.item.owner_melli_code,callback:function(e){t.$set(t.item,"owner_melli_code",e)},expression:"item.owner_melli_code"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"VIN",disabled:!t.isEditing},model:{value:t.item.vin,callback:function(e){t.$set(t.item,"vin",e)},expression:"item.vin"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"نوع",disabled:!t.isEditing},model:{value:t.item.car_type,callback:function(e){t.$set(t.item,"car_type",e)},expression:"item.car_type"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"سیستم",disabled:!t.isEditing},model:{value:t.item.system,callback:function(e){t.$set(t.item,"system",e)},expression:"item.system"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"تیپ",disabled:!t.isEditing},model:{value:t.item.model,callback:function(e){t.$set(t.item,"model",e)},expression:"item.model"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"ظرفیت",disabled:!t.isEditing},model:{value:t.item.capacity,callback:function(e){t.$set(t.item,"capacity",e)},expression:"item.capacity"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"سوخت",disabled:!t.isEditing},model:{value:t.item.fuel,callback:function(e){t.$set(t.item,"fuel",e)},expression:"item.fuel"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"رنگ",disabled:!t.isEditing},model:{value:t.item.color,callback:function(e){t.$set(t.item,"color",e)},expression:"item.color"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"موتور",disabled:!t.isEditing},model:{value:t.item.engine,callback:function(e){t.$set(t.item,"engine",e)},expression:"item.engine"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شاسی",disabled:!t.isEditing},model:{value:t.item.chassis,callback:function(e){t.$set(t.item,"chassis",e)},expression:"item.chassis"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"اتاق",disabled:!t.isEditing},model:{value:t.item.room,callback:function(e){t.$set(t.item,"room",e)},expression:"item.room"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شماره مسلسل",disabled:!t.isEditing},model:{value:t.item.serial_number,callback:function(e){t.$set(t.item,"serial_number",e)},expression:"item.serial_number"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},Oo=[],qo=(a("466d"),{data:function(){return{owners:[{text:"حاج رحمان",value:"rn"},{text:"حاج رحیم",value:"rm"},{text:"حاج ابراهیم",value:"e"},{text:"شراکتی",value:"p"},{text:"دیگر",value:"o"}],months:[{text:"فروردین",value:"1"},{text:"اردیبهشت",value:"2"},{text:"خرداد",value:"3"},{text:"تیر",value:"4"},{text:"مرداد",value:"5"},{text:"شهریور",value:"6"},{text:"مهر",value:"7"},{text:"آبان",value:"8"},{text:"آذر",value:"9"},{text:"دی",value:"10"},{text:"بهمن",value:"11"},{text:"اسفند",value:"12"}],tipPayers:[{title:"شرکت",id:"cmp"},{title:"پیمانکار",id:"cnt"}],ladingBillDifferenceReceivers:[{title:"راننده",id:"drvr"},{title:"شرکت",id:"cmp"}],remittancePaymentMethods:[{text:"کمیسیون و کرایه به شرکت",value:"tc"},{text:"کمیسیون به شرکت و کرایه به راننده",value:"tcd"},{text:"کمیسیون و کرایه با شرکت",value:"cp"}],receiveTypes:[{text:"نسیه",value:"cr"},{text:"نقدی",value:"cs"},{text:"کارت خوان",value:"p"}],d:{}}},created:function(){this.d.getRemittances=qs.a.debounce(this.getRemittances,300)},methods:{getDrivers:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||!this.$store.state.dashtbashiDrivers.length)return this.request({url:this.endpoint("dashtbashi/drivers/"),method:"get",success:function(t){e.$store.commit("setDashtbashiDrivers",t),a&&a(t)}})},getCars:function(t){var e=this;if(t||!this.$store.state.dashtbashiCars.length)return this.request({url:this.endpoint("dashtbashi/cars/"),method:"get",success:function(t){e.$store.commit("setDashtbashiCars",t)}})},getDrivings:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||!this.$store.state.drivings.length)return this.request({url:this.endpoint("dashtbashi/drivings/"),method:"get",success:function(t){e.$store.commit("setDrivings",t),a&&a(t)}});a&&a(this.$store.state.drivings)},getAssociations:function(t){var e=this;if(t||!this.$store.state.associations.length)return this.request({url:this.endpoint("dashtbashi/associations/"),method:"get",success:function(t){e.$store.commit("setAssociations",t)}})},getRemittances:function(t){var e=this;t&&(t=String(t).match(/\d+/)[0]),this.request({url:this.endpoint("dashtbashi/remittances/?limit=50&offset=0"),method:"get",params:{code__icontains:t},success:function(t){e.remittances=t["results"].map((function(t){return t.code=String(t.code),t}))}})}}}),Bo={mixins:[Lt["b"],qo],data:function(){return{baseUrl:"dashtbashi/cars",permissionBasename:"car",appendSlash:!0,contractTypes:[{text:"حمل و نقل",id:"t"},{text:"شرکت نفت",id:"o"}],cols:[{text:"شماره",value:"car_number_str",type:"text",filters:["car_number_str"]}]}},computed:{items:function(){return this.$store.state.dashtbashiCars}},mounted:function(){IMask(document.getElementById("car-number-1"),{mask:"00"}),IMask(document.getElementById("car-number-2"),{mask:"a"}),IMask(document.getElementById("car-number-3"),{mask:"000"}),IMask(document.getElementById("car-number-4"),{mask:"00"})},methods:{getItemTemplate:function(){return{car_number:[null,null,null,null]}},getData:function(){this.getCars(!0)},getSerialized:function(){var t=this.extractIds(this.item);return t.owner=this.item.owner.value,t}}},Uo=Bo,Mo=Object(v["a"])(Uo,Ro,Oo,!1,null,null,null),No=Mo.exports;f()(Mo,{VAutocomplete:Xe["a"],VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"راننده ها",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:" * نام",disabled:t.item.id},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"شماره شناسنامه",disabled:!t.isEditing},model:{value:t.item.shenasname_number,callback:function(e){t.$set(t.item,"shenasname_number",e)},expression:"item.shenasname_number"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"کد ملی",disabled:!t.isEditing},model:{value:t.item.melli_code,callback:function(e){t.$set(t.item,"melli_code",e)},expression:"item.melli_code"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"تاریخ تولد",disabled:!t.isEditing},model:{value:t.item.date_of_birth,callback:function(e){t.$set(t.item,"date_of_birth",e)},expression:"item.date_of_birth"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"نام پدر",disabled:!t.isEditing},model:{value:t.item.father_name,callback:function(e){t.$set(t.item,"father_name",e)},expression:"item.father_name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"تلفن همراه",disabled:!t.isEditing},model:{value:t.item.phone,callback:function(e){t.$set(t.item,"phone",e)},expression:"item.phone"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"تلفن ثابت",disabled:!t.isEditing},model:{value:t.item.landline_phone,callback:function(e){t.$set(t.item,"landline_phone",e)},expression:"item.landline_phone"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شماره گواهینامه",disabled:!t.isEditing},model:{value:t.item.driving_licence_number,callback:function(e){t.$set(t.item,"driving_licence_number",e)},expression:"item.driving_licence_number"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شماره کارت سلامت",disabled:!t.isEditing},model:{value:t.item.health_card_number,callback:function(e){t.$set(t.item,"health_card_number",e)},expression:"item.health_card_number"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شماره کارت بانکی",disabled:!t.isEditing},model:{value:t.item.bank_card_number,callback:function(e){t.$set(t.item,"bank_card_number",e)},expression:"item.bank_card_number"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"شماره حساب بانکی",disabled:!t.isEditing},model:{value:t.item.bank_account_number,callback:function(e){t.$set(t.item,"bank_account_number",e)},expression:"item.bank_account_number"}})],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-text-field",{attrs:{label:"شماره شبا",disabled:!t.isEditing},model:{value:t.item.iban,callback:function(e){t.$set(t.item,"iban",e)},expression:"item.iban"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"نام بانک",disabled:!t.isEditing},model:{value:t.item.bank_name,callback:function(e){t.$set(t.item,"bank_name",e)},expression:"item.bank_name"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},zo=[],Wo={mixins:[Lt["b"],qo],data:function(){return{item:{},baseUrl:"dashtbashi/drivers",permissionBasename:"driver",appendSlash:!0,cols:[{text:"نام",value:"name",type:"text",filters:["name"]}]}},computed:{items:function(){return this.$store.state.dashtbashiDrivers}},methods:{getData:function(){this.getDrivers(!0)},getSerialized:function(){var t=this.extractIds(this.item);return t}}},Go=Wo,Ko=Object(v["a"])(Go,Yo,zo,!1,null,null,null),Ho=Ko.exports;f()(Ko,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Qo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"انتصاب راننده به ماشین",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"* ماشین",items:t.$store.state.dashtbashiCars,"item-text":"car_number_str","item-value":"id",disabled:t.item.id},model:{value:t.item.car,callback:function(e){t.$set(t.item,"car",e)},expression:"item.car"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"* راننده",disabled:t.item.id,items:t.$store.state.dashtbashiDrivers,"item-text":"name","item-value":"id"},model:{value:t.item.driver,callback:function(e){t.$set(t.item,"driver",e)},expression:"item.driver"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("money",{attrs:{label:"هزینه موبایل",disabled:!t.isEditing},model:{value:t.item.mobile_cost,callback:function(e){t.$set(t.item,"mobile_cost",e)},expression:"item.mobile_cost"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{attrs:{label:"حقوق ثابت",disabled:!t.isEditing},model:{value:t.item.fixed_salary,callback:function(e){t.$set(t.item,"fixed_salary",e)},expression:"item.fixed_salary"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{attrs:{label:"درصد پورسانت",disabled:!t.isEditing},model:{value:t.item.commission,callback:function(e){t.$set(t.item,"commission",e)},expression:"item.commission"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{attrs:{label:"پاداش",disabled:!t.isEditing},model:{value:t.item.reward,callback:function(e){t.$set(t.item,"reward",e)},expression:"item.reward"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("money",{attrs:{label:"عائله",disabled:!t.isEditing},model:{value:t.item.family,callback:function(e){t.$set(t.item,"family",e)},expression:"item.family"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},Xo=[],Jo={mixins:[Lt["b"],qo],data:function(){return{item:{},baseUrl:"dashtbashi/drivings",appendSlash:!0,cols:[{text:"عنوان",value:"title",type:"text",filters:["title"]}]}},computed:{items:function(){return this.$store.state.drivings}},methods:{getData:function(){this.getDrivers(),this.getCars(),this.getDrivings(!0)},getSerialized:function(){var t=this.extractIds(this.item);return t}}},Zo=Jo,tr=Object(v["a"])(Zo,Qo,Xo,!1,null,null,null),er=tr.exports;f()(tr,{VAutocomplete:Xe["a"],VCol:it["a"],VRow:ct["a"],VTextarea:Ve["a"]});var ar=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"انجمن",items:t.items,cols:t.cols,canSubmit:t.canSubmit,canDelete:t.canDelete,"is-editing":t.isEditing,showListBtn:!1,"show-navigation-btns":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},"click:row":t.setItem,clearForm:t.clearForm,submit:t.submit,delete:t.deleteItem},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"نام",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("money",{attrs:{label:"مبلغ",disabled:!t.isEditing},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",e)},expression:"item.price"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)]},proxy:!0}])})},ir=[],sr={mixins:[Lt["b"],qo],data:function(){return{item:{},baseUrl:"dashtbashi/associations",permissionBasename:"association",appendSlash:!0,cols:[{text:"نام",value:"name",type:"text",filters:["name"]},{text:"مبلغ",value:"price",type:"text",filters:["price"]}]}},computed:{items:function(){return this.$store.state.associations}},methods:{getData:function(){this.getAssociations(!0)}}},nr=sr,or=Object(v["a"])(nr,ar,ir,!1,null,null,null),rr=or.exports;f()(or,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"سری بارنامه",listRoute:{name:"LadingBillSeriesList"},showNavigationButtons:!0,showSubmitAndClearForm:!0,showList:!1,isEditing:t.isEditing,canDelete:t.canDelete,canSubmit:t.canSubmit},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},clearForm:function(e){return t.clearForm(!0)},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{disabled:"",label:"عطف"},model:{value:t.item.id,callback:function(e){t.$set(t.item,"id",e)},expression:"item.id"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ",disabled:!t.isEditing,default:!0},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"سریال",disabled:!t.isEditing},model:{value:t.item.serial,callback:function(e){t.$set(t.item,"serial",e)},expression:"item.serial"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"از شماره",disabled:!t.isEditing},model:{value:t.item.from_bill_number,callback:function(e){t.$set(t.item,"from_bill_number",e)},expression:"item.from_bill_number"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"تا شماره",disabled:!t.isEditing},model:{value:t.item.to_bill_number,callback:function(e){t.$set(t.item,"to_bill_number",e)},expression:"item.to_bill_number"}})],1)],1)]],2)},cr=[],ur={props:{id:{default:null}},mixins:[rs["a"],Lt["b"],qo],data:function(){return{item:{},baseUrl:"dashtbashi/ladingBillSeries",appendSlash:!0,hasList:!1,hasIdProp:!0}},methods:{getData:function(){this.id&&this.getItem(this.id)},getItemByPosition:function(t){var e=this;this.request({url:this.endpoint("dashtbashi/ladingBillSeries/byPosition"),method:"get",params:{id:this.id,position:t},success:function(t){e.setItem(t)},error:function(t){404==t.response.status&&e.notify("حواله وجود ندارد","warning")}})}}},dr=ur,mr=Object(v["a"])(dr,lr,cr,!1,null,"40ebfade",null),pr=mr.exports;f()(mr,{VCol:it["a"],VRow:ct["a"],VTextField:pt["a"]});var vr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("ابطال شماره بارنامه")]),a("v-card-text",[a("m-datatable",{attrs:{"api-url":"dashtbashi/report/ladingBillNumbers",headers:t.headers,filters:t.filters},on:{"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[i.is_revoked?a("v-btn",{attrs:{color:"red white--text"},on:{click:function(e){return t.revokeLadingBillNumber(i,null)}}},[t._v("لغو ابطال")]):a("v-btn",{attrs:{color:"blue white--text"},on:{click:function(e){return t.openRevokeDialog(i)}}},[t._v("ابطال")])]}}])})],1),t.item?a("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(" ابطال شماره بارنامه "+t._s(t.item.number)+" از سری بارنامه "+t._s(t.item.series?t.item.series.serial:"")+" ")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("date",{attrs:{default:!0},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"blue white--text"},on:{click:function(e){return t.revokeLadingBillNumber(t.item,t.date)}}},[t._v("ابطال")])],1)],1)],1):t._e()],1)},hr=[],fr={mixins:[qo,Lt["b"]],data:function(){return{filters:{not_used:!0},item:null,date:null,dialog:!1}},computed:{headers:function(){return[{text:"سری بارنامه",value:"series.serial"},{text:"شماره بارنامه",value:"number"},{text:"ابطال شده",value:"is_revoked",type:"boolean"},{text:"تاریخ ابطال",value:"revoked_at"},{text:"",value:"detail",filterable:!1,sortable:!1,hideInExport:!0}]}},methods:{openRevokeDialog:function(t){this.item=t,this.dialog=!0},revokeLadingBillNumber:function(t,e){var a=this;this.request({url:this.endpoint("dashtbashi/ladingBillNumbers/revoke"),method:"post",data:{id:t.id,is_revoked:!t.is_revoked,date:e},success:function(i){a.successNotify(),t.is_revoked=!t.is_revoked,t.revoked_at=e,a.dialog=!1}})}}},_r=fr,br=Object(v["a"])(_r,vr,hr,!1,null,"0d2023a9",null),xr=br.exports;f()(br,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VRow:ct["a"]});var gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"حواله",showList:!1,isEditing:t.isEditing,canDelete:t.canDelete,canSubmit:t.canSubmit},on:{clearForm:function(e){return t.clearForm(!0)},"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{disabled:"",label:"عطف"},model:{value:t.item.local_id,callback:function(e){t.$set(t.item,"local_id",e)},expression:"item.local_id"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"شماره حواله",disabled:!t.isEditing},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"تاریخ صدور",default:!0,disabled:!t.isEditing},model:{value:t.item.issue_date,callback:function(e){t.$set(t.item,"issue_date",e)},expression:"item.issue_date"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"تاریخ بارگیری",default:!0,disabled:!t.isEditing},model:{value:t.item.loading_date,callback:function(e){t.$set(t.item,"loading_date",e)},expression:"item.loading_date"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"تاریخ پایان حواله",default:!0,disabled:!t.isEditing},model:{value:t.item.end_date,callback:function(e){t.$set(t.item,"end_date",e)},expression:"item.end_date"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"مقدار حواله",disabled:!t.isEditing},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("ware-select",{attrs:{label:"کالا",disabled:!t.isEditing},model:{value:t.item.ware,callback:function(e){t.$set(t.item,"ware",e)},expression:"item.ware"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"نرخ حواله پیمانکار",disabled:!t.isEditing},model:{value:t.item.contractor_price,callback:function(e){t.$set(t.item,"contractor_price",e)},expression:"item.contractor_price"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"نرخ کرایه",disabled:!t.isEditing},model:{value:t.item.fare_price,callback:function(e){t.$set(t.item,"fare_price",e)},expression:"item.fare_price"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"انعام",disabled:!t.isEditing},model:{value:t.item.driver_tip_price,callback:function(e){t.$set(t.item,"driver_tip_price",e)},expression:"item.driver_tip_price"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"پرداخت کننده انعام",items:t.tipPayers,disabled:!t.isEditing,"item-text":"title","item-value":"id"},model:{value:t.item.driver_tip_payer,callback:function(e){t.$set(t.item,"driver_tip_payer",e)},expression:"item.driver_tip_payer"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"مبلغ اختلاف بارنامه",disabled:!t.isEditing},model:{value:t.item.lading_bill_difference,callback:function(e){t.$set(t.item,"lading_bill_difference",e)},expression:"item.lading_bill_difference"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"روش پرداخت مبلغ حواله",items:t.remittancePaymentMethods,disabled:!t.isEditing},model:{value:t.item.remittance_payment_method,callback:function(e){t.$set(t.item,"remittance_payment_method",e)},expression:"item.remittance_payment_method"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("city-select",{attrs:{label:"مبدا",disabled:!t.isEditing},model:{value:t.item.origin,callback:function(e){t.$set(t.item,"origin",e)},expression:"item.origin"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("city-select",{attrs:{label:"مقصد",disabled:!t.isEditing},model:{value:t.item.destination,callback:function(e){t.$set(t.item,"destination",e)},expression:"item.destination"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("account-select",{attrs:{label:"نام پیمانکار",disabled:!t.isEditing,"items-type":"level3"},model:{value:t.item.contractor,callback:function(e){t.$set(t.item,"contractor",e)},expression:"item.contractor"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-switch",{attrs:{label:"اتمام بارگیری",disabled:!t.isEditing},model:{value:t.item.is_finished,callback:function(e){t.$set(t.item,"is_finished",e)},expression:"item.is_finished"}})],1)],1)]],2)},yr=[],kr={props:{id:{default:null}},mixins:[rs["a"],Lt["b"],qo],data:function(){return{item:{},hasList:!1,hasIdProp:!0,baseUrl:"dashtbashi/remittances",appendSlash:!0}},methods:{getData:function(){this.id&&this.getItem(this.id)},getItemByPosition:function(t){var e=this;this.request({url:this.endpoint("dashtbashi/remittances/byPosition"),method:"get",params:{id:this.id,position:t},success:function(t){e.setItem(t)},error:function(t){404==t.response.status&&e.notify("حواله وجود ندارد","warning")}})}}},wr=kr,Cr=Object(v["a"])(wr,gr,yr,!1,null,"628b7df4",null),Er=Cr.exports;f()(Cr,{VAutocomplete:Xe["a"],VCol:it["a"],VRow:ct["a"],VSwitch:Je["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var $r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"",showList:!1,isEditing:t.isEditing,listRoute:{name:"LadingsList"},canDelete:t.canDelete,canSubmit:t.canSubmit,canEdit:!t.item.is_paid},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm(!0)}},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.sanad?a("open-sanad-btn",{attrs:{sanad:t.item.sanad}}):t._e()]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"عطف",disabled:!0},model:{value:t.item.local_id,callback:function(e){t.$set(t.item,"local_id",e)},expression:"item.local_id"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"حمل کننده",items:t.$store.state.drivings,"item-text":"title","item-value":"id",disabled:!t.isEditing},model:{value:t.item.driving,callback:function(e){t.$set(t.item,"driving",e)},expression:"item.driving"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"نوع بارگیری",disabled:!t.isEditing,items:t.types,"item-value":"id"},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}})],1)],1),t.item.type.includes("l")?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",{staticClass:"py-0"},[t._v("بارگیری")])],1),[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"شماره حواله",disabled:!t.isEditing,items:t.remittances,"search-input":t.remittanceSearch,"item-text":"title","item-value":"id",clearable:""},on:{"update:searchInput":function(e){t.remittanceSearch=e},"update:search-input":function(e){t.remittanceSearch=e}},model:{value:t.remittance,callback:function(e){t.remittance=e},expression:"remittance"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"شماره بارگیری",disabled:!t.isEditing},model:{value:t.item.lading_number,callback:function(e){t.$set(t.item,"lading_number",e)},expression:"item.lading_number"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ سند",default:!0,disabled:!t.isEditing},model:{value:t.item.sanad_date,callback:function(e){t.$set(t.item,"sanad_date",e)},expression:"item.sanad_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ بارگیری",default:!0,disabled:!t.isEditing},model:{value:t.item.lading_date,callback:function(e){t.$set(t.item,"lading_date",e)},expression:"item.lading_date"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("ware-select",{attrs:{label:"کالا",disabled:!t.isEditing},model:{value:t.item.ware,callback:function(e){t.$set(t.item,"ware",e)},expression:"item.ware"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("account-select",{attrs:{label:"پیمانکار",disabled:!t.isEditing,"items-type":"level3"},model:{value:t.item.contractor,callback:function(e){t.$set(t.item,"contractor",e)},expression:"item.contractor"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"نرخ حواله پیمانکار",disabled:!t.isEditing},model:{value:t.item.contractor_price,callback:function(e){t.$set(t.item,"contractor_price",e)},expression:"item.contractor_price"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"نرخ کرایه",disabled:!t.isEditing},model:{value:t.item.fare_price,callback:function(e){t.$set(t.item,"fare_price",e)},expression:"item.fare_price"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"فی کمیسیون",disabled:!0},model:{value:+t.item.contractor_price-+t.item.fare_price,callback:function(e){t.$set(+t.item.contractor_price-+t.item,"fare_price",e)},expression:"+item.contractor_price - +item.fare_price"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("money",{attrs:{label:"انعام راننده",disabled:!t.isEditing},model:{value:t.item.driver_tip_price,callback:function(e){t.$set(t.item,"driver_tip_price",e)},expression:"item.driver_tip_price"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"پرداخت کننده انعام",items:t.tipPayers,disabled:!t.isEditing,"item-text":"title","item-value":"id"},model:{value:t.item.driver_tip_payer,callback:function(e){t.$set(t.item,"driver_tip_payer",e)},expression:"item.driver_tip_payer"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"مبلغ اختلاف بارنامه",disabled:!t.isEditing},model:{value:t.item.lading_bill_difference,callback:function(e){t.$set(t.item,"lading_bill_difference",e)},expression:"item.lading_bill_difference"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"دریافت کننده اختلاف بارنامه",items:t.ladingBillDifferenceReceivers,disabled:!t.isEditing,"item-text":"title","item-value":"id"},model:{value:t.item.lading_bill_difference_receiver,callback:function(e){t.$set(t.item,"lading_bill_difference_receiver",e)},expression:"item.lading_bill_difference_receiver"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"روش پرداخت مبلغ حواله",items:t.remittancePaymentMethods,disabled:!t.isEditing},model:{value:t.item.remittance_payment_method,callback:function(e){t.$set(t.item,"remittance_payment_method",e)},expression:"item.remittance_payment_method"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"مقدار بارنامه مبدا",disabled:!t.isEditing},on:{input:function(e){!t.is_destination_amount_dirty&&(t.item.destination_amount=t.item.origin_amount)}},model:{value:t.item.origin_amount,callback:function(e){t.$set(t.item,"origin_amount",e)},expression:"item.origin_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"مقدار بارنامه مقصد",disabled:!t.isEditing},on:{input:function(e){t.is_destination_amount_dirty=!0}},model:{value:t.item.destination_amount,callback:function(e){t.$set(t.item,"destination_amount",e)},expression:"item.destination_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("city-select",{attrs:{label:"مبدا",disabled:!t.isEditing},model:{value:t.item.origin,callback:function(e){t.$set(t.item,"origin",e)},expression:"item.origin"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("city-select",{attrs:{label:"مقصد",disabled:!t.isEditing},model:{value:t.item.destination,callback:function(e){t.$set(t.item,"destination",e)},expression:"item.destination"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("m-file-input",{attrs:{label:"فایل",disabled:!t.isEditing,"delete-attachment":t.item.delete_lading_attachment},on:{"update:deleteAttachment":function(e){return t.$set(t.item,"delete_lading_attachment",e)},"update:delete-attachment":function(e){return t.$set(t.item,"delete_lading_attachment",e)}},model:{value:t.item.lading_attachment,callback:function(e){t.$set(t.item,"lading_attachment",e)},expression:"item.lading_attachment"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"نوع پیمانکار",items:t.contractorTypes,disabled:!t.isEditing,"item-text":"title","item-value":"id"},model:{value:t.item.contractor_type,callback:function(e){t.$set(t.item,"contractor_type",e)},expression:"item.contractor_type"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},["cmp"==t.item.contractor_type?a("v-autocomplete",{attrs:{"return-object":!0,label:"نوع هزینه ی حمل",items:t.wareTypes,disabled:!t.isEditing,"item-text":"title","item-value":"id"},model:{value:t.item.ware_type,callback:function(e){t.$set(t.item,"ware_type",e)},expression:"item.ware_type"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"2"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),"o"==t.item.driving.car.owner?[a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"خرج سرویس",disabled:!t.isEditing},model:{value:t.item.service_cost,callback:function(e){t.$set(t.item,"service_cost",e)},expression:"item.service_cost"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"پرداخت کننده خرج سرویس",items:t.tipPayers,disabled:!t.isEditing,"item-text":"title","item-value":"id"},model:{value:t.item.service_cost_payer,callback:function(e){t.$set(t.item,"service_cost_payer",e)},expression:"item.service_cost_payer"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.item.service_cost_payer&&[t.item.service_cost_payer.id,t.item.service_cost_payer].includes("cmp")?a("account-select",{attrs:{label:"حساب پرداخت کننده خرج سرویس",disabled:!t.isEditing,"items-type":"level3"},model:{value:t.item.service_cost_payer_account,callback:function(e){t.$set(t.item,"service_cost_payer_account",e)},expression:"item.service_cost_payer_account"}}):t._e()],1)]:t._e(),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:"توضیحات بارگیری",disabled:!t.isEditing},model:{value:t.item.lading_explanation,callback:function(e){t.$set(t.item,"lading_explanation",e)},expression:"item.lading_explanation"}})],1),t.item.driving?[a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"مبلغ کل",value:t.ladingTotalValue,disabled:""}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"درآمد کمسیون "+("o"==t.item.driving.car.owner?"متفرقه":"شرکت"),value:t.companyCommissionIncome,disabled:""}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"o"==t.item.driving.car.owner?"حساب پرداختنی راننده متفرقه":"درآمد ماشین",value:t.carIncome,disabled:""}})],1)]:t._e(),a("v-col",{attrs:{cols:"12"}},[a("v-divider",{staticStyle:{"border-width":"2px"},attrs:{color:"indigo"}})],1)]],2):t._e(),t.item.type.includes("b")?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",{staticClass:"py-0"},[t._v("بارنامه دولتی")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"سری بارنامه",items:t.ladingBillSeriesItems,"item-text":"serial","item-value":"id","no-filter":"","search-input":t.ladingBillSearchInput,disabled:!t.isEditing,clearable:""},on:{"update:searchInput":function(e){t.ladingBillSearchInput=e},"update:search-input":function(e){t.ladingBillSearchInput=e},change:function(e){t.ladingBillSeries&&(t.item.billNumber=t.ladingBillSeries.numbers.filter((function(t){return!t.is_revoked}))[0])}},model:{value:t.ladingBillSeries,callback:function(e){t.ladingBillSeries=e},expression:"ladingBillSeries"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"شماره بارنامه",items:t.ladingBillSeries?t.ladingBillSeries.numbers.filter((function(t){return!t.is_revoked})):[],"item-text":"number","item-value":"id",disabled:!t.isEditing},model:{value:t.item.billNumber,callback:function(e){t.$set(t.item,"billNumber",e)},expression:"item.billNumber"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ بارنامه",default:!0,disabled:!t.isEditing},model:{value:t.item.bill_date,callback:function(e){t.$set(t.item,"bill_date",e)},expression:"item.bill_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"مبلغ بارنامه",disabled:!t.isEditing},model:{value:t.item.bill_price,callback:function(e){t.$set(t.item,"bill_price",e)},expression:"item.bill_price"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"انعام باربری",disabled:!t.isEditing},model:{value:t.item.cargo_tip_price,callback:function(e){t.$set(t.item,"cargo_tip_price",e)},expression:"item.cargo_tip_price"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"انجمن",items:t.$store.state.associations,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(e){t.item.association_price=t.item.association.price}},model:{value:t.item.association,callback:function(e){t.$set(t.item,"association",e)},expression:"item.association"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"مبلغ انجمن",disabled:!t.isEditing},model:{value:t.item.association_price,callback:function(e){t.$set(t.item,"association_price",e)},expression:"item.association_price"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"نحوه دریافت",items:t.receiveTypes,disabled:!t.isEditing},model:{value:t.item.receive_type,callback:function(e){t.$set(t.item,"receive_type",e)},expression:"item.receive_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("money",{attrs:{label:"ارزش افزوده بارنامه دولتی",disabled:!t.isEditing}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("m-file-input",{attrs:{label:"فایل",disabled:!t.isEditing,"delete-attachment":t.item.delete_bill_attachment},on:{"update:deleteAttachment":function(e){return t.$set(t.item,"delete_bill_attachment",e)},"update:delete-attachment":function(e){return t.$set(t.item,"delete_bill_attachment",e)}},model:{value:t.item.bill_attachment,callback:function(e){t.$set(t.item,"bill_attachment",e)},expression:"item.bill_attachment"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-textarea",{attrs:{label:"توضیحات بارنامه",disabled:!t.isEditing},model:{value:t.item.bill_explanation,callback:function(e){t.$set(t.item,"bill_explanation",e)},expression:"item.bill_explanation"}})],1),a("v-col",{attrs:{cols:"6"}},[a("money",{attrs:{label:"مبلغ کل بارنامه",value:t.billTotalPrice,disabled:""}})],1)],1):t._e()]],2)},Tr=[],Sr={props:{id:{default:null}},mixins:[rs["a"],Lt["b"],qo],data:function(){return{baseUrl:"dashtbashi/ladings",appendSlash:!0,permissionBasename:"lading",formData:!0,hasList:!1,hasIdProp:!0,ladingBillSeries:null,ladingBillSeriesItems:[],ladingBillSearchInput:"",is_destination_amount_dirty:!1,remittanceSearch:"",remittances:[],remittance:null,contractorTypes:[{id:"o",title:"سایر"},{id:"cmp",title:"شرکت"}],wareTypes:[{id:"b",title:"خریداری شده"},{id:"s",title:"فروش رفته"}],types:[{text:"بارگیری",id:"l"},{text:"بارگیری و بارنامه دولتی",id:"lb"},{text:"بارنامه دولتی",id:"b"}]}},computed:{billTotalPrice:function(){var t=+this.item.association_price+ +this.item.bill_price+ +this.item.cargo_tip_price;return this.item.lading_bill_total_value=Math.round(100*t||0)/100,t},ladingTotalValue:function(){var t=this.item.destination_amount*this.item.contractor_price;return this.item.lading_total_value=Math.round(100*t||0)/100,t},companyCommissionIncome:function(){var t=this.item.destination_amount*(this.item.contractor_price-this.item.fare_price);return this.item.company_commission_income=Math.round(100*t||0)/100,t},carIncome:function(){var t=this.item.destination_amount*this.item.fare_price;return this.item.car_income=Math.round(100*t||0)/100,t}},watch:{ladingBillSearchInput:function(){this.getLadingBillSeries(this.ladingBillSearchInput)},remittanceSearch:function(){null!=this.remittanceSearch&&this.d.getRemittances(this.remittanceSearch)},remittance:function(){var t=this;if(this.remittance){if(this.item.remittance&&this.item.remittance.id==this.remittance.id)return;Object.keys(this.remittance).forEach((function(e){"id"==e?t.item.remittance=t.remittance.id:["local_id"].includes(e)||(t.item[e]=null,t.$set(t.item,e,t.remittance[e]))}))}}},mounted:function(){this.getRemittances(this.remittanceSearch)},methods:{clearForm:function(){this.isEditing=!0,this.item=this.getItemTemplate(),this.changeRouteTo(null),this.remittance=null},getItemTemplate:function(){return{type:"",remittance:{},association:{id:null,price:null},association_price:0,cargo_tip_price:0,contractor_type:this.contractorTypes[0],lading_ware:null,lading_contractor_price:null,lading_contractor:null,lading_bill_total_value:0,destination_amount:null}},getData:function(){this.getDrivings(),this.getAssociations(),this.id&&this.getItem(this.id)},getLadingBillSeries:function(t){var e=this;this.request({loading:!1,url:this.endpoint("dashtbashi/ladingBillSeries/?limit=10&offset=0"),method:"get",params:{serial__icontains:t},success:function(t){e.ladingBillSeriesItems=t["results"]}})},setItem:function(t){this.item=t,this.remittance=t.remittance,this.ladingBillSeries=t.billNumber?t.billNumber.series:null,this.changeRouteTo(t.id)},getItemByPosition:function(t){var e=this;this.request({url:this.endpoint("dashtbashi/ladings/byPosition"),method:"get",params:{id:this.id,position:t},success:function(t){e.setItem(t)},error:function(t){404==t.response.status&&e.notify("بارگیری وجود ندارد","warning")}})}}},Vr=Sr,Fr=Object(v["a"])(Vr,$r,Tr,!1,null,"37e6001c",null),Pr=Fr.exports;f()(Fr,{VAutocomplete:Xe["a"],VCardTitle:et["d"],VCol:it["a"],VDivider:Ma["a"],VRow:ct["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"بارگیری شرکت نفت",isEditing:t.isEditing,showList:!1,listRoute:{name:"OilCompanyLadingsList"},exportBaseUrl:"dashtbashi/export/oilCompanyLadings",exportParams:{id:t.id},canDelete:t.canDelete,canSubmit:t.canSubmit},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.item.sanad?a("open-sanad-btn",{attrs:{sanad:t.item.sanad}}):t._e()]},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"عطف",disabled:""},model:{value:t.item.local_id,callback:function(e){t.$set(t.item,"local_id",e)},expression:"item.local_id"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"ماه",items:t.months,"return-object":!1,disabled:!t.isEditing},model:{value:t.item.month,callback:function(e){t.$set(t.item,"month",e)},expression:"item.month"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ ثبت",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"تاریخ سیاهه",default:!0,disabled:!t.isEditing},model:{value:t.item.list_date,callback:function(e){t.$set(t.item,"list_date",e)},expression:"item.list_date"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"خروجی",default:!0,disabled:!t.isEditing},model:{value:t.item.export_date,callback:function(e){t.$set(t.item,"export_date",e)},expression:"item.export_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"حمل کننده",items:t.$store.state.drivings,"item-text":"title","item-value":"id",disabled:!t.isEditing},model:{value:t.item.driving,callback:function(e){t.$set(t.item,"driving",e)},expression:"item.driving"}})],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{staticClass:"form-items"},[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("تاریخ بارگیری")]),a("th",[t._v("شماره بارنامه")]),a("th",[t._v("مبدا")]),a("th",[t._v("مقصد")]),a("th",[t._v("وزن")]),a("th",[t._v("مبلغ ناخالص")]),a("th",[t._v("حق بیمه تامین اجتماعی")]),a("th",[t._v("درصد مالیات بر ارزش افزوده")]),a("th",[t._v("مبلغ مالیات بر ارزش افزوده")]),a("th",[t._v("درصد عوارض بر ارزش افزوده")]),a("th",[t._v("مبلغ عوارض بر ارزش افزوده")]),a("th",[t._v("مبلغ کل با ارزش افزوده")]),a("th",[t._v("مبلغ خالص")]),a("th",[t._v("کمیسیون شرکت")]),a("th",[t._v("درآمد ماشین")]),a("th")])]),a("tbody",[t._l(t.rows,(function(e,i){return a("tr",{key:i,class:{"d-print-none":i==t.rows.length-1}},[a("td",{staticClass:"tr-counter"},[t._v(t._s(i+1))]),a("td",[a("date",{attrs:{default:!0,disabled:!t.isEditing},model:{value:e.date,callback:function(a){t.$set(e,"date",a)},expression:"row.date"}})],1),a("td",[a("v-text-field",{attrs:{disabled:!t.isEditing},model:{value:e.bill_number,callback:function(a){t.$set(e,"bill_number",a)},expression:"row.bill_number"}})],1),a("td",{staticClass:"tr-city"},[a("city-select",{attrs:{disabled:!t.isEditing},model:{value:e.origin,callback:function(a){t.$set(e,"origin",a)},expression:"row.origin"}})],1),a("td",{staticClass:"tr-city"},[a("city-select",{attrs:{disabled:!t.isEditing},model:{value:e.destination,callback:function(a){t.$set(e,"destination",a)},expression:"row.destination"}})],1),a("td",[a("money",{attrs:{disabled:!t.isEditing},model:{value:e.weight,callback:function(a){t.$set(e,"weight",a)},expression:"row.weight"}})],1),a("td",[a("money",{attrs:{disabled:!t.isEditing},model:{value:e.gross_price,callback:function(a){t.$set(e,"gross_price",a)},expression:"row.gross_price"}})],1),a("td",[a("money",{attrs:{disabled:!t.isEditing},model:{value:e.insurance_price,callback:function(a){t.$set(e,"insurance_price",a)},expression:"row.insurance_price"}})],1),a("td",[a("v-text-field",{attrs:{type:"number",disabled:!t.isEditing},model:{value:e.tax_percent,callback:function(a){t.$set(e,"tax_percent",a)},expression:"row.tax_percent"}})],1),a("td",[a("money",{attrs:{value:t.taxPrice(e),disabled:"",decimalScale:0}})],1),a("td",[a("v-text-field",{attrs:{type:"number",disabled:!t.isEditing},model:{value:e.complication_percent,callback:function(a){t.$set(e,"complication_percent",a)},expression:"row.complication_percent"}})],1),a("td",[a("money",{attrs:{value:t.complicationPrice(e),disabled:"",decimalScale:0}})],1),a("td",[a("money",{attrs:{value:t.rowSum(e),disabled:!0,decimalScale:0}})],1),a("td",[a("money",{attrs:{value:t.netPrice(e),disabled:!0,decimalScale:0}})],1),a("td",[a("money",{attrs:{value:t.companyCommission(e),disabled:!0,decimalScale:0}})],1),a("td",[a("money",{attrs:{value:t.carIncome(e),disabled:!0,decimalScale:0}})],1),a("td",{staticClass:"d-print-none"},[i!=t.rows.length-1?a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(i)}}},[a("v-icon",[t._v("delete")])],1):t._e()],1)])})),a("tr",{staticClass:"grey lighten-3 text-white"},[a("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v("مجموع:")]),a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("weight"),0)))]),a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("gross_price"),0)))]),a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("insurance_price"),0)))]),a("td"),a("td",[t._v(t._s(t._f("toMoney")(t.rowsTaxPrice,0)))]),a("td"),a("td",[t._v(t._s(t._f("toMoney")(t.rowsComplicationPrice,0)))]),a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("sum"),0)))]),a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("net_price"),0)))]),a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("company_commission"),0)))]),a("td",[t._v(t._s(t._f("toMoney")(t.rowsSum("car_income"),0)))]),a("td",{staticClass:"d-print-none"},[a("v-btn",{staticClass:"red--text",attrs:{icon:"",disabled:!t.isEditing},on:{click:function(e){return t.deleteRow(-1)}}},[a("v-icon",[t._v("delete_sweep")])],1)],1)])],2)])],1)],1)]],2)},Ar=[],Ir={name:"Form",components:{money:ls["a"],date:cs["a"]},mixins:[rs["a"],qo,Lt["b"]],props:["id"],data:function(){return{hasList:!1,hasIdProp:!0,baseUrl:"dashtbashi/oilCompanyLadings",appendSlash:!0,permissionBasename:"oilCompanyLading"}},computed:{rowsTaxPrice:function(){var t,e=0,a=Object(c["a"])(this.rows);try{for(a.s();!(t=a.n()).done;){var i=t.value;e+=+this.taxPrice(i)}}catch(s){a.e(s)}finally{a.f()}return+e.toFixed(0)},rowsComplicationPrice:function(){var t,e=0,a=Object(c["a"])(this.rows);try{for(a.s();!(t=a.n()).done;){var i=t.value;e+=+this.complicationPrice(i)}}catch(s){a.e(s)}finally{a.f()}return+e.toFixed(0)}},watch:{rows:{handler:function(){var t=this.rows[this.rows.length-1];t&&t.gross_price&&this.rows.push(this.getRowTemplate())},deep:!0}},methods:{getItemTemplate:function(){return{}},getData:function(){this.getDrivings()},getRowTemplate:function(){return{sum:0,net_price:0,gross_price:0,insurance_price:0,tax_percent:this.getOptionValue("taxPercent"),company_commission_percent:+this.getOptionValue("companyCommissionFromOilCompanyLading"),complication_percent:this.getOptionValue("addedValuePercentOfOilCompanyLading")}},taxPrice:function(t){return t.tax_value=+(+t.tax_percent*+t.gross_price/100||0).toFixed(0),t.tax_value},complicationPrice:function(t){return t.complication_price=+(+t.complication_percent*+t.gross_price/100||0).toFixed(0),t.complication_price},rowSum:function(t){var e=(+t.gross_price||0)+this.taxPrice(t)+this.complicationPrice(t)-(+t.insurance_price||0);return e=+e.toFixed(0),t.total_value=e,e},netPrice:function(t){var e=+t.gross_price-+t.insurance_price;return e=+e.toFixed(0),t.net_price=e,e},companyCommission:function(t){var e=this.netPrice(t)*+t.company_commission_percent/100||0;return e=+e.toFixed(0),t.company_commission=e,e},carIncome:function(t){var e=this.netPrice(t)-this.companyCommission(t)||0;return e=+e.toFixed(0),t.car_income=e,e},getItemByPosition:function(t){var e=this;return this.request({url:this.endpoint("dashtbashi/oilCompanyLadings/byPosition"),method:"get",params:{id:this.id,position:t},success:function(t){e.setItem(t)}})},setItem:function(t){var e=this;this.item=t,this.itemsToDelete=[],this.rows=[],t.items.forEach((function(t){var a=Object(o["a"])({},t);e.rows.push(a)})),this.rows.push(this.getRowTemplate()),this.changeRouteTo(t.id)},deleteRow:function(t){var e=this;if(-1==t)this.rows.forEach((function(t){t.id&&e.itemsToDelete.push(t.id)})),this.rows.splice(0,this.rows.length-1);else{var a=this.rows[t];a.id&&this.itemsToDelete.push(a.id),this.rows.splice(t,1)}},getSerialized:function(){var t=this,e={form:this.extractIds(this.item),items:{ids_to_delete:this.itemsToDelete,items:[]}};return this.rows.forEach((function(a,i){if(i!=t.rows.length-1){var s=t.copy(a);s=t.extractIds(s);for(var n=["gross_price","insurance_price","tax_value","complication_value","total_value","complication_pricde","company_commission","car_income","net_price"],o=0,r=n;o<r.length;o++){var l=r[o];s[l]&&(s[l]=Number(s[l]).toFixed(0))}e.items.items.push(s)}})),e.form.car_income=this.rowsSum("car_income"),e.form.company_commission=this.rowsSum("company_commission"),e.form.total_value=this.rowsSum("total_value"),e.form.gross_price=this.rowsSum("gross_price"),e.form.insurance_price=this.rowsTaxPrice,e.form.tax_price=this.rowsTaxPrice,e.form.complication_price=this.rowsComplicationPrice,e.form.weight=this.rowsSum("weight"),e}}},jr=Ir,Lr=Object(v["a"])(jr,Dr,Ar,!1,null,"8c8daed8",null),Rr=Lr.exports;f()(Lr,{VAutocomplete:Xe["a"],VBtn:_["a"],VCol:it["a"],VIcon:b["a"],VRow:ct["a"],VSimpleTable:Na["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var Or=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-form",{attrs:{title:"پرداخت رانندگان متفرقه",formName:"پرداخت رانندگان متفرقه",exportBaseUrl:"dashtbashi/export/otherDriverPayments",listRoute:{name:"OtherDriverPaymentsList"},exportParams:{id:t.id},isEditing:t.isEditing,deletable:!0,showList:!1,canDelete:t.canDelete,canSubmit:t.canSubmit&&!t.id},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.openPaymentDialog,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.id?a("v-btn",{staticClass:"blue white--text mr-1",attrs:{target:"_blank",to:{name:"TransactionForm",params:{type:"payment",id:t.item.payment.id}}}},[t._v(" مشاهده دریافت "),a("v-chip",{staticClass:"app-background-color mr-2",attrs:{"x-small":""}},[t._v(t._s(t.item.payment.code))])],1):t._e()]},proxy:!0},{key:"footer-btns",fn:function(){},proxy:!0}])},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره",disabled:""},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"حمل کننده",items:t.$store.state.drivings.filter((function(t){return"o"==t.car.owner})),"item-text":"title","item-value":"id",disabled:void 0!=this.id,"return-object":!0},on:{change:t.getDrivingData},model:{value:t.item.driving,callback:function(e){t.$set(t.item,"driving",e)},expression:"item.driving"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ",default:!0,disabled:void 0!=this.id},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"2"}},[t.item.created_by?a("v-text-field",{attrs:{label:"کاربر",disabled:""},model:{value:t.item.created_by.name,callback:function(e){t.$set(t.item.created_by,"name",e)},expression:"item.created_by.name"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:void 0!=this.id},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"mb-1 mr-1"},[t._v("بارگیری ها")]),a("m-datatable",{attrs:{headers:t.ladingHeaders,items:t.ladings,"show-select":void 0==this.id,"item-key":"id","disable-pagination":!0,"hide-default-footer":!0,"show-export-btns":!1},scopedSlots:t._u([{key:"item.carIncome",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getCarIncome(a))))]}},{key:"item.ladingDifference",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getLadingDifference(a))))]}},{key:"item.payableAmount",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getPayableAmount(a))))]}},{key:"item.remainAmount",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getRemainAmount(a))))]}}]),model:{value:t.selectedLadings,callback:function(e){t.selectedLadings=e},expression:"selectedLadings"}})],1),t._e(),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-simple-table",{staticClass:"sum-table"},[a("tbody",[a("tr"),a("tr",[a("td",{staticClass:"text--bold"},[t._v("مبلغ قابل پرداخت")]),a("td",{staticClass:"ltr"},[t._v(t._s(t._f("toMoney")(t.payableValue)))])])])])],1),a("v-dialog",{model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[a("transaction-form",{ref:"transactionForm",attrs:{type:"payment","modal-mode":!0,id:t.payment.id},on:{submit:t.validate}})],1)],1)]],2)},qr=[],Br=a("24a3"),Ur={name:"OtherDriverPaymentForm",mixins:[rs["a"],qo,Lt["b"],Br["a"]],components:{TransactionForm:gs["a"]},props:["id"],data:function(){return{baseUrl:"dashtbashi/otherDriverPayments",appendSlash:!0,permissionBasename:"otherDriverPayment",hasList:!1,hasIdProp:!0,paymentDialog:!1,payment:{},performClearForm:!0,ladingHeaders:[{text:"شماره حواله",value:"remittance.code"},{text:"عطف بارگیری",value:"local_id"},{text:"شماره بارگیری",value:"lading_number"},{text:"تاریخ بارگیری",value:"lading_date"},{text:"نام پیمانکار",value:"contractor.name"},{text:"انعام",value:"driver_tip_price",type:"numeric"},{text:"مبلغ کرایه",value:"carIncome",type:"numeric"},{text:"اختلاف بارنامه",value:"ladingDifference"},{text:"مبلغ قابل پرداخت اولیه",value:"payableAmount"},{text:"خرج سرویس",value:"service_cost",type:"numeric"},{text:"مانده قابل پرداخت به راننده",value:"remainAmount",type:"numeric"}],ladings:[],selectedLadings:[],imprestHeaders:[{text:"شماره",value:"code"},{text:"حساب",value:"account.name"},{text:"شناور",value:"floatAccount.name"},{text:"تاریخ",value:"date"},{text:"مبلغ پرداختی",value:"paidValue"},{text:"مبلغ دریافتی",value:"receivedValue"},{text:"مانده پرداخت نشده",value:"remain"}],imprests:[],selectedImprests:[]}},computed:{tipsSum:function(){return this.selectedLadings.reduce((function(t,e){return t+ +e.driver_tip_price}),0)},carIncomesSum:function(){var t=this;return this.selectedLadings.reduce((function(e,a){return e+t.getCarIncome(a)}),0)},ladingsSum:function(){var t=this;return this.selectedLadings.reduce((function(e,a){return e+t.getLadingSum(a)}),0)},cargoDebtsSum:function(){var t=this;return this.selectedLadings.reduce((function(e,a){return e+t.getCargoDebt(a)}),0)},imprestsSum:function(){var t=this;return this.selectedImprests.reduce((function(e,a){return e+ +t.getImprestNotSettledValue(a)}),0)},payableValue:function(){var t=this;return this.selectedLadings.reduce((function(e,a){return e+ +t.getRemainAmount(a)}),0)}},methods:{getPayableAmount:function(t){return+t.driver_tip_price+this.getLadingDifference(t)+this.getCarIncome(t)},getRemainAmount:function(t){return this.getPayableAmount(t)-+t.service_cost},getLadingDifference:function(t){return"drvr"==t.lading_bill_difference_receiver?+t.lading_bill_difference:0},getImprestSettledValue:function(t){var e=t.imprestSettlement;return e?+e.settled_value:0},getImprestNotSettledValue:function(t){return t.sanad.bed-this.getImprestSettledValue(t)},getData:function(){var t=this;this.getDrivings(!1,(function(e){var a=t.urlQuery["item.driving"];a&&(t.item.driving=e.filter((function(t){return t.id==a}))[0],t.getDrivingData(t.item.driving))}))},openPaymentDialog:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.performClearForm=e,this.paymentDialog=!0,this.$nextTick((function(){t.$refs.transactionForm.setDefaults({"rows.0.value":t.payableValue})}))},getDrivingData:function(t){this.selectedLadings=[],this.selectedImprests=[],this.getDrivingLadings(t),this.getDriverNotSettledImprests(t)},getDrivingLadings:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.request({url:this.endpoint("dashtbashi/ladings/"),method:"get",params:{driving:t.id,is_paid:!1},success:function(t){e.ladings=t,e.item.remittance&&(e.selectedLadings=e.ladings.filter((function(t){return t.remittance&&t.remittance.id==e.item.remittance&&e.item.selectedLadings.includes(String(t.id))}))),a&&a(t)}})},validate:function(t){this.payment=t;var e=t.items.items.reduce((function(t,e){return t+ +e.value}),0);e!=this.payableValue?this.notify("مبلغ پرداختی باید با مبلغ قابل پرداخت برابر باشد","danger"):this.paymentDialog=!1,this.submit(this.performClearForm)},settleDriverImprests:function(){var t=this;this.request({url:this.endpoint("dashtbashi/settleDriverImprests"),data:{car:this.item.driving.car.id,driver:this.item.driving.driver.id,date:this.item.date,imprests:this.selectedImprests.map((function(t){return t.id}))},method:"post",success:function(e){t.successNotify(),t.getDriverNotSettledImprests(t.item.driving)}})},getDriverNotSettledImprests:function(t){var e=this,a={type:"imprest",account:t.car.payableAccount,floatAccount:t.driver.floatAccount};this.imprests=[],this.selectedImprests=[];var i=function(t){e.imprests=e.imprests.concat(t),e.item.remittance&&(e.selectedImprests=e.selectedImprests.concat(e.imprests))};this.request({url:this.endpoint("reports/lists/transactions"),params:Object(o["a"])(Object(o["a"])({},a),{},{imprestSettlement__is_settled:!1}),method:"get",success:function(t){i(t)}}),this.request({url:this.endpoint("reports/lists/transactions"),params:Object(o["a"])(Object(o["a"])({},a),{},{imprestSettlement__isnull:!0}),method:"get",success:function(t){i(t)}})},getItemTemplate:function(){return{ladings:[],imprests:[]}},getRowTemplate:function(){return{tax_percent:this.getOptionValue("taxPercent")}},getItemByPosition:function(t){var e=this;return this.request({url:this.endpoint("dashtbashi/otherDriverPayments/byPosition"),method:"get",params:{id:this.id,position:t},success:function(t){e.setItem(t)}})},setItem:function(t){this.changeRouteTo(t.id),this.isEditing=!1,this.item=t,this.payment=t.payment,this.ladings=t.ladings,this.imprests=t.imprests,this.selectedLadings=t.ladings,this.selectedImprests=t.imprests},deleteRow:function(t){var e=this;if(-1==t)this.rows.forEach((function(t){t.id&&e.itemsToDelete.push(t.id)})),this.rows.splice(0,this.rows.length-1);else{var a=this.rows[t];a.id&&this.itemsToDelete.push(a.id),this.rows.splice(t,1)}},getSerialized:function(){var t={item:this.extractIds(this.item),payment:this.extractIds(this.payment)};return t.item.ladings=this.selectedLadings.map((function(t){return t.id})),t.item.imprests=this.selectedImprests.map((function(t){return t.id})),t.payment.account=this.item.driving.car.payableAccount,t.payment.floatAccount=this.item.driving.driver.floatAccount,t},clearForm:function(){this.isEditing=!0,this.item=this.getItemTemplate(),this.selectedLadings=[],this.selectedImprests=[],this.ladings=[],this.imprests=[],this.changeRouteTo(null),this.see}}},Mr=Ur,Nr=(a("928c"),Object(v["a"])(Mr,Or,qr,!1,null,"9f51486c",null)),Yr=Nr.exports;f()(Nr,{VAutocomplete:Xe["a"],VBtn:_["a"],VChip:at["a"],VCol:it["a"],VDialog:nt["a"],VRow:ct["a"],VSimpleTable:Na["a"],VTextField:pt["a"],VTextarea:Ve["a"]});var zr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("گزارش مبلغ قابل پرداخت به رانندگان متفرقه")]),a("v-card-text",[a("v-row",[t.isPrinting?t._e():[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{"return-object":!0,label:"شماره حواله",items:t.remittances,"search-input":t.remittanceSearch,"item-text":"code","item-value":"id",clearable:"",multiple:!1},on:{"update:searchInput":function(e){t.remittanceSearch=e},"update:search-input":function(e){t.remittanceSearch=e},change:t.getRemittanceData},model:{value:t.remittance,callback:function(e){t.remittance=e},expression:"remittance"}})],1),t.remittance?[a("v-col",{attrs:{cols:"12",md:"3"}},[a("account-select",{attrs:{label:"پیمانکار",disabled:!0},model:{value:t.remittance.contractor,callback:function(e){t.$set(t.remittance,"contractor",e)},expression:"remittance.contractor"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"از تاریخ"},model:{value:t.filters.fromDate,callback:function(e){t.$set(t.filters,"fromDate",e)},expression:"filters.fromDate"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"تا تاریخ"},model:{value:t.filters.toDate,callback:function(e){t.$set(t.filters,"toDate",e)},expression:"filters.toDate"}})],1)]:t._e()],a("v-col",{attrs:{cols:"12"}},[t.remittance?a("m-datatable",{attrs:{filters:t.filters,headers:t.tableHeaders,items:t.items,"item-key":"id","disable-pagination":!0,"hide-default-footer":!0},on:{"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.pay",fn:function(e){var i=e.item;return[i.sumRow?t._e():a("v-btn",{attrs:{to:{name:"OtherDriverPayment",query:{"item.driving":i.driving.id,"item.remittance":t.remittance.id,"item.selectedLadings":i.selectedLadings}},color:"blue white--text"}},[t._v("پرداخت")])]}}],null,!1,249646810)}):t._e()],1)],2)],1)],1)},Wr=[],Gr={name:"Form",mixins:[rs["a"],qo,Br["a"]],components:{TransactionForm:gs["a"]},props:["id"],data:function(){return{remittances:[],remittanceSearch:"",remittance:null,filters:{},tableHeaders:[{text:"حمل کننده",value:"driving.title"},{text:"جمع انعام",value:"tipPrice",type:"numeric"},{text:"جمع درآمد ماشین",value:"carIncome",type:"numeric"},{text:"جمع بدهی باربری",value:"cargoDebt",type:"numeric"},{text:"جمع تنخواه",value:"imprestSum",type:"numeric"},{text:"مبلغ قابل پرداخت",value:"payableValue",type:"numeric"},{text:"پرداخت",value:"pay",hideInExport:!0}],data:{ladings:[],imprests:[]}}},computed:{items:function(){var t,e=this,a=[],i=Object(c["a"])(this.data.ladings);try{var s=function(){var i=t.value,s=i.driving,n=a.filter((function(t){return t.driving.id==s.id}));return 0!=n.length?(n=n[0],n.ladings=i):(n={driving:s,ladings:[i],selectedLadings:[],imprests:[],tipPrice:0,carIncome:0,cargoDebt:0,ladingSum:0,imprestSum:0,payableValue:0},a.push(n)),n.cargoDebt+=e.getCargoDebt(i),e.filters.fromDate&&i.lading_date<e.filters.fromDate||e.filters.toDate&&i.lading_date>e.filters.toDate?"continue":(n.tipPrice+=+i.driver_tip_price,n.carIncome+=e.getCarIncome(i),n.ladingSum+=e.getLadingSum(i),void n.selectedLadings.push(i.id))};for(i.s();!(t=i.n()).done;)s()}catch(h){i.e(h)}finally{i.f()}var n,o=Object(c["a"])(this.data.imprests);try{for(o.s();!(n=o.n()).done;){var r=n.value;a[0].imprests.push(r);var l=r.items.reduce((function(t,e){return t+ +e.value}),0),u=r.imprestSettlement.settled_value,d=l-u;a[0].imprestSum+=d}}catch(h){o.e(h)}finally{o.f()}for(var m=0,p=a;m<p.length;m++){var v=p[m];v.payableValue=v.ladingSum-v.cargoDebt-v.imprestSum}return a}},created:function(){},watch:{remittanceSearch:function(){this.getRemittances(this.remittanceSearch)}},methods:{getRemittanceData:function(){var t=this;this.remittance&&this.request({url:this.endpoint("dashtbashi/report/otherDriverPayments"),params:{remittance:this.remittance.id},method:"get",success:function(e){t.data=e}})}}},Kr=Gr,Hr=(a("0017"),Object(v["a"])(Kr,zr,Wr,!1,null,"51304e22",null)),Qr=Hr.exports;f()(Hr,{VAutocomplete:Xe["a"],VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست حواله ها")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":"dashtbashi/report/remittances/",filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"Remittance",params:{id:e.id}})}}})],1)],1)],1)],1)},Jr=[],Zr={name:"Form",data:function(){return{filters:{},headers:[{text:"عطف",value:"local_id"},{text:"شماره",value:"code"},{text:"تاریخ صدور",value:"issue_date"},{text:"مقدار حواله",value:"amount",type:"numeric"},{text:"مبدا",value:"origin.name"},{text:"مقصد",value:"destination.name"},{text:"پیمانکار",value:"contractor.name"}]}}},tl=Zr,el=Object(v["a"])(tl,Xr,Jr,!1,null,"9278926c",null),al=el.exports;f()(el,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var il=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست سری های بارنامه")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":"dashtbashi/report/ladingBillSeriesList/",filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"LadingBillSeries",params:{id:e.id}})}}})],1)],1)],1)],1)},sl=[],nl={name:"Form",data:function(){return{filters:{},headers:[{text:"عطف",value:"id"},{text:"تاریخ",value:"date"},{text:"سریال",value:"serial"},{text:"از شماره",value:"from_bill_number"},{text:"تا شماره",value:"to_bill_number"}]}}},ol=nl,rl=Object(v["a"])(ol,il,sl,!1,null,"1c33d738",null),ll=rl.exports;f()(rl,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var cl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست بارگیری های حمل و نقل")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"* ماشین",items:t.$store.state.dashtbashiCars,"item-text":"car_number_str","item-value":"id"},model:{value:t.filters.driving__car,callback:function(e){t.$set(t.filters,"driving__car",e)},expression:"filters.driving__car"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":"dashtbashi/report/ladings/",filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.newTab({name:"Lading",params:{id:a.item.id}})},detail:function(e){return t.newTab({name:"Lading",params:{id:e.id}})}}})],1)],1)],1)],1)},ul=[],dl={name:"LadingsList",mixins:[qo],data:function(){return{filters:{title:"لیست بارگیری های حمل و نقل"}}},computed:{headers:function(){return[{text:"عطف",value:"local_id",type:"numeric"},{text:"شماره حواله",value:"remittance.code"},{text:"شماره بارگیری",value:"lading_number"},{text:"تاریخ بارگیری",value:"lading_date"},{text:"کالا",value:"ware.name"},{text:"نرخ حواله پیمانکار",value:"contractor_price",type:"numeric"},{text:"پیمانکار",value:"contractor.name"},{text:"نرخ کرایه",value:"fare_price",type:"numeric"},{text:"مبدا",value:"origin.name"},{text:"مقصد",value:"destination.name"},{text:"مقدار بارنامه مقصد",value:"destination_amount",type:"numeric"},{text:"حمل کننده",value:"driving.driver.name"},{text:"ماشین",value:"driving.car.car_number_str",filterable:!1,sortable:!1},{text:"مالک",value:"driving.car.owner",type:"select",items:this.owners},{text:"شماره بارنامه",value:"billNumber.number"},{text:"مبلغ بارنامه",value:"bill_price",type:"numeric"},{text:"مبلغ کل بارگیری",value:"lading_total_value",type:"numeric"},{text:"مبلغ کل بارنامه دولتی",value:"lading_bill_total_value",type:"numeric"}]}},mounted:function(){this.getCars()}},ml=dl,pl=Object(v["a"])(ml,cl,ul,!1,null,"e2d789d2",null),vl=pl.exports;f()(pl,{VAutocomplete:Xe["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var hl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("گزارش بارنامه")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":"dashtbashi/report/ladings/",filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"Lading",params:{id:e.id}})}}})],1)],1)],1)],1)},fl=[],_l=a("5198"),bl={name:"Form",mixins:[qo,_l["a"]],data:function(){return{filters:{driving__car__owner:"",title:"گزارش بارنامه"}}},computed:{headers:function(){return[{text:"سری بارنامه",value:"billNumber.series.serial"},{text:"شماره بارنامه",value:"billNumber.number"},{text:"تاریخ بارگیری",value:"lading_date"},{text:"حمل کننده",value:"driving.driver.name"},{text:"ماشین",value:"driving.car.car_number_str",filterable:!1,sortable:!1},{text:"مبلغ بارنامه",value:"bill_price",type:"numeric"},{text:"انعام باربری",value:"cargo_tip_price",type:"numeric"},{text:"انجمن",value:"association.name"},{text:"مبلغ انجمن",value:"association_price",type:"numeric"},{text:"نحوه دریافت",value:"receive_type",items:this.receiveTypes}]}}},xl=bl,gl=Object(v["a"])(xl,hl,fl,!1,null,"2fb50e82",null),yl=gl.exports;f()(gl,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var kl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست بارگیری های شرکت نفت")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"ماه",items:t.months,"return-object":!1,clearable:""},on:{change:function(e){return t.filters.oilCompanyLading__month=e}},model:{value:t.filters.month,callback:function(e){t.$set(t.filters,"month",e)},expression:"filters.month"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{clearable:"","return-object":!1,label:"ماشین",items:t.$store.state.dashtbashiCars,"item-text":"car_number_str","item-value":"id"},on:{change:function(e){return t.filters.oilCompanyLading__driving__car=e}},model:{value:t.filters.driving__car,callback:function(e){t.$set(t.filters,"driving__car",e)},expression:"filters.driving__car"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{clearable:"","return-object":!1,label:"راننده",items:t.$store.state.dashtbashiDrivers,"item-text":"name","item-value":"id"},on:{change:function(e){return t.filters.oilCompanyLading__driving__car=e}},model:{value:t.filters.driving__driver,callback:function(e){t.$set(t.filters,"driving__driver",e)},expression:"filters.driving__driver"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"OilCompanyLading",params:{id:e.id}})}}})],1)],1)],1)],1)},wl=[],Cl={name:"Form",mixins:[qo],props:{detailed:{default:!1}},data:function(){return{filters:{driving__driver:null,oilCompanyLading__driving__driver:null,driving__car:null,oilCompanyLading__driving__car:null,month:null,oilCompanyLading__month:null}}},computed:{url:function(){return this.detailed?"dashtbashi/report/oilCompanyLadingItems/":"dashtbashi/report/oilCompanyLadings/"},headers:function(){var t=[{text:"عطف",value:"local_id",show:!this.detailed},{text:"تاریخ ثبت",value:"date",show:!this.detailed},{text:"تاریخ سیاهه",value:"list_date"},{text:"شماره بارگیری",value:"bill_number",show:this.detailed},{text:"مبلغ ناخالص",value:"gross_price",type:"numeric"},{text:"حق بیمه",value:"insurance_price",type:"numeric"},{text:"مبلغ کل ارزش افزوده",value:"complication_price",type:"numeric"},{text:"مبلغ کل با ارزش افزوده",value:"total_value",type:"numeric"},{text:"کمیسیون شرکت",value:"company_commission",type:"numeric"},{text:"درآمد ماشین",value:"car_income",type:"numeric"},{text:"وزن",value:"weight",type:"numeric"},{text:"ماه",value:"month",items:this.months,type:"select",show:!this.detailed},{text:"حمل کننده",value:"driving.title",sortable:!1,filterable:!1}];return this.detailed&&(t=[].concat(Object(bt["a"])(t),[{text:"ماه",value:"month",items:this.months},{text:"مبدا",value:"origin.name"},{text:"مقصد",value:"destination.name"}])),t}},created:function(){this.getCars(),this.getDrivers()}},El=Cl,$l=Object(v["a"])(El,kl,wl,!1,null,"9ed91c52",null),Tl=$l.exports;f()($l,{VAutocomplete:Xe["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Sl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("گزارش بارگیری برای پیمانکار")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"* ماشین",items:t.$store.state.dashtBashiCars,"item-text":"car_number_str","item-value":"id"},model:{value:t.filters.driving__car,callback:function(e){t.$set(t.filters,"driving__car",e)},expression:"filters.driving__car"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":"dashtbashi/report/ladings/",filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"Lading",params:{id:e.id}})}}})],1)],1)],1)],1)},Vl=[],Fl={name:"LadingsReportForContractor",mixins:[qo],data:function(){return{filters:{title:"گزارش بارگیری برای پیمانکار"},headers:[{text:"عطف",value:"local_id"},{text:"شماره حواله",value:"remittance.code"},{text:"شماره بارگیری",value:"lading_number"},{text:"تاریخ بارگیری",value:"lading_date"},{text:"کالا",value:"ware.name"},{text:"پیمانکار",value:"contractor.name"},{text:"نرخ حواله پیمانکار",value:"contractor_price",type:"numeric"},{text:"انعام راننده",value:"driver_tip_price",type:"numeric"},{text:"مبلغ اختلاف بارنامه",value:"lading_bill_difference",type:"numeric"},{text:"مبدا",value:"origin.name"},{text:"مقصد",value:"destination.name"},{text:"مقدار بارنامه مبدا",value:"origin_amount",type:"numeric"},{text:"مقدار بارنامه مقصد",value:"destination_amount",type:"numeric"},{text:"حمل کننده",value:"driving.driver.name"},{text:"ماشین",value:"driving.car.car_number_str",filterable:!1,sortable:!1}]}}},Pl=Fl,Dl=Object(v["a"])(Pl,Sl,Vl,!1,null,"195775ad",null),Al=Dl.exports;f()(Dl,{VAutocomplete:Xe["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Il=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("گزارش بارگیری برای راننده")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"* ماشین",items:t.$store.state.dashtbashiCars,"item-text":"car_number_str","item-value":"id"},model:{value:t.filters.driving__car,callback:function(e){t.$set(t.filters,"driving__car",e)},expression:"filters.driving__car"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":"dashtbashi/report/ladings/",filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"Lading",params:{id:e.id}})}}})],1)],1)],1)],1)},jl=[],Ll={name:"LadingsReportForDriver",mixins:[qo],data:function(){return{filters:{title:"گزارش بارگیری برای راننده"},headers:[{text:"عطف",value:"local_id"},{text:"شماره بارگیری",value:"lading_number"},{text:"تاریخ بارگیری",value:"lading_date"},{text:"کالا",value:"ware.name"},{text:"پیمانکار",value:"contractor.name"},{text:"نرخ کرایه",value:"fare_price",type:"numeric"},{text:"انعام راننده",value:"driver_tip_price",type:"numeric"},{text:"مبدا",value:"origin.name"},{text:"مقصد",value:"destination.name"},{text:"مقدار بارنامه مبدا",value:"origin_amount",type:"numeric"},{text:"مقدار بارنامه مقصد",value:"destination_amount",type:"numeric"},{text:"حمل کننده",value:"driving.driver.name"},{text:"ماشین",value:"driving.car.car_number_str",filterable:!1,sortable:!1}]}}},Rl=Ll,Ol=Object(v["a"])(Rl,Il,jl,!1,null,"7da78fa1",null),ql=Ol.exports;f()(Ol,{VAutocomplete:Xe["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Bl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("گزارش کمیسیون حمل و نقل")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":"dashtbashi/report/ladings/",filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"Lading",params:{id:e.id}})}},scopedSlots:t._u([{key:"item.commission",fn:function(e){var a=e.item;return[t._v(t._s(a.contractor_price-a.fare_price))]}}])})],1)],1)],1)],1)},Ul=[],Ml={name:"Form",data:function(){return{filters:{title:"گزارش کمیسیون حمل و نقل"},headers:[{text:"عطف",value:"id"},{text:"شماره حواله",value:"remittance.code"},{text:"شماره بارگیری",value:"lading_number"},{text:"تاریخ بارگیری",value:"lading_date"},{text:"کالا",value:"ware.name"},{text:"پیمانکار",value:"contractor.name"},{text:"نرخ حواله پیمانکار",value:"contractor_price",type:"numeric"},{text:"نرخ کرایه",value:"fare_price",type:"numeric"},{text:"کمیسیون",value:"commission",type:"numeric"},{text:"مبدا",value:"origin.name"},{text:"مقصد",value:"destination.name"},{text:"مقدار بارنامه مبدا",value:"origin_amount",type:"numeric"},{text:"مقدار بارنامه مقصد",value:"destination_amount",type:"numeric"},{text:"حمل کننده",value:"driving.driver.name"},{text:"ماشین",value:"driving.car.car_number_str",filterable:!1,sortable:!1}]}}},Nl=Ml,Yl=Object(v["a"])(Nl,Bl,Ul,!1,null,"ce6e6aa4",null),zl=Yl.exports;f()(Yl,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Wl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست پرداخت رانندگان متفرقه")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.headers,"api-url":"dashtbashi/otherDriverPayments/","export-url":"dashtbashi/report/otherDriverPayments/",filters:t.filters},on:{"update:filters":function(e){t.filters=e},detail:function(e){return t.newTab({name:"OtherDriverPayment",params:{id:e.id}})}}})],1)],1)],1)],1)},Gl=[],Kl={name:"Form",data:function(){return{filters:{},headers:[{text:"عطف",value:"id"},{text:"شماره",value:"code"},{text:"تاریخ",value:"date"},{text:"حمل کننده",value:"driving.driver.name"},{text:"ماشین",value:"driving.car.car_number_str",filterable:!1,sortable:!1},{text:"توضیحات",value:"explanation",type:""}]}}},Hl=Kl,Ql=Object(v["a"])(Hl,Wl,Gl,!1,null,"5ce0cb0d",null),Xl=Ql.exports;f()(Ql,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Jl=[{name:"Options",path:"options",component:Lo},{name:"DashtbashiCars",path:"dashtbashiCars",component:No},{name:"DashtbashiDrivers",path:"dashtbashiDrivers",component:Ho},{name:"Drivings",path:"drivings",component:er},{name:"Associations",path:"associations",component:rr},{name:"RevokeLadingBillNumber",path:"revokeLadingBillNumber",component:xr},{name:"LadingBillSeries",path:"ladingBillSeries/:id?",component:pr,props:!0},{name:"Remittance",path:"remittance/:id?",component:Er,props:!0},{name:"Lading",path:"Lading/:id?",component:Pr,props:!0},{name:"OilCompanyLading",path:"oilCompanyLading/:id?",component:Rr,props:!0},{name:"OtherDriverPayment",path:"otherDriverPayment/:id?",component:Yr,props:!0},{name:"OtherDriverPaymentReport",path:"OtherDriverPaymentReport",component:Qr,props:!0},{name:"RemittancesList",path:"remittancesList",component:al},{name:"LadingBillSeriesList",path:"ladingBillSeriesList",component:ll},{name:"LadingsList",path:"ladingsList",component:vl},{name:"OilCompanyLadingsList",path:"OilCompanyLadingsList/:detailed?",component:Tl,props:!0},{name:"LadingNumberReport",path:"ladingNumberReport",component:yl},{name:"LadingsReportForContractor",path:"ladingReportForContractor",component:Al},{name:"LadingsReportForDriver",path:"ladingReportForDriver",component:ql},{name:"TransportationCommissionReport",path:"transportationCommissionReport",component:zl},{name:"OtherDriverPaymentsList",path:"otherDriverPaymentsList",component:Xl}],Zl=(a("3ca3"),a("ddb0"),function(){return a.e("chunk-2d0b59d9").then(a.bind(null,"1a3f"))}),tc=function(){return a.e("chunk-2d0b61df").then(a.bind(null,"1c90"))},ec=function(){return a.e("chunk-2d207d15").then(a.bind(null,"a1c2"))},ac=function(){return a.e("chunk-2d0f0a4d").then(a.bind(null,"9cf3"))},ic=function(){return a.e("chunk-2d226005").then(a.bind(null,"e796"))},sc=function(){return a.e("chunk-2d0c7325").then(a.bind(null,"501e"))},nc=function(){return a.e("chunk-2d21f2c6").then(a.bind(null,"d961"))},oc=function(){return a.e("chunk-2d0e4aed").then(a.bind(null,"90ee"))},rc=function(){return a.e("chunk-2d0db243").then(a.bind(null,"6f30"))},lc=[{name:"Visitors",path:"visitors/:level",component:Zl,props:!0},{name:"CommissionRanges",path:"commissionRanges",component:tc},{name:"Paths",path:"paths/:level",component:ec,props:!0},{name:"Drivers",path:"drivers",component:ac},{name:"Distributors",path:"distributors",component:ic},{name:"Cars",path:"cars",component:sc},{name:"DistributionForm",path:"distribution/:id?",component:nc,props:!0},{name:"DistributionRemittance",path:"distributionRemittance/:id",component:oc,props:!0},{name:"DistributionsList",path:"lists/distributions",component:rc}],cc=a("830d"),uc=a("0a5b"),dc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست صورت وضییت ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{mydata:function(e){return t.getSum(e)},"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}},{key:"body.append",fn:function(e){e.headers;return[a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"7"}}),a("td",[t._v("جمع ")]),a("td",[t._v(t._s(t.sumOfAmounts))])])]}}])})],1)],1)},mc=[],pc=a("fa3b"),vc={name:"StatementList",component:{MDatatable:pc["a"]},props:{contractID:{}},data:function(){return{sumOfAmounts:0,url:"reports/statement/all",filters:{}}},computed:{headers:function(){return[{text:"شماره",value:"code",type:"numeric"},{text:"تاریخ",value:"date",type:"date"},{text:"قرارداد",value:"contract"},{text:"توضیحات",value:"explanation"},{text:"سریال",value:"serial",type:"numeric"},{text:"دسته بندی",value:"type"},{text:"مبلغ ناخالص کارکرد",value:"value",type:"numeric"},{text:"مبلغ ناخالص کارکرد تا صورت وضعیت قبلی",value:"previous_statement_value",type:"numeric"},{text:"مبلغ ناخالص کارکرد تا این صورت وضعیت",value:"present_statement_value",type:"numeric"},{text:"جزئیات",value:"detail",sortable:!1,filterable:!1}]}},created:function(){this.filters.contract=this.contractID},methods:{to:function(t){return{name:"StatementDetail",params:{id:t.id}}},getSum:function(t){var e,a=0,i=Object(c["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;a+=parseFloat(s.value)}}catch(n){i.e(n)}finally{i.f()}this.sumOfAmounts=a}}},hc=vc,fc=Object(v["a"])(hc,dc,mc,!1,null,"7df8bdf8",null),_c=fc.exports;f()(fc,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var bc=a("6086"),xc=a("be4c"),gc=a("77cd"),yc=a("0fdc"),kc=a("d646"),wc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"contractForm",attrs:{title:"جزییات قرارداد",showList:!1,listRoute:{name:"ContractList"},exportBaseUrl:"reports/contract/"+t.id,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,items:t.item,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"مناقصه",items:t.tenders,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.item.tender,callback:function(e){t.$set(t.item,"tender",e)},expression:"item.tender"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"عنوان قرارداد","background-color":"white",disabled:!t.isEditing},model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره قرارداد","background-color":"white",disabled:!t.isEditing},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" مبلغ قرارداد","background-color":"white",disabled:!t.isEditing},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"حداکثر میزان تغییر مبلغ قرارداد (درصد)","background-color":"white",disabled:!t.isEditing},model:{value:t.item.max_change_amount,callback:function(e){t.$set(t.item,"max_change_amount",e)},expression:"item.max_change_amount"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("account-select",{attrs:{label:"پیمانکار",disabled:!t.isEditing},model:{value:t.item.contractor,callback:function(e){t.$set(t.item,"contractor",e)},expression:"item.contractor"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"از تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.from_date,callback:function(e){t.$set(t.item,"from_date",e)},expression:"item.from_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تا تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.to_date,callback:function(e){t.$set(t.item,"to_date",e)},expression:"item.to_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ ثبت",default:!0,disabled:!t.isEditing},model:{value:t.item.registration,callback:function(e){t.$set(t.item,"registration",e)},expression:"item.registration"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ شروع",default:!0,disabled:!t.isEditing},model:{value:t.item.inception,callback:function(e){t.$set(t.item,"inception",e)},expression:"item.inception"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"حسن انجام کار","background-color":"white",disabled:!t.isEditing},model:{value:t.item.doing_job_well,callback:function(e){t.$set(t.item,"doing_job_well",e)},expression:"item.doing_job_well"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"علی الحساب بیمه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.insurance_payment,callback:function(e){t.$set(t.item,"insurance_payment",e)},expression:"item.insurance_payment"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"سایر","background-color":"white",disabled:!t.isEditing},model:{value:t.item.other,callback:function(e){t.$set(t.item,"other",e)},expression:"item.other"}})],1)],1)],t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"blue white--text darken-3 mt-6 mr-2 float-left",on:{click:function(e){return t.$router.push("/panel/statement/?contract="+t.item.id)}}},[t._v("ثبت صورت وضعیت ")]):t._e(),t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"blue white--text darken-3 mt-6 mr-2 float-left",on:{click:function(e){t.dialog=!0}}},[t._v("ثبت الحاقیه ")]):t._e(),t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"light-blue white--text mt-6  mr-2 float-left",on:{click:function(e){t.paymentDialog=!0}}},[t._v("ثبت سند ضمانتی پرداخت ")]):t._e(),t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"light-blue white--text mt-6 mr-6  float-left",on:{click:function(e){t.receivedDialog=!0}}},[t._v("ثبت دریافت ")]):t._e(),a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("supplement-form",{attrs:{"modal-mode":!0,contract:t.item.id,"max-change":parseFloat(t.item.amount)+parseFloat(t.item.amount)/100*parseFloat(t.item.max_change_amount),"min-change":parseFloat(t.item.amount)-parseFloat(t.item.amount)/100*parseFloat(t.item.max_change_amount)}})],1),a("v-dialog",{model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[a("transaction-form",{ref:"transactionPForm",attrs:{type:"paymentGuarantee","modal-mode":!1,id:t.payment.id},on:{submit:t.submit}})],1),a("v-dialog",{model:{value:t.receivedDialog,callback:function(e){t.receivedDialog=e},expression:"receivedDialog"}},[a("transaction-form",{ref:"transactionRForm",attrs:{type:"receive","modal-mode":!1,"contract-modal-mode":!0,id:t.payment.id},on:{submit:t.submit}})],1)],2),a("v-spacer",{staticStyle:{height:"50px"}}),a("v-toolbar",{staticStyle:{width:"98%",margin:"auto"},attrs:{color:"blue lighten-5"}},[a("v-tabs",{attrs:{color:"blue","slider-color":"blue"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab",{key:"1"},[t._v(" دریافت ها ")]),a("v-tab",{key:"2"},[t._v(" اسناد ضمانتی پرداختی ")]),a("v-tab",{key:"3"},[t._v(" الحاقیه ها ")]),a("v-tab",{key:"4"},[t._v(" صورت وضعیت ها ")])],1)],1),a("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tab-item",[a("v-card",[a("transactions-list",{attrs:{type:"receive",contract_received:t.id}})],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("transactions-list",{attrs:{type:"paymentGuarantee",contract_guarantee:t.id}})],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("supplement-list",{attrs:{"contract-i-d":t.id}})],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("statement-list",{attrs:{"contract-i-d":t.id}})],1)],1)],1)],1)},Cc=[],Ec=a("53c2"),$c=a("a974"),Tc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.remain",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getRemain(a))))]}},{key:"item.settle",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{color:"light-blue white--text",to:t.toSettle(i),text:""}},[t._v("تسویه")])]}},{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},Sc=[],Vc={name:"TransactionsList",props:{type:{},contract_received:{},contract_guarantee:{}},data:function(){return{filters:{},url:"reports/lists/transactions"}},computed:{title:function(){switch(this.type){case"receive":return"لیست دریافت ها";case"payment":return"لیست پرداخت ها";case"receivedGuarantee":return"لیست اسناد ضمانتی دریافتی";case"paymentGuarantee":return"لیست اسناد ضمانتی پرداختی";case"imprest":return"پرداخت های تنخواه"}},headers:function(){var t=[{text:"شماره",value:"code"},{text:"نام حساب",value:"account.name"},{text:"تاریخ",value:"date"},{text:"شرح",value:"explanation"},{text:"مبلغ مجموع",value:"sanad.bed",type:"numeric"}],e=[{text:"تاریخ تسویه",value:"imprestSettlement.date"},{text:"مبلغ تسویه شده",value:"imprestSettlement.settled_value",type:"numeric"},{text:"مانده",value:"remain",type:"numeric",sortable:!1,filterable:!1},{text:"تسویه",value:"settle",sortable:!1,filterable:!1}];return"imprest"==this.type&&(t=t.concat(e)),t.push({text:"جزئیات",value:"detail",sortable:!1,filterable:!1}),t}},created:function(){this.filters.type=this.type,this.filters.contract_received=this.contract_received,this.filters.contract_guarantee=this.contract_guarantee},watch:{$route:function(){this.$refs.datatable.getDataFromApi()}},methods:{getRemain:function(t){var e=0;return t.sanad&&(e=t.sanad.bed,t.imprestSettlement&&(e-=t.imprestSettlement.settled_value)),e},to:function(t){return{name:"TransactionForm",params:{type:this.type,id:t.id}}},toSettle:function(t){return{name:"ImprestSettlement",params:{id:t.id}}}}},Fc=Vc,Pc=Object(v["a"])(Fc,Tc,Sc,!1,null,"093df0c9",null),Dc=Pc.exports;f()(Pc,{VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var Ac={name:"ContractForm",mixins:[Lt["b"],Oa["a"],rs["a"],Us["a"],La["a"]],components:{mtime:Ke["a"],TreeSelect:Ec["a"],accountSelect:$c["a"],ContractList:uc["a"],SupplementForm:kc["default"],TransactionForm:gs["a"],TransactionsList:Dc,supplementList:yc["a"],statementList:_c},props:{id:{}},data:function(){return{paymentDialog:!1,receivedDialog:!1,tabs:null,text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",dialog:!1,hasLock:!0,isDefinable:!0,modalMode:!0,payment:{},accounts:[],classification:[{name:"کالا",value:"w"},{name:"خدمات با فهرست بها",value:"spl"},{name:"خدمات بدون فهرست بها",value:"npl"},{name:"مشاوره",value:"c"},{name:"سایر",value:"o"}],baseUrl:"contracting/contract",permissionBasename:"receiveTransaction",url:"reports/lists/sstransactions",appendSlash:!0,hasList:!1,hasIdProp:!0,isEditing:!1,tenders:[],PathLevels:d["b"],VisitorLevels:d["c"],localFilters:this.filters,filters:{id:125}}},computed:{headers:function(){return[{text:"عنوان",value:"title"},{text:"مناقصه",value:"tender"},{text:"شماره",value:"code",type:"numeric"},{text:"مبلغ",value:"amount",type:"numeric"},{text:"حداکثر میزان تغییر",value:"max_change_amount",type:"numeric"},{text:"پیمانکار",value:"contractor"},{text:"از تاریخ",value:"from_date",type:"date"},{text:"تا تاریخ",value:"to_date",type:"date"},{text:"تاریخ ثبت قرارداد",value:"registration",type:"date"},{text:"تاریخ شروع قرارداد",value:"inception",type:"date"},{text:"حسن انجام کار",value:"doing_job_well",type:"numeric"},{text:"علی الحساب بیمه",value:"insurance_payment",type:"numeric"},{text:"سایر",value:"other",type:"numeric"}]}},mounted:function(){var t=this;this.request({url:this.endpoint("contracting/tender/"),method:"get",success:function(e){for(var a in console.log(e),e)t.tenders.push({name:e[a].title,code:e[a].code,id:e[a].id});console.log(t.tenders)}})},beforeDestroy:function(){var t=this;this.$refs.transactionRForm.item.id&&this.request({url:this.endpoint("contracting/contract/received/"+this.$refs.contractForm.$props.exportParams.id+"/"+this.$refs.transactionRForm.item.id+"/"),method:"get",success:function(e){t.notify(" سند ثبت شد","success")}}),this.$refs.transactionPForm.item.id&&this.request({url:this.endpoint("contracting/contract/payment/"+this.$refs.contractForm.$props.exportParams.id+"/"+this.$refs.transactionPForm.item.id+"/"),method:"get",success:function(e){t.notify(" سند ثبت شد","success")}})}},Ic=Ac,jc=a("aac8"),Lc=Object(v["a"])(Ic,wc,Cc,!1,null,"0b48745b",null),Rc=Lc.exports;f()(Lc,{VAutocomplete:Xe["a"],VBtn:_["a"],VCard:tt["a"],VCol:it["a"],VDialog:nt["a"],VRow:ct["a"],VSpacer:dt["a"],VTab:Jt["a"],VTabItem:Zt["a"],VTabs:te["a"],VTabsItems:jc["a"],VTextField:pt["a"],VToolbar:ee["a"]});var Oc=function(){return Promise.resolve().then(a.bind(null,"6086"))},qc=function(){return Promise.resolve().then(a.bind(null,"be4c"))},Bc=function(){return Promise.resolve().then(a.bind(null,"77cd"))},Uc=function(){return Promise.resolve().then(a.bind(null,"d646"))},Mc=[{name:"Tender",path:"tender",component:Oc,props:!0,children:[{name:"TenderDetail",path:":id",component:bc["default"]}]},{name:"Contract",path:"contract",component:qc,props:!0,children:[{name:"ContractDetail",path:":id",component:xc["default"]}]},{name:"ContractAllDetails",path:"contract/details/:id?",component:Rc,props:!0},{name:"Statement",path:"statement",component:Bc,props:!0,children:[{name:"StatementDetail",path:":id",component:gc["default"]}]},{name:"Supplement",path:"supplement",component:Uc,props:!0,children:[{name:"SupplementDetail",path:":id",component:kc["default"]}]},{name:"TenderList",path:"tender/list",component:cc["a"]},{name:"ContractList",path:"contract/list",component:uc["a"]},{name:"StatementList",path:"statement/list",component:_c},{name:"SupplementList",path:"supplement/list",component:yc["a"]}],Nc=a("7dfd"),Yc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست پرسنل ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},zc=[],Wc={name:"PersonnelList",props:{},data:function(){return{url:"payroll/personnel/all",filters:{}}},computed:{headers:function(){return[{text:"نام",value:"name"},{text:"نام خانوادگی",value:"last_name"},{text:"نام پدر",value:"father_name"},{text:"کد پرسنلی",value:"personnel_code"},{text:"ملیت",value:"nationality_display"},{text:"جنسیت",value:"gender_display"},{text:"خدمت سربازی",value:"military_service_display"},{text:"شماره شناسنامه",value:"identity_code"},{text:"کد ملی",value:"national_code"},{text:"وضعیت تاهل",value:"marital_status_display"},{text:"تعداد فرزندان",value:"number_of_childes"},{text:"تاریخ تولد",value:"date_of_birth"},{text:"تاریخ صدور شناسنامه",value:"date_of_exportation"},{text:"محل تولد",value:"location_of_birth"},{text:"محل صدور شناسنامه",value:"location_of_exportation"},{text:"بخش محل صدور",value:"sector_of_exportation"},{text:"کد تلفن",value:"city_phone_code"},{text:"تلفن ثابت",value:"phone_number"},{text:"آدرس",value:"address"},{text:"کد پستی",value:"postal_code"},{text:"شماره همراه 1",value:"mobile_number_1"},{text:"شماره همراه 2",value:"mobile_number_2"},{text:"بیمه تامین اجتماعی",value:"insurance"},{text:"شماره بیمه",value:"insurance_code"},{text:"مدرک تحصیلی",value:"degree_education_display"},{text:"رشته تحصیلی",value:"field_of_study"},{text:"نوع دانشگاه",value:"university_type_display"},{text:"نام دانشگاه",value:"university_name"},{text:"نام بانک",value:"account_bank_name"},{text:"شماره حساب حقوق",value:"account_bank_number"},{text:"شماره کارت حقوق",value:"bank_cart_number"},{text:"شماره شبا",value:"sheba_number"}]}},methods:{to:function(t){return{name:"PersonnelDetail",params:{id:t.id}}}}},Gc=Wc,Kc=Object(v["a"])(Gc,Yc,zc,!1,null,"6e8ba125",null),Hc=Kc.exports;f()(Kc,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var Qc=a("2ecb"),Xc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست پرسنل در کارگاه ")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},Jc=[],Zc={name:"WorkshopPersonnelList",props:{},data:function(){return{url:"payroll/workshop/personnel/all",filters:{}}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop_name"},{text:" پرسنل",value:"personnel_name"},{text:" محل خدمت",value:"job_location"},{text:"عنوان شغلی",value:"work_title"},{text:" تاریخ استخدام",value:"employment_date"},{text:"وضعیت محل خدمت",value:"job_location_status_display"},{text:"سابقه بیمه قبلی خارج این کارگاه",value:"previous_insurance_history_out_workshop"},{text:"سابقه بیمه قبلی در کارگاه",value:"previous_insurance_history_in_workshop"},{text:"سابقه بیمه جاری در کارگاه",value:"current_insurance_history_in_workshop"},{text:"مجموع سوابق بیمه ای",value:"insurance_history_totality"},{text:"سمت",value:"job_position"},{text:"رسته شغلی",value:"job_group_display"},{text:"نوع استخدام",value:"employment_type_display"},{text:"نوع قرارداد",value:"contract_type_display"},{text:"وضعیت کارمند",value:"employee_status_display"}]}},methods:{to:function(t){return{name:"WorkshopPersonnelDetail",params:{id:t.id}}}}},tu=Zc,eu=Object(v["a"])(tu,Xc,Jc,!1,null,"b71b288a",null),au=eu.exports;f()(eu,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var iu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست پیمان ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,"export-url":t.exportUrl,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},su=[],nu={name:"ContractRowList",props:{},data:function(){return{url:"payroll/contractRows/all",exportUrl:"payroll/contractRows/all",filters:{}}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop"},{text:"ردیف پیمان",value:"contract_row",type:"numeric"},{text:"شماره قرارداد",value:"contract_number"},{text:"تاریخ قرارداد",value:"registration_date"},{text:"تاریخ شروع قرارداد",value:"from_date"},{text:"تاریخ پایان قرارداد",value:"to_date"},{text:"شناسه ملی واگذار کننده",value:"assignor_national_code"},{text:"نام واگذار کننده",value:"assignor_name"},{text:"کد کارگاه واگذار کننده",value:"assignor_workshop_code"},{text:"شعبه",value:"branch"},{text:"مبلغ اولیه قرارداد",value:"contract_initial_amount"},{text:"وضعیت",value:"status_display"}]}},methods:{to:function(t){return{name:"ContractRowDetail",params:{id:t.id}}}}},ou=nu,ru=Object(v["a"])(ou,iu,su,!1,null,"f84179c2",null),lu=ru.exports;f()(ru,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var cu=a("33e5"),uu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست مرخصی ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},du=[],mu={name:"AbsenceList",props:{},data:function(){return{url:"payroll/absence/all",filters:{}}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display",filterable:!1},{text:"نوع",value:"leave_type_display",filterable:!1},{text:"مدت به روز",value:"time_period",filterable:!1},{text:"از تاریخ",value:"from_date",filterable:!1},{text:"تا تاریخ",value:"to_date",filterable:!1},{text:"توضیحات",value:"explanation",filterable:!1}]}},methods:{to:function(t){return{name:"AbsenceDetail",params:{id:t.id}}}}},pu=mu,vu=Object(v["a"])(pu,uu,du,!1,null,"2f5c59bf",null),hu=vu.exports;f()(vu,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var fu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست حکم های کارگزینی")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},_u=[],bu={name:"HRLetterList",props:{},data:function(){return{url:"payroll/hrletter/all",filters:{}}},computed:{headers:function(){return[{text:" قالب ",value:"is_template_display",filterable:!1},{text:" قرارداد",value:"contract"},{text:"نام",value:"name"},{text:"مزد مبنای روزانه",value:"daily_pay_base",type:"numeric",filterable:!1},{text:"مزد مبنای ماهانه",value:"monthly_pay_base",type:"numeric",filterable:!1},{text:"مزد ساعتی بر مبنای روزانه",value:"day_hourly_pay_base",type:"numeric",filterable:!1},{text:" مزد ساعتی بر  مبنای ماهانه",value:"month_hourly_pay_base",type:"numeric",filterable:!1},{text:"غیر قابل تغییر",value:"pay_done",filterable:!1}]}},methods:{to:function(t){return{name:"HRLetterDetail",params:{id:t.id}}}}},xu=bu,gu=Object(v["a"])(xu,fu,_u,!1,null,"693fb4fe",null),yu=gu.exports;f()(gu,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var ku=a("b3b9"),wu=(a("a738"),a("8865")),Cu=a("eff1"),Eu=a("79b5"),$u=a("cfc0"),Tu=a("788d"),Su=a("10f1"),Vu=a("fd79"),Fu=a("dbe6"),Pu=a("3f39"),Du=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست ماموریت ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},Au=[],Iu={name:"MissionList",props:{},data:function(){return{url:"payroll/mission/all",filters:{}}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display"},{text:" نوع",value:"mission_type_display"},{text:" مدت به روز",value:"time_period"},{text:" از تاریخ",value:"from_date"},{text:" تا تاریخ",value:"to_date"},{text:" مکان",value:"location"},{text:" موضوع",value:"topic"}]}},methods:{to:function(t){return{name:"MissionDetail",params:{id:t.id}}}}},ju=Iu,Lu=Object(v["a"])(ju,Du,Au,!1,null,"2e7772b0",null),Ru=Lu.exports;f()(Lu,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var Ou=a("6c6e"),qu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست حقوق و دستمزد")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,"show-export-btns":!1,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},Bu=[],Uu={name:"PaymentList",props:{},data:function(){return{url:"payroll/listOfPay/all",filters:{}}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop_display"},{text:" سال",value:"year"},{text:" ماه",value:"month_name"},{text:" از",value:"start_date"},{text:" تا",value:"end_date"},{text:" نهایی شده؟",value:"ultimate_display"}]}},methods:{to:function(t){return{name:"ListOfPayDetail",params:{id:t.id}}}}},Mu=Uu,Nu=Object(v["a"])(Mu,qu,Bu,!1,null,"316f6e76",null),Yu=Nu.exports;f()(Nu,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var zu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{staticClass:"mt-10 mr-5 ml-5",attrs:{color:"indigo",dark:""}},[a("v-toolbar-title",[t._v("حقوق و دستمزد")]),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("span",{staticClass:"subheading mr-4 ml-4"},[t._v("کارگاه : "+t._s(t.list_of_pay.workshop_display))]),a("v-divider",{staticClass:"mr-2 ml-2",attrs:{vertical:""}}),a("span",{staticClass:"subheading mr-4 "},[t._v("سال : "+t._s(t.list_of_pay.year))]),a("v-divider",{staticClass:"mr-4",attrs:{vertical:""}}),a("span",{staticClass:"subheading mr-2 ml-2 "},[t._v(" ماه : "+t._s(t.list_of_pay.month_name))]),a("v-divider",{staticClass:"mr-2 ml-2",attrs:{vertical:""}}),a("v-spacer"),t._v(" حقوق و دستمزد جامع : "),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"چاپ",icon:""},on:{click:function(e){return t.printThis("html")}}},[a("v-icon",[t._v("fa-print")])],1),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printThis("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1),a("v-spacer"),t._v(" گزارش مالیات ماه : "),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"فایل مالیات",href:this.endpoint("payroll/diskette/tax/"+this.$route.params.id+"/?token="+this.token),icon:""}},[a("v-icon",[t._v("fa-file-download")])],1),a("v-spacer"),t._v(" گزارش خلاصه مالیات ماه : "),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"فایل مالیات",href:this.endpoint("payroll/diskette/tax/summary/"+this.$route.params.id+"/?token="+this.token),icon:""}},[a("v-icon",[t._v("fa-file-download")])],1),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printTaxWorkshop("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1),a("v-spacer"),t._v(" گزارش بیمه : "),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"فایل بیمه",href:this.endpoint("payroll/diskette/insurance/"+this.$route.params.id+"/?token="+this.token),icon:""}},[a("v-icon",[t._v("fa-file-download")])],1),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 ml-3 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printInsurance("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1)],1),a("v-card-actions",{staticClass:"justify-end mt-4"},[t.list_of_pay.pay_done?t._e():a("v-btn",{staticClass:"ml-5 white--text pl-2 pr-2",attrs:{color:"green darken-3",large:""},on:{click:function(e){return t.goPay()}}},[t._v(" پرداخت حقوق")]),t.list_of_pay.pay_done?a("v-btn",{staticClass:"ml-5 white--text pl-2 pr-2",attrs:{color:"blue darken-3",large:""},on:{click:function(e){return t.goPay()}}},[t._v("نمایش حقوق پرداخت شده")]):t._e()],1),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,e:"",exportUrl:t.exportUrl,apiUrl:t.url,filters:t.filters,"show-export-btns":!1},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])}),a("m-datatable",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"exportTable",attrs:{headers:t.headers,apiUrl:t.url,exportUrl:t.export_url,filters:t.export_filter},on:{"update:filters":function(e){t.export_filter=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},Wu=[],Gu={name:"PaymentItemList",props:{},data:function(){return{url:"payroll/listOfPayItem/less",exportUrl:"payroll/payroll",export_url:"payroll/payroll",filters:{list_of_pay:this.$route.params.id},export_filter:{id:this.$route.params.id},list_of_pay:null,my_list:null}},mounted:function(){var t=this;this.request({url:this.endpoint("payroll/paylist/less/"+this.$route.params.id+"/"),method:"get",success:function(e){t.list_of_pay=e}}),this.request({url:this.endpoint("payroll/paylist/bank/"+this.$route.params.id+"/"),method:"get",success:function(e){console.log(e),t.my_list=e}})},computed:{headers:function(){return[{text:"پرسنل در کارگاه",value:"personnel_name"},{text:"بیمه مبشود؟",value:"is_insurance_display"},{text:"کارکرد عادی",value:"normal_worktime"},{text:"کارکرد واقعی",value:"real_worktime"},{text:"حقوق",value:"total_payment"}]}},methods:{to:function(t){return{name:"ListOfPayItemForm",params:{id:t.id}}},printThis:function(t){this.$refs.exportTable.exportTo(t)},goPay:function(){this.$router.push("/panel/pay/"+this.$route.params.id+"/")},printInsurance:function(t){this.export_filter={id:this.$route.params.id},this.export_url="payroll/total/insurance/report",this.$refs.exportTable.exportTo(t)},printTax:function(t){this.export_filter={id:this.$route.params.id},this.export_url="payroll/tax/report",this.$refs.exportTable.exportTo(t)},printTaxWorkshop:function(t){this.export_filter={id:this.$route.params.id},this.export_url="payroll/month/tax",this.$refs.exportTable.exportTo(t)}}},Ku=Gu,Hu=Object(v["a"])(Ku,zu,Wu,!1,null,"7fc85bd0",null),Qu=Hu.exports;f()(Hu,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VDivider:Ma["a"],VIcon:b["a"],VSpacer:dt["a"],VToolbar:ee["a"],VToolbarTitle:ae["a"]});var Xu=a("bbe6"),Ju=a("21e4"),Zu=a("eef6"),td=a("6dca"),ed=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست کسورات اختیاری")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},ad=[],id={name:"DeductionList",props:{},data:function(){return{url:"payroll/deduction/all",filters:{}}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display"},{text:"تاریخ",value:"start_date"},{text:"قالب است؟",value:"is_template"},{text:"نام",value:"name"},{text:"نام قالب",value:"template_name"},{text:"مبلغ",value:"amount"},{text:"تعداد اقساط",value:"episode"},{text:"مبلغ هر قسط",value:"monthly_pay"}]}},methods:{to:function(t){return{name:"LoanDetail",params:{id:t.id}}}}},sd=id,nd=Object(v["a"])(sd,ed,ad,!1,null,"4755f66c",null),od=nd.exports;f()(nd,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var rd=a("093e"),ld=a("005e"),cd=(a("a734"),function(){return Promise.resolve().then(a.bind(null,"b3b9"))}),ud=function(){return Promise.resolve().then(a.bind(null,"a738"))},dd=function(){return Promise.resolve().then(a.bind(null,"8865"))},md=function(){return Promise.resolve().then(a.bind(null,"eff1"))},pd=function(){return Promise.resolve().then(a.bind(null,"cfc0"))},vd=function(){return Promise.resolve().then(a.bind(null,"10f1"))},hd=function(){return Promise.resolve().then(a.bind(null,"79b5"))},fd=function(){return Promise.resolve().then(a.bind(null,"788d"))},_d=function(){return Promise.resolve().then(a.bind(null,"fd79"))},bd=function(){return Promise.resolve().then(a.bind(null,"dbe6"))},xd=function(){return Promise.resolve().then(a.bind(null,"3f39"))},gd=function(){return Promise.resolve().then(a.bind(null,"6c6e"))},yd=function(){return Promise.resolve().then(a.bind(null,"21e4"))},kd=function(){return Promise.resolve().then(a.bind(null,"6dca"))},wd=function(){return Promise.resolve().then(a.bind(null,"093e"))},Cd=function(){return Promise.resolve().then(a.bind(null,"005e"))},Ed=function(){return Promise.resolve().then(a.bind(null,"a734"))},$d=[{name:"Workshop",path:"workshop",component:cd,props:!0,children:[{name:"WorkshopDetail",path:":id",component:ku["default"]}]},{name:"WorkshopList",path:"workshop/list",component:Nc["a"]},{name:"WorkshopSetting",path:"setting",component:dd,props:!0,children:[{name:"WorkshopSettingDetail",path:":id",component:wu["default"]}]},{name:"Personnel",path:"personnel",component:md,props:!0,children:[{name:"PersonnelDetail",path:":id",component:Cu["default"]}]},{name:"PersonnelList",path:"personnel/list",component:Hc},{name:"TaxRow",path:"tax_row",component:yd,props:!0,children:[{name:"TaxRowDetail",path:":id",component:Ju["default"]}]},{name:"TaxRowList",path:"tax_row/list",component:Xu["a"]},{name:"ContractRow",path:"contract_row",component:hd,props:!0,children:[{name:"ContractRowDetail",path:":id",component:Eu["default"]}]},{name:"ContractRowList",path:"contract_row/list",component:lu},{name:"PersonnelFamily",path:"personnel_family",component:pd,props:!0,children:[{name:"PersonnelFamilyDetail",path:":id",component:$u["default"]}]},{name:"PersonnelFamilyList",path:"personnel_family/list",component:cu["a"]},{name:"WorkshopContract",path:"workshop_contract",component:fd,props:!0,children:[{name:"WorkshopContractDetail",path:":id",component:Tu["default"]}]},{name:"WorkshopContractList",path:"workshop_contract/list",component:Qc["a"]},{name:"WorkshopPersonnel",path:"workshop_personnel",component:vd,props:!0,children:[{name:"WorkshopPersonnelDetail",path:":id",component:Su["default"]}]},{name:"WorkshopPersonnelList",path:"workshop_personnel/list",component:au},{name:"Absence",path:"absence",component:_d,props:!0,children:[{name:"AbsenceDetail",path:":id",component:Vu["default"]}]},{name:"AbsenceList",path:"absence/list",component:hu},{name:"HRLetter",path:"hr_letter",component:bd,props:!0,children:[{name:"HRLetterDetail",path:":id",component:Fu["default"]}]},{name:"HRLetterList",path:"hrLetter/list",component:yu},{name:"Mission",path:"mission",component:xd,props:!0,children:[{name:"MissionDetail",path:":id",component:Pu["default"]}]},{name:"MissionList",path:"mission/list",component:Ru},{name:"Payment",path:"payment",component:gd,props:!0,children:[{name:"PaymentDetail",path:":id",component:Ou["default"]}]},{name:"PaymentList",path:"ListOfPay",component:Yu},{name:"ListOfPayItem",path:"listOfPayItem",component:Qu,children:[{name:"ListOfPayDetail",path:":id",component:Qu}]},{name:"WorkshopInfo",path:"info/workshop",component:ud},{name:"Loan",path:"loan",component:kd,props:!0,children:[{name:"LoanDetail",path:":id",component:td["default"]}]},{name:"LoanList",path:"loan/list",component:Zu["a"]},{name:"Deduction",path:"deduction",component:wd,props:!0,children:[{name:"DeductionDetail",path:":id",component:rd["default"]}]},{name:"DeductionList",path:"deduction/list",component:od},{name:"ListOfPayItemForm",path:"listOfPayItemForm",component:Ed,children:[{name:"ListOfPayItemForm",path:":id",component:Ed}]},{name:"payForm",path:"pay",component:Cd,children:[{name:"pay",path:":id",component:ld["default"]}]}],Td=[{name:"Panel",path:"/panel",component:At,children:[].concat(Object(bt["a"])(Jl),Object(bt["a"])(lc),Object(bt["a"])(Mc),Object(bt["a"])($d),[{name:"Profile",path:"profile",component:se},{name:"Home",path:"home",component:Ce},{name:"NotificationForm",path:"notificationForm/:type",component:ta,props:!0},{name:"NotificationsList",path:"notificationsList",component:ze},{name:"Users",path:"users/:id?",component:ra},{name:"UserInvitations",path:"userInvitations",component:pa},{name:"Roles",path:"roles",component:$a},{name:"Cities",path:"cities",component:Aa},{name:"Companies",path:"companies",component:Pe},{name:"FinancialYears",path:"financialYears",component:qe},{name:"AccountsTree",path:"accounts/tree",component:fi},{name:"Accounts",path:"accounts/:level/:accountType?",component:za,props:!0},{name:"FloatAccountGroups",path:"floatAccountGroups/:is_cost_center?",component:ii,props:!0},{name:"FloatAccounts",path:"floatAccounts/:is_cost_center?",component:Xa,props:!0},{name:"WaresTree",path:"wares/tree",component:Ii},{name:"Wares",path:"wares/:level",component:Si,props:!0},{name:"Warehouses",path:"warehouses",component:Bi},{name:"Units",path:"units",component:Wi},{name:"SalePriceTypes",path:"salePriceTypes",component:Ji},{name:"DefaultAccounts",path:"defaultAccounts/:usage",component:ki,props:!0},{name:"Transaction",path:"transaction",component:xs,children:[{name:"BankingOperations",path:"bankingOperations",component:Ts},{name:"TransactionForm",path:":type/:id?",component:gs["a"],props:function(t){return Object(o["a"])({accountId:t.query.accountId},t.params)}}]},{name:"ImprestSettlement",path:"imprestSettlement/:id?",props:!0,component:wo},{name:"Sanad",path:"sanad",component:ss,children:[{name:"SanadForm",path:"form/:id?",props:!0,component:ps}]},{name:"Factor",path:"factor",component:js,children:[{name:"FactorForm",path:"form/:isPreFactor/:type/:id?",component:Xs,props:function(t){var e=[!0,"true"].includes(t.params.isPreFactor);return Object(o["a"])(Object(o["a"])(Object(o["a"])({},t.query),t.params),{},{isPreFactor:e})}},{name:"FactorExpenses",path:"expenses/:factorType",props:!0,component:sn},{name:"FactorsAggregatedSanadForm",path:"aggregatedSanadForm/:type/:id?",props:!0,component:mn}]},{name:"TransferForm",path:"transfer/form/:id?",component:bn,props:!0},{name:"AdjustmentForm",path:"adjustment/form/:type/:id?",component:Cn,props:!0},{name:"WarehouseHandlingForm",path:"warehouseHandling/form/:id?",component:Fn,props:!0},{name:"Cheque",path:"cheque",component:Nn,children:[{name:"ChequeDetail",path:":id/detail",component:io,props:!0},{name:"ChequeForm",path:"form/:type/:isPaid/:id?",component:so["a"],props:function(t){return Object(o["a"])(Object(o["a"])({},t.params),{},{isPaid:[!0,"true"].includes(t.params.isPaid)})}}]},{name:"ChequebookForm",path:"chequebooks/:id?",component:Rn,props:!0},{name:"ExportVerifiers",path:"exportVerifiers",component:uo},{name:"Closing",path:"closing",component:_o},{name:"DefaultTexts",path:"defaultTexts/:usage",component:Fo,props:!0}])}],Sd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.remain",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getRemain(a))))]}},{key:"item.settle",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{color:"light-blue white--text",to:t.toSettle(i),text:""}},[t._v("تسویه")])]}},{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},Vd=[],Fd={name:"FactorsList",mixins:[Us["a"]],props:{type:{},isPreFactor:{}},data:function(){return{filters:{},url:"reports/lists/factors"}},computed:{title:function(){return"لیست "+this.getFactorTitle(this.type,this.isPreFactor)},headers:function(){var t=[{text:"شماره",value:"temporary_code"},{text:"تاریخ",value:"date",type:"date"},{text:"ساعت",value:"time"},{text:["buy","backFromBuy"].includes(this.type)?"فروشنده":"حساب",value:"account.name"},{text:"شرح",value:"explanation"},{text:"مبلغ کل فاکتور",value:"total_sum",type:"numeric"},{text:"قطعی",value:"is_defined",type:"boolean"}];return"cw"!=this.type&&t.push({text:"مالیات ",value:"has_tax",type:"boolean"}),t.push({text:"جزئیات",value:"detail",sortable:!1,filterable:!1}),t}},created:function(){this.filters.type=this.type,this.filters.is_pre_factor=this.isPreFactor},watch:{$route:function(){this.filters.type=this.type,this.filters.is_pre_factor=this.isPreFactor,this.$refs.datatable.getDataFromApi()}},methods:{to:function(t){return{name:"FactorForm",params:{isPreFactor:t.is_pre_factor,type:this.type,id:t.id}}}}},Pd=Fd,Dd=Object(v["a"])(Pd,Sd,Vd,!1,null,"f28fc7a6",null),Ad=Dd.exports;f()(Dd,{VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var Id=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},jd=[],Ld={name:"FactorsList",mixins:[Us["a"]],props:{type:{}},data:function(){return{filters:{},url:"reports/lists/factorsAggregatedSanads"}},computed:{title:function(){return"لیست اسناد تجمیعی "+this.getFactorTitle(this.type,!1)},headers:function(){var t=[{text:"شماره",value:"code"},{text:"تاریخ",value:"date",type:"date"},{text:"توضیحات",value:"explanation"}];return t.push({text:"جزئیات",value:"detail",sortable:!1,filterable:!1}),t}},created:function(){this.filters.type=this.type},watch:{$route:function(){this.filters.type=this.type,this.$refs.datatable.getDataFromApi()}},methods:{to:function(t){return{name:"FactorsAggregatedSanadForm",params:{type:this.type,id:t.id}}}}},Rd=Ld,Od=Object(v["a"])(Rd,Id,jd,!1,null,"5c86c08c",null),qd=Od.exports;f()(Od,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var Bd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(" "+t._s(t.title)+" "),a("v-spacer"),a("v-btn",{staticClass:"teal white--text mr-md-1",attrs:{block:t.isXs,small:""},on:{click:function(e){return t.reorderSanads("date")}}},[t._v("مرتب کردن کد اسناد بر اساس تاریخ ")]),a("v-btn",{staticClass:"teal white--text mr-md-1 mt-1 mt-md-0",attrs:{block:t.isXs,small:""},on:{click:function(e){return t.reorderSanads("local_id")}}},[t._v("مرتب کردن کد اسناد بر اساس عطف ")]),a("v-btn",{staticClass:"teal white--text mr-md-1 mt-1 mt-md-0",attrs:{block:t.isXs,small:""},on:{click:function(e){return t.reorderSanads(null)}}},[t._v("بازگردانی کد اسناد به حالت اولیه ")]),a("div",{on:{mouseenter:t.list_export}},[a("v-btn",{staticClass:"export-btn mr-3 block",on:{click:function(e){return t.$refs.datatable.exportTo("html")}}},[t._v("چاپ لیست اسناد")]),a("v-btn",{staticClass:"export-btn mt-2 mt-sm-0 mr-md-1",on:{click:function(e){return t.$refs.datatable.exportTo("pdf")}}},[t._v("خروجی PDF لیست اسناد ")]),a("v-btn",{staticClass:"export-btn mt-2 ml-4 mt-sm-0 mr-md-1",on:{click:function(e){return t.$refs.datatable.exportTo("xlsx")}}},[t._v("خروجی اکسل لیست اسناد ")])],1)],1),a("v-card-text",[a("div",{on:{mouseenter:t.normal_view}},[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)])],1)},Ud=[],Md=(a("25f0"),a("8baf"),a("1146"),{name:"SanadsList",props:{type:{default:"all"}},data:function(){return{filters:{}}},computed:{url:function(){switch(this.filters={},this.type){case"all":return"reports/lists/sanads";case"unbalanced":return"reports/lists/sanads/unbalanced";case"empty":return"reports/lists/sanads/empty";case"notDefined":return this.filters={is_defined:!1},"reports/lists/sanads"}},title:function(){switch(this.type){case"all":return"لیست اسناد";case"unbalanced":return"لیست اسناد نامتوازن";case"empty":return"لیست اسناد خالی";case"notDefined":return"لیست اسناد غیر قطعی"}},headers:function(){var t=[{text:"عطف",value:"local_id"},{text:"شماره",value:"code"},{text:"بدهکار",value:"bed"},{text:"بستانکار",value:"bes"},{text:"تاریخ",value:"date"},{text:"سیستمی",value:"is_auto_created",type:"boolean"},{text:"قطعی",value:"is_defined",type:"boolean"},{text:"توضیحات",value:"explanation"},{text:"کاربر",value:"created_by.name"}];return t.push({text:"جزئیات",value:"detail",sortable:!1,filterable:!1}),t}},methods:{list_export:function(){this.$refs.datatable.$data.list_view=!0},normal_view:function(){this.$refs.datatable.$data.list_view=!1},cl:function(t,e){console.log(this.to(e.item))},to:function(t){return{name:"SanadForm",params:{id:t.id}}},confirm:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return!(!confirm("با انجام این عملیات کد اسناد تغییر میکنند. میخواهید ادامه دهید؟")||!confirm("از انجام این عملیات اطمینان دارید؟"))})),reorderSanads:function(t){var e=this;this.confirm()&&this.request({url:this.endpoint("sanads/reorder"),method:"post",data:{order:t},success:function(t){e.successNotify(),e.$refs.datatable.getDataFromApi()}})}}}),Nd=Md,Yd=Object(v["a"])(Nd,Bd,Ud,!1,null,"c90cf784",null),zd=Yd.exports;f()(Yd,{VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VSpacer:dt["a"]});var Wd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("v-row",[[a("v-col",{attrs:{cols:"12"}},[a("sanad-item-list-report",{attrs:{filters:t.filters,showAccountInTable:t.showAccountInTable,sortable:!0,filterable:!0,showRemain:!1,showPreviousRemain:!0,showLink:!0,headers:t.headers,colspan:11},on:{"update:filters":function(e){t.filters=e}}})],1)]],2)],1)],1)],1)],1)},Gd=[],Kd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-datatable",{attrs:{headers:t.getHeaders(),"api-url":"reports/sanadItems",filters:t.localFilters,previousApiData:t.previousApiData,currentApiData:t.apiData},on:{"update:filters":function(e){t.localFilters=e},"update:previousApiData":function(e){t.previousApiData=e},"update:previous-api-data":function(e){t.previousApiData=e},"update:currentApiData":function(e){t.apiData=e},"update:current-api-data":function(e){t.apiData=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i.sanad),"new-tab":!0}})]}},{key:"item.sanad_form",fn:function(e){var i=e.item;return[t.getRelatedForm(i.sanad)?a("v-btn",{staticClass:"blue--text",attrs:{text:"",outlined:"",to:t.getRelatedForm(i.sanad).to}},[t._v(t._s(t.getRelatedForm(i.sanad).title))]):t._e()]}},t.apiData.previous?{key:"body.prepend",fn:function(e){e.headers;return[a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:t.colspan}}),a("td",[t._v("منقول از صفحه قبل")]),t.showAccountInTable?a("td",{attrs:{colspan:"2"}}):t._e(),t.showFinancialYear?a("td",{attrs:{colspan:"2"}}):t._e(),a("td",[t._v(t._s(t._f("toMoney")(t.previousLastItem.comulative_bed)))]),a("td",[t._v(t._s(t._f("toMoney")(t.previousLastItem.comulative_bes)))]),t.showRemain?[a("td",[t._v(t._s(t._f("toMoney")(t.previousLastItem.remain)))]),a("td",[t._v(t._s(t.previousLastItem.remain_type))])]:t._e()],2)]}}:t.showPreviousRemain&&t.lastItem?{key:"body.prepend",fn:function(e){e.headers;return[a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:t.colspan}}),a("td",[t._v("مانده از قبل")]),t.showAccountInTable?a("td",{attrs:{colspan:"2"}}):t._e(),t.showFinancialYear?a("td",{attrs:{colspan:"2"}}):t._e(),a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.previous_bed)))]),a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.previous_bes)))]),t.showRemain?[a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.previous_remain)))]),a("td",[t._v(t._s(t.lastItem.previous_remain_type))])]:t._e()],2)]}}:null,t.apiData.results.length?{key:"body.append",fn:function(e){e.headers;return[a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:t.colspan}}),a("td",[t._v("جمع این صفحه")]),t.showAccountInTable?a("td",{attrs:{colspan:"2"}}):t._e(),t.showFinancialYear?a("td",{attrs:{colspan:"2"}}):t._e(),a("td",[t._v(t._s(t._f("toMoney")(t.pageSum["bed"])))]),a("td",[t._v(t._s(t._f("toMoney")(t.pageSum["bes"])))]),t.showRemain?[a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.remain)))]),a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.remain_type)))])]:t._e()],2),a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:t.colspan}}),a("td",[t._v("جمع تا این صفحه")]),t.showAccountInTable?a("td",{attrs:{colspan:"2"}}):t._e(),t.showFinancialYear?a("td",{attrs:{colspan:"2"}}):t._e(),a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.comulative_bed)))]),a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.comulative_bes)))]),t.showRemain?[a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.remain)))]),a("td",[t._v(t._s(t._f("toMoney")(t.lastItem.remain_type)))])]:t._e()],2)]}}:null,t._l(t.$scopedSlots,(function(e,a){return{key:a,fn:function(e){return[t._t(a,null,null,e)]}}}))],null,!0)})},Hd=[],Qd={name:"SanadItemListReport",mixins:[La["a"]],props:{filters:{},headers:{default:null},showAccountInTable:{required:!0},showFinancialYear:{required:!1,default:!1},showLink:{required:!0},sortable:{required:!0},filterable:{required:!0},showRemain:{required:!0},showPreviousRemain:{required:!0},colspan:{default:4}},data:function(){return{apiData:{results:[]},localFilters:this.filters,previousApiData:null}},computed:{lastItem:function(){return this.apiData.results[this.apiData.results.length-1]},previousLastItem:function(){return this.previousApiData?this.previousApiData.results[this.previousApiData.results.length-1]:null},previousRemain:function(){if(this.apiData.results.length){var t=this.apiData.results[0];return Math.abs(t.comulative_bed-+t.bed-(t.comulative_bes-+t.bes))}return 0},previousRemainType:function(){if(this.apiData.results.length){var t=this.apiData.results[0],e=t.comulative_bed-+t.bed-(t.comulative_bes-+t.bes);if(e>0)return"بد";if(e<0)return"بس"}return" - "},pageSum:function(){var t=0,e=0;return this.apiData.results.forEach((function(a){t+=+a.bed,e+=+a.bes})),{bed:t,bes:e}}},watch:{filters:{deep:!0,handler:function(){var t=this;Object.keys(this.filters).forEach((function(e){t.filters[e]!=t.localFilters[e]&&(t.localFilters[e]=t.filters[e])}))}}},methods:{getHeaders:function(){if(this.headers)return this.headers;var t=[{text:"سال مالی",value:"financial_year.name",sortable:this.sortable,filterable:this.filterable,show:this.showFinancialYear},{text:"تاریخ",value:"sanad.date",type:"date",sortable:this.sortable,filterable:this.filterable},{text:"شماره سند",value:"sanad.code",sortable:this.sortable,filterable:this.filterable,showRangeFilter:!0},{text:"شرح",value:"explanation",sortable:this.sortable,filterable:this.filterable},{text:"کد حساب",value:"account.code",showRangeFilter:!0,sortable:!1,show:this.showAccountInTable},{text:"نام حساب",value:"account.name",sortable:!1,show:this.showAccountInTable},{text:"بدهکار",value:"bed",type:"numeric",sortable:this.sortable,filterable:this.filterable},{text:"بستانکار",value:"bes",type:"numeric",sortable:this.sortable,filterable:this.filterable},{text:"مانده",value:"remain",type:"numeric",sortable:!1,filterable:!1,align:"center",show:this.showRemain},{text:"تشخیص",value:"remain_type",sortable:!1,filterable:!1,align:"center",show:this.showRemain},{text:"سند سیستمی",value:"sanad.is_auto_created",type:"boolean",sortable:!1,filterable:!1,align:"center"},{text:"فرم",value:"sanad_form",sortable:!1,filterable:!1,align:"center"},{text:"مشاهده سند",value:"detail",sortable:!1,filterable:!1,align:"left",hideInExport:!0,show:this.showLink}];return t},to:function(t){return{name:"SanadForm",params:{id:t.id}}},getRelatedForm:function(t){for(var e=[{name:"factor",title:"فاکتور",routeName:"FactorForm",params:{isPreFactor:!1}},{name:"adjustment",title:"تعدیل",routeName:"AdjustmentForm"},{name:"lading",title:"بارگیری",routeName:"Lading"},{name:"oilCompanyLading",title:"بارگیری شرکت نفت",routeName:"OilCompanyLading"},{name:"statusChange",title:"چک",routeName:"ChequeDetail"},{name:"transaction",title:"دریافت/پرداخت",routeName:"TransactionForm"},{name:"imprestSettlement",title:"تسویه تنخواه",routeName:"ImprestSettlement"}],a=0,i=e;a<i.length;a++){var s=i[a],n=t[s["name"]];if(n){var r=s.params?s.params:{};return{title:s.title,to:{name:s.routeName,params:Object(o["a"])({id:n.id,type:n.type},r)}}}}return null}}},Xd=Qd,Jd=Object(v["a"])(Xd,Kd,Hd,!1,null,"66659d9c",null),Zd=Jd.exports;f()(Jd,{VBtn:_["a"]});var tm={name:"SanadItemsList",mixins:[_l["a"],La["a"]],components:{SanadItemListReport:Zd},data:function(){return{filters:{}}},computed:{title:function(){return"جزئیات اسناد"},headers:function(){return[{text:"عطف",value:"sanad.local_id"},{text:"شماره سند",value:"sanad.code"},{text:"تاریخ",value:"sanad.date",type:"date"},{text:"سیستمی",value:"is_auto_created",type:"boolean"},{text:"کاربر",value:"created_by.name"},{text:"شرح",value:"sanad.explanation"},{text:"شرح ردیف",value:"explanation"},{text:"کد حساب",value:"account.code"},{text:"نام حساب",value:"account.name"},{text:"شناور",value:"floatAccount.name"},{text:"مرکز",value:"floatAccount.name"},{text:"بدهکار",value:"bed",type:"numeric"},{text:"بستانکار",value:"bes",type:"numeric"},{text:"مشاهده سند",value:"detail",sortable:!1,filterable:!1,align:"left",hideInExport:!0,show:this.showLink}]}},created:function(){this.filters=this.getFiltersTemplate(),this.init()},methods:{getFiltersTemplate:function(){return{financial_year:this.financialYear.id,account_title:"",account__code__startswith:"",floatAccount:null,costCenter:null,floatAccount__floatAccountGroups:null,costCenter__floatAccountGroups:null,title:this.title}}}},em=tm,am=Object(v["a"])(em,Wd,Gd,!1,null,"6797c420",null),im=am.exports;f()(am,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var sm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},nm=[],om={name:"TransfersList",data:function(){return{filters:{},url:"reports/lists/transfers"}},computed:{title:function(){return"لیست انتقال ها"},headers:function(){var t=[{text:"شماره",value:"code",type:"number"},{text:"تاریخ",value:"date",type:"date"},{text:"توضیحات",value:"explanation",type:"text"}];return t.push({text:"جزئیات",value:"detail",sortable:!1,filterable:!1}),t}},created:function(){this.filters.type=this.type},methods:{to:function(t){return{name:"TransferForm",params:{id:t.id}}}}},rm=om,lm=Object(v["a"])(rm,sm,nm,!1,null,"17a2e382",null),cm=lm.exports;f()(lm,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var um=a("b6d8"),dm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.remain",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getRemain(a))))]}},{key:"item.settle",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{color:"light-blue white--text",to:t.toSettle(i),text:""}},[t._v("تسویه")])]}},{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},mm=[],pm={name:"AdjustmentsList",props:{type:{}},data:function(){return{filters:{},url:"reports/lists/adjustments"}},computed:{title:function(){switch(this.type){case"ia":return"رسید های تعدیل انبار";case"oa":return"حواله های تعدیل انبار"}},headers:function(){var t=[{text:"شماره",value:"code"},{text:"تاریخ",value:"date"},{text:"توضیحات",value:"explanation"}];return t.push({text:"جزئیات",value:"detail",sortable:!1,filterable:!1}),t}},created:function(){this.filters.type=this.type},watch:{$route:function(){this.$refs.datatable.getDataFromApi(),this.filters.type=this.type}},methods:{to:function(t){return{name:"AdjustmentForm",params:{type:this.type,id:t.id}}}}},vm=pm,hm=Object(v["a"])(vm,dm,mm,!1,null,"5904572a",null),fm=hm.exports;f()(hm,{VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var _m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست انبار گردانی ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},bm=[],xm={name:"WarehouseHandlingList",props:{type:{}},data:function(){return{filters:{},url:"reports/lists/warehouseHandlings"}},computed:{headers:function(){var t=[{text:"شماره",value:"code"},{text:"تاریخ آغاز",value:"start_date"},{text:"تاریخ شمارش",value:"counting_date"},{text:"تاریخ ثبت انبارگردانی",value:"submit_date"},{text:"انبار گردان",value:"handler"},{text:"انبار",value:"warehouse.name"},{text:"قطعی",value:"is_defined",type:"boolean"},{text:"توضیحات",value:"explanation"}];return t.push({text:"جزئیات",value:"detail",sortable:!1,filterable:!1}),t}},created:function(){this.filters.type=this.type},watch:{$route:function(){this.$refs.datatable.getDataFromApi(),this.filters.type=this.type}},methods:{to:function(t){return{name:"WarehouseHandlingForm",params:{id:t.id}}}}},gm=xm,ym=Object(v["a"])(gm,_m,bm,!1,null,"763cb148",null),km=ym.exports;f()(ym,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var wm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("قیمت ها و واحد های کالا ها")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"light-blue white--text"},on:{click:function(e){t.changeSalePricesDialog=!0}}},[t._v("تغییر قیمت موارد فیلتر شده")]),a("v-btn",{staticClass:"mr-1 mt-1 mt-md-0",attrs:{color:"light-blue white--text"},on:{click:function(e){t.salePriceChangesDialog=!0}}},[t._v("تاریخچه تغییر قیمت کالاها")])],1),a("v-col",{attrs:{cols:"12"}},[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e}}})],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"800px",transition:"dialog-transition"},model:{value:t.salePriceChangesDialog,callback:function(e){t.salePriceChangesDialog=e},expression:"salePriceChangesDialog"}},[a("v-card",[a("v-card-title",[t._v("تاریخچه تغییر قیمت کالا ها")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("m-datatable",{ref:"salePriceChangesDatatable",attrs:{headers:t.salePriceChangesHeaders,apiUrl:t.salePriceChangesUrl,filters:t.salePriceChangesFilters},on:{"update:filters":function(e){t.salePriceChangesFilters=e}},scopedSlots:t._u([{key:"item.created_at",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toJalali")(a.date,"jYYYY/jMM/jDD HH:mm")))]}},{key:"item.detail",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{color:"info"},on:{click:function(e){return t.showWareSalePriceChanges(i)}}},[t._v("جزئیات")])]}}])})],1)],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"1200px",transition:"dialog-transition"},model:{value:t.wareSalePriceChangesDialog,callback:function(e){t.wareSalePriceChangesDialog=e},expression:"wareSalePriceChangesDialog"}},[t.salePriceChange?a("v-card",[a("v-card-title",[t._v("جزئیات تغییر قیمت کالا ها")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("m-datatable",{ref:"wareSalePriceChangesDatatable",attrs:{headers:t.wareSalePriceChangesHeaders,apiUrl:t.wareSalePriceChangesUrl,filters:t.wareSalePriceChangesFilters},on:{"update:filters":function(e){t.wareSalePriceChangesFilters=e}}})],1)],1)],1)],1):t._e()],1),a("v-dialog",{attrs:{scrollable:"","max-width":"500px",transition:"dialog-transition"},on:{"click:outside":function(e){t.item={}}},model:{value:t.changeSalePricesDialog,callback:function(e){t.changeSalePricesDialog=e},expression:"changeSalePricesDialog"}},[a("v-card",[a("v-card-title",[t._v("تغییر گروهی قیمت کالا ها")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-radio-group",{attrs:{row:""},model:{value:t.item.is_increase,callback:function(e){t.$set(t.item,"is_increase",e)},expression:"item.is_increase"}},[a("v-radio",{attrs:{label:"افزایش",value:!0}}),a("v-radio",{attrs:{label:"کاهش",value:!1}})],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-radio-group",{attrs:{row:""},model:{value:t.item.is_percent,callback:function(e){t.$set(t.item,"is_percent",e)},expression:"item.is_percent"}},[a("v-radio",{attrs:{label:"درصد",value:!0}}),a("v-radio",{attrs:{label:"مبلغ",value:!1}})],1)],1),void 0!=t.item.is_percent?a("money",{attrs:{label:t.item.is_percent?"درصد":"مبلغ"},model:{value:t.item.rate,callback:function(e){t.$set(t.item,"rate",e)},expression:"item.rate"}}):t._e()],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"w-100px",attrs:{color:"green white--text"},on:{click:t.submitChangeSalePrice}},[t._v("ثبت")])],1)],1)],1)],1)},Cm=[],Em={name:"TransfersList",data:function(){return{filters:{},url:"reports/lists/salePrices",changeSalePricesDialog:!1,item:{},salePriceChangesUrl:"reports/lists/salePriceChanges",salePriceChangesDialog:!1,salePriceChangesFilters:{},wareSalePriceChangesUrl:"reports/lists/wareSalePriceChanges",wareSalePriceChangesDialog:!1,wareSalePriceChangesFilters:{},salePriceChange:null}},computed:{headers:function(){var t=[{text:"کد کالا",value:"ware.code"},{text:"نام کالا",value:"ware.name"},{text:"واحد",value:"unit.name"},{text:"واحد اصلی",value:"mainUnit.name"},{text:"ضریب تبدیل",value:"conversion_factor",type:"numeric"},{text:"نوع قیمت",value:"type.name"},{text:"قیمت",value:"price"}];return t},salePriceChangesHeaders:function(){return[{text:"تاریخ",value:"created_at",type:"date"},{text:"کاربر",value:"created_by.name"},{text:"مقدار",value:"rate",type:"numeric"},{text:"نحوه تغییر",value:"is_percent",type:"select",items:[{text:"درصد",value:!0},{text:"مبلغ",value:!1}]},{text:"نوع تغییر",value:"is_increase",type:"select",items:[{text:"افزایش",value:!0},{text:"کاهش",value:!1}]},{text:"جزئیات",value:"detail"}]},wareSalePriceChangesHeaders:function(){return[{text:"کد کالا",value:"salePrice.ware.code"},{text:"نام کالا",value:"salePrice.ware.name"},{text:"واحد",value:"salePrice.unit.name"},{text:"واحد اصلی",value:"salePrice.mainUnit.name"},{text:"ضریب تبدیل",value:"salePrice.conversion_factor",type:"numeric"},{text:"نوع قیمت",value:"salePrice.type.name"},{text:"قیمت قبل",value:"previous_price",type:"numeric"},{text:"قیمت جدید",value:"new_price",type:"numeric"},{text:"قیمت فعلی",value:"salePrice.price",type:"numeric"}]}},created:function(){this.filters.type=this.type},methods:{showWareSalePriceChanges:function(t){this.salePriceChange=t,this.wareSalePriceChangesFilters={salePriceChange:t.id},this.wareSalePriceChangesDialog=!0},submitChangeSalePrice:function(){var t=this;this.request({url:this.endpoint("wares/changeSalePrices"),method:"put",data:{operation:this.item,filters:this.$refs.datatable.getFilters()},success:function(){t.successNotify(),t.$refs.datatable.getDataFromApi(),t.$refs.salePriceChangesDatatable.getDataFromApi(),t.changeSalePricesDialog=!1,t.item={}}})}}},$m=Em,Tm=a("67b6"),Sm=a("43a6"),Vm=Object(v["a"])($m,wm,Cm,!1,null,"3f4bcf66",null),Fm=Vm.exports;f()(Vm,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VRadio:Tm["a"],VRadioGroup:Sm["a"],VRow:ct["a"],VSpacer:dt["a"]});var Pm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("گزارش کدینگ حساب ها")]),a("v-card-text",[a("m-datatable",{attrs:{headers:t.headers,items:t.items,filters:t.filters},on:{"update:filters":function(e){t.filters=e}}})],1)],1)},Dm=[],Am={mixins:[La["a"]],data:function(){return{filters:{},headers:[{text:"کد حساب",value:"code"},{text:"نام حساب",value:"name"},{text:"نوع",value:"type.name"}]}},computed:{permissionBasename:function(){return"account"},items:function(){return this.getSortedAccounts(this.accounts)}},created:function(){this.getData()},methods:{getData:function(){this.getAccounts(!0)}}},Im=Am,jm=Object(v["a"])(Im,Pm,Dm,!1,null,null,null),Lm=jm.exports;f()(jm,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"]});var Rm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("balance",{attrs:{title:"تراز حساب ها",cols:t.datatableCols,url:"reports/balance",getAccountLedgerQuery:t.getAccountLedgerQuery,getSubAccountLedgerQuery:t.getSubAccountLedgerQuery}})},Om=[],qm={cols:[{text:"کد حساب",value:"code",type:"text",align:"left"},{text:"نام حساب",value:"name"}]},Bm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-select",{attrs:{label:"نوع تراز",items:t.balanceTypes,"return-object":!1},model:{value:t.filters.cols_count,callback:function(e){t.$set(t.filters,"cols_count",e)},expression:"filters.cols_count"}}),a("v-select",{staticClass:"mt-3",attrs:{items:t.accountStatuses,label:"وضعیت حساب"},model:{value:t.filters.balance_status,callback:function(e){t.$set(t.filters,"balance_status",e)},expression:"filters.balance_status"}}),a("v-switch",{staticClass:"mt-3",attrs:{label:"نمایش مغایرت ماهیت حساب ها"},model:{value:t.filters.show_differences,callback:function(e){t.$set(t.filters,"show_differences",e)},expression:"filters.show_differences"}})],1),t.showAccountFilters?[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-select",{attrs:{label:"سطح حساب","item-text":"text","item-value":"value",items:t.accountLevels,"return-object":!1},model:{value:t.filters.level,callback:function(e){t.$set(t.filters,"level",e)},expression:"filters.level"}}),a("v-select",{staticClass:"mt-3",attrs:{label:"حساب های خاص",items:t.specialAccounts,"item-text":"text","item-value":"value","return-object":!1},model:{value:t.filters.account_type,callback:function(e){t.$set(t.filters,"account_type",e)},expression:"filters.account_type"}}),a("v-switch",{staticClass:"mt-3 text-right",attrs:{label:"نمایش حساب های تفضیلی شناور"},model:{value:t.filters.show_float_accounts,callback:function(e){t.$set(t.filters,"show_float_accounts",e)},expression:"filters.show_float_accounts"}}),a("v-switch",{staticClass:"mt-3",attrs:{label:"نمایش مرکز هزینه و درآمد"},model:{value:t.filters.show_cost_centers,callback:function(e){t.$set(t.filters,"show_cost_centers",e)},expression:"filters.show_cost_centers"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"از کد حساب",type:"number"},model:{value:t.filters.account__code__gte,callback:function(e){t.$set(t.filters,"account__code__gte",e)},expression:"filters.account__code__gte"}}),a("v-text-field",{staticClass:"mt-3",attrs:{label:"تا کد حساب",type:"number"},model:{value:t.filters.account__code__lte,callback:function(e){t.$set(t.filters,"account__code__lte",e)},expression:"filters.account__code__lte"}})],1)]:t._e(),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"از تاریخ",defualt:!1},model:{value:t.filters.from_date,callback:function(e){t.$set(t.filters,"from_date",e)},expression:"filters.from_date"}}),a("div",{staticClass:"mt-3"},[a("date",{attrs:{label:"تا تاریخ",defualt:!1},model:{value:t.filters.to_date,callback:function(e){t.$set(t.filters,"to_date",e)},expression:"filters.to_date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"از شماره سند",type:"number"},model:{value:t.filters.from_code,callback:function(e){t.$set(t.filters,"from_code",e)},expression:"filters.from_code"}}),a("v-text-field",{staticClass:"mt-3",attrs:{label:"تا شماره سند",type:"number"},model:{value:t.filters.to_code,callback:function(e){t.$set(t.filters,"to_code",e)},expression:"filters.to_code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],2),a("v-col",{attrs:{cols:"12"}}),t.showAccountFilters?void 0:t._e()],2),a("v-col",{attrs:{cols:"12"}},[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,items:t.items,"hidden-cols":t.hiddenCols,"export-url":t.url,filters:t.filters,"show-expand":"",expanded:t.items,"show-select":!1,additionalAppliedFilters:t.additionalAppliedFilters},on:{"update:filters":function(e){t.filters=e},"update:expanded":function(e){t.items=e},"update:options":t.setShowSum},scopedSlots:t._u([{key:"item.data-table-expand",fn:function(){},proxy:!0},t.filters.show_float_accounts||t.filters.show_cost_centers?{key:"expanded-item",fn:function(e){e.headers;var i=e.item;return[t.hasSubAccount(i)?[a("td",{attrs:{colspan:"4"}}),a("td",{},t._l(t.getSubAccounts(i),(function(e,i){return a("div",{staticClass:"py-1"},[t._v(t._s(e.name))])})),0),a("td",{staticClass:"text-center"},t._l(t.getSubAccounts(i),(function(e,i){return a("div",{staticClass:"py-1"},[t._v(t._s(t._f("toMoney")(e.bed_sum)))])})),0),a("td",{staticClass:"text-center"},t._l(t.getSubAccounts(i),(function(e,i){return a("div",{staticClass:"py-1"},[t._v(t._s(t._f("toMoney")(e.bes_sum)))])})),0),0==t.hiddenCols.length?[a("td",{staticClass:"text-center"},t._l(t.getSubAccounts(i),(function(e,i){return a("div",{staticClass:"py-1"},[t._v(t._s(t._f("toMoney")(e.bed_remain)))])})),0),a("td",{staticClass:"text-center"},t._l(t.getSubAccounts(i),(function(e,i){return a("div",{staticClass:"py-1"},[t._v(t._s(t._f("toMoney")(e.bes_remain)))])})),0)]:t._e(),a("td",t._l(t.getSubAccounts(i),(function(e,s){return t.getSubAccountLedgerQuery?a("div",{staticClass:"py-1"},[a("open-ledger-btn",{attrs:{query:t.getSubAccountLedgerQuery(i,e)}})],1):t._e()})),0)]:t._e()]}}:null,t.showSum?{key:"body.append",fn:function(e){e.headers;return[a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:1+t.cols.cols.length}}),a("td",[t._v("جمع کل")]),t.filters.cols_count>6?[a("td",[t._v(t._s(t._f("toMoney")(t.sum["openingBed"])))]),a("td",[t._v(t._s(t._f("toMoney")(t.sum["openingBes"])))])]:t._e(),t.filters.cols_count>4?[a("td",[t._v(t._s(t._f("toMoney")(t.sum["previousBed"])))]),a("td",[t._v(t._s(t._f("toMoney")(t.sum["previousBes"])))])]:t._e(),t.filters.cols_count>2?[a("td",[t._v(t._s(t._f("toMoney")(t.sum["bed"])))]),a("td",[t._v(t._s(t._f("toMoney")(t.sum["bes"])))])]:t._e(),a("td",[t._v(t._s(t._f("toMoney")(t.sum["bedRemain"])))]),a("td",[t._v(t._s(t._f("toMoney")(t.sum["besRemain"])))]),a("td")],2)]}}:null,t.getAccountLedgerQuery?{key:"item.ledger",fn:function(e){var i=e.item;return[a("open-ledger-btn",{attrs:{query:t.getAccountLedgerQuery(i)}})]}}:null],null,!0)})],1)],1)],1)],1)},Um=[],Mm={cols:[{text:"گردش بدهکار اول دوره",value:"opening_bed_sum",type:"numeric"},{text:"گردش بستانکار اول دوره",value:"opening_bes_sum",type:"numeric"},{text:"گردش بدهکار از قبل",value:"previous_bed_sum",type:"numeric"},{text:"گردش بستانکار از قبل",value:"previous_bes_sum",type:"numeric"},{text:"گردش بدهکار",value:"bed_sum",type:"numeric"},{text:"گردش بستانکار",value:"bes_sum",type:"numeric"},{text:"مانده بدهکار",value:"bed_remain",type:"numeric"},{text:"مانده بستانکار",value:"bes_remain",type:"numeric"},{text:"گردش",value:"ledger",sortable:!1,filterable:!1,hideInExport:!0}]},Nm=a("2a82"),Ym={name:"Balance",mixins:[La["a"]],components:{OpenLedgerBtn:Nm["a"]},props:{title:{required:!0},cols:{required:!0},url:{required:!0},showAccountFilters:{default:!0},getAccountLedgerQuery:{default:null},getSubAccountLedgerQuery:{default:null}},data:function(){return{sanadFilters:{},accountFilters:{},filters:{},showSum:!1,allAccounts:[],items:[],debouncedGetData:null,debouncedFilterAccounts:null,balanceTypes:[{text:"2 ستونی",value:2},{text:"4 ستونی",value:4},{text:"6 ستونی",value:6},{text:"8 ستونی",value:8}],accountLevels:[{value:null,text:"همه"},{value:0,text:"گروه"},{value:1,text:"کل"},{value:2,text:"معین"},{value:3,text:"تفضیلی"}],specialAccounts:[{value:null,text:"همه"},{value:"bank",text:"بانک"},{value:"buyer",text:"خریدار"},{value:"seller",text:"فروشنده"}],accountStatuses:[{value:null,text:"همه"},{value:"with_remain",text:"حساب های دارای مانده"},{value:"bed_remain",text:"مانده بدهکار"},{value:"bes_remain",text:"مانده بستانکار"},{value:"without_remain",text:"بدون مانده"},{value:"with_transaction",text:"حساب های دارای گردش"},{value:"without_transaction",text:"حساب های بدون گردش"}]}},computed:{sum:function(){var t,e=0,a=0,i=0,s=0,n=0,o=0,r=0,l=0,u=Object(c["a"])(this.items);try{for(u.s();!(t=u.n()).done;){var d=t.value;null==this.filters.level&&void 0!=d.level?0==d.level&&(e+=+d.bed_sum,a+=+d.bes_sum,i+=+d.bed_remain,s+=+d.bes_remain,r+=+d.previous_bed_sum,l+=+d.previous_bes_sum,n+=+d.opening_bed_sum,o+=+d.opening_bes_sum):(e+=+d.bed_sum,a+=+d.bes_sum,i+=+d.bed_remain,s+=+d.bes_remain,r+=+d.previous_bed_sum,l+=+d.previous_bes_sum,n+=+d.opening_bed_sum,o+=+d.opening_bes_sum)}}catch(m){u.e(m)}finally{u.f()}return{bed:e,bes:a,bedRemain:i,besRemain:s,previousBed:r,previousBes:l,openingBed:n,openingBes:o}},hiddenCols:function(){return 6==this.filters.cols_count?["opening_bed_sum","opening_bes_sum"]:4==this.filters.cols_count?["opening_bed_sum","opening_bes_sum","previous_bed_sum","previous_bes_sum"]:2==this.filters.cols_count?["bed_sum","bes_sum","opening_bed_sum","opening_bes_sum","previous_bed_sum","previous_bes_sum"]:[]},headers:function(){var t=this,e=[].concat(Object(bt["a"])(this.cols.cols),Object(bt["a"])(Mm.cols));return e=e.filter((function(e){return!t.hiddenCols.includes(e.value)})),e},additionalAppliedFilters:function(){for(var t=[],e=[{text:"سطح حساب",value:this.filters.level,items:this.accountLevels},{text:"وضعیت حساب",value:this.filters.balance_status,items:this.accountStatuses},{text:"حساب های خاص",value:this.filters.account_type,items:this.specialAccounts}],a=function(){var e=s[i];e.value&&t.push({text:e.text,value:e.items.find((function(t){return t.value==e.value})).text})},i=0,s=e;i<s.length;i++)a();for(var n=[{text:"نمایش مغایرت ماهیت حساب ها",value:this.filters.show_differences},{text:"نمایش حساب های تفضیلی شناور",value:this.filters.show_float_accounts},{text:"نمایش مرکز هزینه و درآمد",value:this.filters.show_cost_centers}],o=0,r=n;o<r.length;o++){var l=r[o];l.value&&t.push({text:l.text,value:"بله"})}for(var c=[{text:"از کد حساب",value:this.filters.account__code__gte},{text:"تا کد حساب",value:this.filters.account__code__lte},{text:"از تاریخ",value:this.filters.from_date},{text:"تا تاریخ",value:this.filters.to_date},{text:"از شماره سند",value:this.filters.from_code},{text:"تا شماره سند",value:this.filters.to_code}],u=0,d=c;u<d.length;u++){var m=d[u];m.value&&t.push({text:m.text,value:m.value})}return t}},created:function(){this.debouncedGetData=qs.a.debounce(this.getData,1e3),this.clearFilters()},watch:{url:function(){this.getData()},filters:{handler:function(){this.debouncedGetData?this.debouncedGetData():this.getData()},deep:!0}},methods:{setShowSum:function(t){var e=t.page,a=t.itemsPerPage;-1==a||e==Math.ceil(this.items.length/a)?this.showSum=!0:this.showSum=!1},hasSubAccount:function(t){return t.floatAccounts_data&&t.floatAccounts_data.length||t.costCenters_data&&t.costCenters_data.length},getSubAccounts:function(t){var e=[];if(this.filters.show_float_accounts){var a=t.floatAccounts_data;a.forEach((function(t){return t.level="floatAccounts"})),e=[].concat(Object(bt["a"])(e),Object(bt["a"])(a))}if(this.filters.show_cost_centers){var i=t.costCenters_data;i.forEach((function(t){return t.level="costCenters"})),e=[].concat(Object(bt["a"])(e),Object(bt["a"])(i))}return e},getData:function(){var t=this;this.updateFilters(),this.request({url:this.endpoint(this.url),method:"get",params:this.filters,success:function(e){t.items=e}})},clearFilters:function(){this.accountFilters={level:null,status:null,special:null,showFloatAccounts:!1,showCostCenters:!1,showDifferences:!1},this.sanadFilters={},this.filters={cols_count:2}},updateFilters:function(){var t=this,e={};Object.keys(this.sanadFilters).forEach((function(a){if(!["undefined",""].includes(t.sanadFilters[a]))if(a.includes("date")||a.includes("due")){var i=t.toGDate(t.sanadFilters[a]);if("Invalid date"==i)return void t.notify("فرمت تاریخ وارد شده معتبر نمی باشد","danger");e[a]=i}else e[a]=t.sanadFilters[a]}))}}},zm=Ym,Wm=(a("82af"),Object(v["a"])(zm,Bm,Um,!1,null,null,null)),Gm=Wm.exports;f()(Wm,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"],VSelect:Re["a"],VSwitch:Je["a"],VTextField:pt["a"]});var Km={name:"AccountsBalance",components:{Balance:Gm},data:function(){return{datatableCols:qm}},methods:{getAccountLedgerQuery:function(t){return{"ledger.account":t.id,"ledger.level":"level".concat(t.level)}},getSubAccountLedgerQuery:function(t,e){return{"ledger.account":t.id,"ledger.floatAccount":"floatAccounts"==e.level?e.id:null,"ledger.costCenter":"costCenters"==e.level?e.id:null,"ledger.level":"level".concat(t.level)}}}},Hm=Km,Qm=Object(v["a"])(Hm,Rm,Om,!1,null,null,null),Xm=Qm.exports,Jm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("balance",{attrs:{title:t.title,cols:t.cols,url:t.url,showAccountFilters:!1,getAccountLedgerQuery:t.getAccountLedgerQuery}})},Zm=[],tp={name:"FloatAccountsBalanceByGroup",components:{Balance:Gm},props:{is_cost_center:{default:!1}},data:function(){return{}},computed:{title:function(){return this.isCostCenter?"تراز مراکز هزینه بر اساس گروه":"تراز حساب های شناور بر اساس گروه"},cols:function(){var t="تفضیلی شناور";return this.isCostCenter&&(t="مرکز هزینه و درآمد"),{cols:[{text:"گروه "+t,value:"group_name",type:"text"},{text:t,value:"float_account_name",type:"text"}]}},url:function(){return"reports/balance/floatsByGroup?is_cost_center=".concat(this.isCostCenter,"&")},isCostCenter:function(){return["true",!0].includes(this.is_cost_center)}},methods:{getAccountLedgerQuery:function(t){var e={};return t.group_name?(e["ledger.account"]=t.group_id,this.isCostCenter?e["ledger.level"]="costCenterGroups":e["ledger.level"]="floatAccountGroups"):(e["ledger.account"]=t.float_account_id,this.isCostCenter?e["ledger.level"]="costCenters":e["ledger.level"]="floatAccounts"),e}}},ep=tp,ap=Object(v["a"])(ep,Jm,Zm,!1,null,null,null),ip=ap.exports,sp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("balance",{attrs:{title:t.title,cols:t.cols,url:t.url,showAccountFilters:!1}})},np=[],op={name:"AccountsBalance",components:{Balance:Gm},props:{is_cost_center:{default:!1}},data:function(){return{}},computed:{title:function(){return this.isCostCenter?"تراز مراکز هزینه ":"تراز حساب های شناور "},cols:function(){var t="تفضیلی شناور";return this.isCostCenter&&(t="مرکز هزینه و درآمد"),{cols:[{text:t,value:"float_account_name",type:"text"}]}},url:function(){return"reports/balance/floats?is_cost_center=".concat(this.isCostCenter,"&")},isCostCenter:function(){return["true",!0].includes(this.is_cost_center)}}},rp=op,lp=Object(v["a"])(rp,sp,np,!1,null,null,null),cp=lp.exports,up=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{staticClass:"ledger",attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"سطح حساب",items:t.accountLevels,"item-text":"text","item-value":"value","return-object":!1},model:{value:t.ledger.level,callback:function(e){t.$set(t.ledger,"level",e)},expression:"ledger.level"}})],1),a("v-col",{attrs:{cols:"12",md:"8"}},[void 0!=t.ledger.level?a("account-select",{attrs:{label:"حساب","items-type":t.ledger.level,floatAccount:t.ledger.floatAccount,costCenter:t.ledger.costCenter,showLedgerBtn:!1},on:{"update:floatAccount":function(e){return t.ledger.floatAccount=e},"update:costCenter":function(e){return t.ledger.costCenter=e}},model:{value:t.ledger.account,callback:function(e){t.$set(t.ledger,"account",e)},expression:"ledger.account"}}):t._e()],1),t.ledger.account?[a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"از تاریخ",clearable:""},model:{value:t.filters.sanad__date__gte,callback:function(e){t.$set(t.filters,"sanad__date__gte",e)},expression:"filters.sanad__date__gte"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تا تاریخ",clearable:""},model:{value:t.filters.sanad__date__lte,callback:function(e){t.$set(t.filters,"sanad__date__lte",e)},expression:"filters.sanad__date__lte"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"از شماره",clearable:""},model:{value:t.filters.sanad__code__gte,callback:function(e){t.$set(t.filters,"sanad__code__gte",e)},expression:"filters.sanad__code__gte"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"تا شماره",clearable:""},model:{value:t.filters.sanad__code__lte,callback:function(e){t.$set(t.filters,"sanad__code__lte",e)},expression:"filters.sanad__code__lte"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-radio-group",{attrs:{row:""},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("مرتب سازی بر اساس:")]},proxy:!0}],null,!1,1030072388),model:{value:t.filters.order_sanads_by,callback:function(e){t.$set(t.filters,"order_sanads_by",e)},expression:"filters.order_sanads_by"}},[a("span",[a("v-radio",{attrs:{label:"تاریخ سند",value:"date"}}),a("v-radio",{attrs:{label:"شماره سند",value:"code"}})],1)])],1),a("v-col",{attrs:{cols:"12"}},[a("sanad-item-list-report",{attrs:{filters:t.filters,showAccountInTable:t.showAccountInTable,sortable:!1,filterable:!1,showRemain:!0,showPreviousRemain:!0,showLink:!0},on:{"update:filters":function(e){t.filters=e}}})],1)]:t._e()],2)],1)],1)],1)],1)},dp=[],mp=(a("07ac"),{name:"Ledger",mixins:[_l["a"],La["a"]],components:{SanadItemListReport:Zd},props:{ledgerAccountIds:{default:function(){return[]}},level:{default:null}},data:function(){return{apiData:{results:[]},ledger:{level:this.level,account:null,floatAccount:null,costCenter:null},filters:{},accountLevels:[{value:"level0",text:"گروه"},{value:"level1",text:"کل"},{value:"level2",text:"معین"},{value:"level3",text:"تفضیلی"},{value:"floatAccountGroups",text:"گروه شناور"},{value:"costCenterGroups",text:"گروه مرکز هزینه و درآمد"},{value:"floatAccounts",text:"شناور"},{value:"costCenters",text:"مرکز هزینه و درآمد"}]}},computed:{title:function(){return"دفتر کل، معین، تفضیلی"},showAccountInTable:function(){return"level3"!=this.ledger.level}},created:function(){this.filters=this.getFiltersTemplate(),this.init()},methods:{getFiltersTemplate:function(){return{financial_year:this.financialYear.id,account_title:"",float_account_title:"",cost_center_title:"",account__code__startswith:"",order_sanads_by:"code",floatAccount:null,costCenter:null,floatAccount__floatAccountGroups:null,costCenter__floatAccountGroups:null,title:this.title,consider_previous_remain:"true"}},init:function(){if("string"==typeof this.ledgerAccountIds)this.findAccount("id",+this.ledgerAccountIds);else{var t,e=Object(c["a"])(this.ledgerAccountIds);try{for(e.s();!(t=e.n()).done;){var a=t.value,i=this.findAccount("id",a);if(!i)return void console.error("There is no code ")}}catch(s){e.e(s)}finally{e.f()}}}},watch:{level:function(){this.ledger.level=this.level},"ledger.level":function(){this.filters=this.getFiltersTemplate(),this.ledger.account=this.ledger.floatAccount=this.ledger.costCenter=null},"ledger.account":function(){var t=this;if(this.ledger.account&&(this.filters.account_title=this.ledger.account.title||this.ledger.account.name),this.ledger.level.includes("level"))this.filters.account__code__startswith=this.ledger.account?this.ledger.account.code:null;else{this.filters.account__code__startswith=null;var e={floatAccountGroups:"account__floatAccountGroup",costCenterGroups:"account__floatAccountGroup",floatAccounts:"floatAccount",costCenters:"costCenter"};Object.values(e).forEach((function(e){t.filters[e]=null})),this.filters[e[this.ledger.level]]=this.ledger.account?this.ledger.account.id:null}},"ledger.floatAccount":function(){this.filters["floatAccount"]=this.ledger.floatAccount?this.ledger.floatAccount.id:null,this.ledger.floatAccount&&(this.filters.float_account_title=this.ledger.floatAccount.title||this.ledger.floatAccount.name)},"ledger.costCenter":function(){this.filters["costCenter"]=this.ledger.costCenter?this.ledger.costCenter.id:null,this.ledger.costCenter&&(this.filters.cost_center_title=this.ledger.costCenter.title||this.ledger.costCenter.name)}}}),pp=mp,vp=Object(v["a"])(pp,up,dp,!1,null,"4b985e0b",null),hp=vp.exports;f()(vp,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRadio:Tm["a"],VRadioGroup:Sm["a"],VRow:ct["a"],VSelect:Re["a"]});var fp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{staticClass:"ledger",attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("account-select",{attrs:{label:"حساب","items-type":"level3",horizontal:!0,floatAccount:t.bill.floatAccount,costCenter:t.bill.costCenter},on:{"update:floatAccount":function(e){return t.$set(t.bill,"floatAccount",e)},"update:float-account":function(e){return t.$set(t.bill,"floatAccount",e)},"update:costCenter":function(e){return t.$set(t.bill,"costCenter",e)},"update:cost-center":function(e){return t.$set(t.bill,"costCenter",e)},input:t.setAccount},model:{value:t.bill.account,callback:function(e){t.$set(t.bill,"account",e)},expression:"bill.account"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{attrs:{label:"احتساب مانده از قبل"},model:{value:t.filters.consider_previous_remain,callback:function(e){t.$set(t.filters,"consider_previous_remain",e)},expression:"filters.consider_previous_remain"}})],1),t.filters.account?a("v-col",{attrs:{cols:"12"}},[a("sanad-item-list-report",{attrs:{filters:t.filters,showAccountInTable:!1,showFinancialYear:!0,showLink:!1,sortable:!0,filterable:!0,showRemain:!0,showPreviousRemain:t.filters.consider_previous_remain,considerFinancialYear:!1,colspan:3},on:{"update:filters":function(e){t.filters=e}}})],1):t._e()],1)],1)],1)],1)],1)},_p=[],bp={name:"Bill",components:{SanadItemListReport:Zd},mixins:[La["a"]],props:{ledgerAccountIds:{default:function(){return[]}}},data:function(){return{bill:{},filters:{account:null,floatAccount:null,costCenter:null,title:"صورت حساب تفصیلی",account_title:"",consider_previous_remain:"true",report_type:"bill"}}},computed:{title:function(){return"صورت حساب تفصیلی"}},watch:{bill:{deep:!0,handler:function(){this.bill.account&&(this.filters.account=this.bill.account.id),this.bill.floatAccount&&(this.filters.floatAccount=this.bill.floatAccount.id),this.bill.costCenter&&(this.filters.costCenter=this.bill.costCenter.id)}}},methods:{setAccount:function(t){t&&(this.filters.account=t.id,this.filters.account_title=t.title)}}},xp=bp,gp=Object(v["a"])(xp,fp,_p,!1,null,"c16ad470",null),yp=gp.exports;f()(gp,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"],VSwitch:Je["a"]});var kp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{staticClass:"journal",attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v("دفتر روزنامه")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{label:"سطح حساب",items:t.accountLevels,"item-text":"text","item-value":"value","return-object":!1},model:{value:t.journal.level,callback:function(e){t.$set(t.journal,"level",e)},expression:"journal.level"}})],1),t.journal.level?[a("v-col",{attrs:{cols:"12"}},[a("sanad-item-list-report",{attrs:{filters:t.filters,showAccountInTable:!0,sortable:t.sortable,filterable:t.filterable,headers:t.headers,showRemain:!1,showPreviousRemain:!1},on:{"update:filters":function(e){t.filters=e}}})],1)]:t._e()],2)],1)],1)],1)],1)},wp=[],Cp={name:"Journal",components:{SanadItemListReport:Zd},data:function(){return{journal:{level:""},filters:{financial_year:null,title:"دفتر روزنامه"},sortable:!0,filterable:!0,accountLevels:[{value:"level0",text:"گروه"},{value:"level1",text:"کل"},{value:"level2",text:"معین"},{value:"level3",text:"تفضیلی"}]}},computed:{headers:function(){return[{text:"سال مالی",value:"financial_year.name",sortable:this.sortable,filterable:this.filterable,show:this.showFinancialYear},{text:"تاریخ",value:"sanad.date",type:"date",sortable:this.sortable,filterable:this.filterable},{text:"شماره سند",value:"sanad.code",sortable:this.sortable,filterable:this.filterable,showRangeFilter:!0},{text:"شرح",value:"explanation",sortable:this.sortable,filterable:this.filterable},{text:"کد حساب",value:"account."+this.journal.level+"_code",showRangeFilter:!0,sortable:!1,show:this.showAccountInTable},{text:"نام حساب",value:"account."+this.journal.level+"_name",sortable:!1,show:this.showAccountInTable},{text:"بدهکار",value:"bed",type:"numeric",sortable:this.sortable,filterable:this.filterable},{text:"بستانکار",value:"bes",type:"numeric",sortable:this.sortable,filterable:this.filterable},{text:"مانده",value:"remain",type:"numeric",sortable:!1,filterable:!1,align:"center",show:this.showRemain},{text:"تشخیص",value:"remain_type",sortable:!1,filterable:!1,align:"center",show:this.showRemain},{text:"سند سیستمی",value:"sanad.is_auto_created",type:"boolean",sortable:!1,filterable:!1,align:"center"},{text:"فرم",value:"sanad_form",sortable:!1,filterable:!1,align:"center"},{text:"مشاهده سند",value:"detail",sortable:!1,filterable:!1,align:"left",hideInExport:!0,show:this.showLink}]}},created:function(){this.filters.financial_year=this.financialYear.id}},Ep=Cp,$p=Object(v["a"])(Ep,kp,wp,!1,null,"54e7abec",null),Tp=$p.exports;f()($p,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"],VSelect:Re["a"]});var Sp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("صورت سود و زیان")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-select",{attrs:{label:"سطح حساب","item-text":"text","item-value":"value",items:t.accountLevels,"return-object":!1},model:{value:t.filters.level,callback:function(e){t.$set(t.filters,"level",e)},expression:"filters.level"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-select",{attrs:{items:t.accountStatuses,label:"وضعیت حساب"},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{placeholder:"از تاریخ"},model:{value:t.filters.from_date,callback:function(e){t.$set(t.filters,"from_date",e)},expression:"filters.from_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{placeholder:"تا تاریخ"},model:{value:t.filters.to_date,callback:function(e){t.$set(t.filters,"to_date",e)},expression:"filters.to_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-btn",{staticClass:"blue white--text w-100px mt-1",on:{click:function(e){return t.getData()}}},[t._v("گزارش")])],1),a("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"export-btn ma-1",attrs:{href:this.endpoint("reports/incomeStatement/html")+"?detailed="+(1==t.detailed)+"&token="+t.token,target:"_blank"}},[t._v("چاپ ")]),a("v-btn",{staticClass:"export-btn ma-1",attrs:{href:this.endpoint("reports/incomeStatement/pdf")+"?detailed="+(1==t.detailed)+"&token="+t.token,target:"_blank"}},[t._v("خروجی PDF ")]),a("v-btn",{staticClass:"export-btn ma-1",attrs:{href:this.endpoint("reports/incomeStatement/xlsx")+"?detailed="+(1==t.detailed)+"&token="+t.token,target:"_blank"}},[t._v("خروجی اکسل ")])],1),a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{attrs:{dense:""}},[a("thead",{staticClass:"grey lighten-3"},[a("tr",[a("th",[t._v("#")]),a("th",[t._v("شرح")]),a("th",{attrs:{colspan:"2"}},[t._v("مبلغ")])])]),a("tbody",[t._l(t.rows,(function(e,i){return[a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),a("td",{class:{"font-weight-bold":i==t.rows.length-1}},[e.type.hasPrefix?a("span",{class:{"red--text":"red"==e.type.prefixColor,"blue--text":"blue"==e.type.prefixColor}},[t._v(t._s(e.type.prefix))]):t._e(),t._v(" "+t._s(e.type.name)+" ")]),a("td",{class:{"font-weight-bold":i==t.rows.length-1},attrs:{dir:"ltr"}},[t._v(t._s(t._f("toMoney")(e.remain))+" ")]),t.detailed?a("td"):t._e()]),t.detailed?[t._l(e.accounts,(function(e,s){return[a("tr",{key:i+""+s},[a("td"),a("td",{staticClass:"account-row"},[t._v(t._s(e.title))]),a("td",{staticClass:"ltr"},[t._v(t._s(t._f("toMoney")(e.remain)))]),a("td")])]})),a("tr",{key:"s"+i},[a("td"),a("td",{staticClass:"account-row"},[t._v("جمع "+t._s(e.type.name))]),a("td"),a("td",{class:{"text-bold":i==t.rows.length-1},attrs:{dir:"ltr"}},[t._v(t._s(t._f("toMoney")(e.remain))+" ")])])]:t._e()]}))],2)])],1)],1)],1)],1)},Vp=[],Fp={name:"IncomeStatement",components:{date:cs["a"]},props:{detailed:{default:!1}},data:function(){return{rows:[],filters:{level:3,status:"with_transaction"},accountStatuses:[{value:"all",text:"همه"},{value:"with_remain",text:"حساب های دارای مانده"},{value:"with_transaction",text:"حساب های دارای گردش"}],accountLevels:[{value:1,text:"کل"},{value:2,text:"معین"},{value:3,text:"تفضیلی"}]}},created:function(){this.getData()},updated:function(){this.$route.params.detailed&&(this.detailed=!0)},methods:{getData:function(){for(var t=this,e={},a=0,i=Object.keys(this.filters);a<i.length;a++){var s=i[a];if(["undefined",""].includes(this.filters[s]))return;if(s.includes("date")||s.includes("due")){var n=this.toGDate(this.filters[s]);if("Invalid date"==n)return void this.notify("فرمت تاریخ وارد شده معتبر نمی باشد","danger");e[s]=n}else e[s]=this.filters[s]}return this.request({url:this.endpoint("reports/incomeStatement"),method:"get",params:Object(o["a"])({},this.filters),success:function(e){t.rows=e}})}}},Pp=Fp,Dp=(a("9a4c"),Object(v["a"])(Pp,Sp,Vp,!1,null,"a82ab9be",null)),Ap=Dp.exports;f()(Dp,{VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"],VSelect:Re["a"],VSimpleTable:Na["a"]});var Ip=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("ترازنامه")]),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"d-flex flex-column flex-md-row",attrs:{cols:"12"}},[a("date",{attrs:{placeholder:"از تاریخ"},model:{value:t.filters.from_date,callback:function(e){t.$set(t.filters,"from_date",e)},expression:"filters.from_date"}}),a("date",{staticClass:"mr-md-3 mt-1 mt-md-0",attrs:{placeholder:"تا تاریخ"},model:{value:t.filters.to_date,callback:function(e){t.$set(t.filters,"to_date",e)},expression:"filters.to_date"}}),a("v-switch",{staticClass:"mr-md-3 mt-3 mt-md-1",attrs:{label:"در نظر نگرفتن سند بستن"},model:{value:t.filters.skip_closing_sanads,callback:function(e){t.$set(t.filters,"skip_closing_sanads",e)},expression:"filters.skip_closing_sanads"}}),a("v-btn",{staticClass:"blue white--text w-100px mt-3 mr-2 md-5 mt-md-0",attrs:{block:t.isXs},on:{click:function(e){return t.getData()}}},[t._v("گزارش ")]),a("v-spacer"),a("v-btn",{staticClass:"export-btn mr-1 md-3 mt-5 mt-md-0",attrs:{href:this.endpoint("reports/balanceSheet/html")+"?detailed="+(1==t.detailed)+"&token="+t.token,target:"_blank"}},[t._v("چاپ ")]),a("v-btn",{staticClass:"export-btn mr-1 md-3 mt-5 mt-md-0",attrs:{href:this.endpoint("reports/balanceSheet/pdf")+"?detailed="+(1==t.detailed)+"&token="+t.token,target:"_blank"}},[t._v("خروجی PDF ")]),a("v-btn",{staticClass:"export-btn mr-1 md-3 mt-5 mt-md-0",attrs:{href:this.endpoint("reports/balanceSheet/xlsx")+"?detailed="+(1==t.detailed)+"&token="+t.token,target:"_blank"}},[t._v("خروجی اکسل ")])],1),t._.isEmpty(t.d)?t._e():[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-simple-table",{attrs:{dense:""}},[a("thead",{staticClass:"grey lighten-3"},[a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("دارایی ها")])])]),a("tbody",[a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("دارایی های جاری")])]),a("tr",[a("td",[t._v(t._s(t.d.cacheAndBank.name))]),a("td",[t._v(t._s(t.d.cacheAndBank.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.shortTimeInvestments.name))]),a("td",[t._v(t._s(t.d.shortTimeInvestments.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.commercialAccountsAndReceivables.name))]),a("td",[t._v(t._s(t.d.commercialAccountsAndReceivables.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.otherAccountsAndReceivables.name))]),a("td",[t._v(t._s(t.d.otherAccountsAndReceivables.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.inventories.name))]),a("td",[t._v(t._s(t.d.inventories.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.ordersAndPrepayments.name))]),a("td",[t._v(t._s(t.d.ordersAndPrepayments.remain))])]),a("tr",{staticClass:"font-weight-bold"},[a("td",[t._v(t._s(t.d.totalCurrentAssets.name))]),a("td",[t._v(t._s(t.d.totalCurrentAssets.remain))])]),a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("دارایی های غیر جاری")])]),a("tr",[a("td",[t._v(t._s(t.d.evidentFixedAssets.name))]),a("td",[t._v(t._s(t.d.evidentFixedAssets.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.notEvidentAssets.name))]),a("td",[t._v(t._s(t.d.notEvidentAssets.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.longTimeInvestments.name))]),a("td",[t._v(t._s(t.d.longTimeInvestments.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.otherAssets.name))]),a("td",[t._v(t._s(t.d.otherAssets.remain))])]),a("tr",{staticClass:"font-weight-bold"},[a("td",[t._v(t._s(t.d.totalNotCurrentAssets.name))]),a("td",[t._v(t._s(t.d.totalNotCurrentAssets.remain))])]),a("tr",{staticClass:"font-weight-bold blue--text"},[a("td",[t._v(t._s(t.d.totalAssets.name))]),a("td",[t._v(t._s(t.d.totalAssets.remain))])])])])],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-simple-table",{attrs:{dense:""}},[a("thead",{staticClass:"grey lighten-3"},[a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("بدهی ها و حقوق صاحبان سهام")])])]),a("tbody",[a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("بدهی های جاری")])]),a("tr",[a("td",[t._v(t._s(t.d.businessAccountsAndPayableDocuments.name))]),a("td",[t._v(t._s(t.d.businessAccountsAndPayableDocuments.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.otherAccountsAndPayableDocuments.name))]),a("td",[t._v(t._s(t.d.otherAccountsAndPayableDocuments.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.prepayments.name))]),a("td",[t._v(t._s(t.d.prepayments.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.saveTypes.name))]),a("td",[t._v(t._s(t.d.saveTypes.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.paidDividends.name))]),a("td",[t._v(t._s(t.d.paidDividends.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.receivableFunds.name))]),a("td",[t._v(t._s(t.d.receivableFunds.remain))])]),a("tr",{staticClass:"font-weight-bold"},[a("td",[t._v(t._s(t.d.totalCurrentDebt.name))]),a("td",[t._v(t._s(t.d.totalCurrentDebt.remain))])]),a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("بدهی های غیر جاری")])]),a("tr",[a("td",[t._v(t._s(t.d.longtermAccountsAndPayableDocuments.name))]),a("td",[t._v(t._s(t.d.longtermAccountsAndPayableDocuments.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.longtermReceivableFunds.name))]),a("td",[t._v(t._s(t.d.longtermReceivableFunds.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.savedEndingServiceBenefits.name))]),a("td",[t._v(t._s(t.d.savedEndingServiceBenefits.remain))])]),a("tr",{staticClass:"font-weight-bold"},[a("td",[t._v(t._s(t.d.totalNotCurrentDebt.name))]),a("td",[t._v(t._s(t.d.totalNotCurrentDebt.remain))])]),a("tr",{staticClass:"font-weight-bold"},[a("td",[t._v(t._s(t.d.totalDebt.name))]),a("td",[t._v(t._s(t.d.totalDebt.remain))])]),a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("حقوق صاحبان سهام")])]),a("tr",[a("td",[t._v(t._s(t.d.fund.name))]),a("td",[t._v(t._s(t.d.fund.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.savings.name))]),a("td",[t._v(t._s(t.d.savings.remain))])]),a("tr",[a("td",[t._v(t._s(t.d.accumulatedProfit.name))]),a("td",[t._v(t._s(t.d.accumulatedProfit.remain))])]),a("tr",{staticClass:"font-weight-bold"},[a("td",[t._v(t._s(t.d.equitiesSum.name))]),a("td",[t._v(t._s(t.d.equitiesSum.remain))])]),a("tr",{staticClass:"font-weight-bold blue--text"},[a("td",[t._v(t._s(t.d.totalDebtsAndEquities.name))]),a("td",[t._v(t._s(t.d.totalDebtsAndEquities.remain))])])])])],1)]],2)],1)],1)},jp=[],Lp={name:"BalanceSheet",components:{date:cs["a"]},props:{detailed:{default:!1}},data:function(){return{d:{},filters:{}}},created:function(){this.getData()},methods:{getData:function(){for(var t=this,e={},a=0,i=Object.keys(this.filters);a<i.length;a++){var s=i[a];if(["undefined",""].includes(this.filters[s]))return;if(s.includes("date")||s.includes("due")){var n=this.toGDate(this.filters[s]);if("Invalid date"==n)return void this.notify("فرمت تاریخ وارد شده معتبر نمی باشد","danger");e[s]=n}else e[s]=this.filters[s]}return this.request({url:this.endpoint("reports/balanceSheet"),method:"get",params:Object(o["a"])({},this.filters),success:function(e){t.d=e,Object.keys(t.d).forEach((function(e){t.d[e].remain=t.toMoney(t.d[e].remain)}))}})}},computed:{_:function(){return qs.a}}},Rp=Lp,Op=(a("3fb7"),Object(v["a"])(Rp,Ip,jp,!1,null,"6e063ece",null)),qp=Op.exports;f()(Op,{VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"],VSimpleTable:Na["a"],VSpacer:dt["a"],VSwitch:Je["a"]});var Bp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("گزارش "+t._s(t.layout.title))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("ware-select",{attrs:{label:"کالا"},model:{value:t.ware,callback:function(e){t.ware=e},expression:"ware"}})],1),t.ware&&t.ware.pricingType?a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(" نحوه محاسبه: "),a("span",[t._v(t._s(t.ware.pricingType.name))])]):t._e(),a("v-col",{attrs:{cols:"12"}},[t.filters.ware?a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,"api-url":t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e}}}):t._e()],1)],1)],1)],1)},Up=[],Mp={props:{wareId:{},type:{required:!0}},mixins:[Ra],data:function(){return{url:"reports/buySale",ware:null,filters:{factor__type__in:"",ware:""},layout:{title:""},headers:[{text:"نوع فاکتور",value:"factor.type",items:[{text:"موجودی اول دوره",value:"fpi"},{text:"فروش",value:"sale"},{text:"برگشت از فروش",value:"backFromSale"},{text:"خرید",value:"buy"},{text:"برگشت از خرید",value:"backFromBuy"}]},{text:"تاریخ",value:"factor.date",type:"date"},{text:"شماره عطف",value:"factor.id"},{text:"شماره فاکتور",value:"factor.code"},{text:"خریدار/فروشنده",value:"factor.account.name",type:"text"},{text:"انبار",value:"warehouse.name",type:"text"},{text:"تعداد",value:"count",type:"numeric",sortable:!1},{text:"فی",value:"fee",type:"numeric",sortable:!1},{text:"مبلغ",value:"value",type:"numeric",sortable:!1},{text:"تخفیف",value:"discount",type:"numeric",sortable:!1},{text:"مبلغ کل",value:"total_value",type:"numeric",sortable:!1},{text:"شرح فاکتور",value:"factor.explanation",type:"text"},{text:"توضیحات",value:"explanation",type:"text"}]}},created:function(){this.getData()},methods:{getData:function(){var t=this;Promise.all([this.getWares()]).then((function(e){t.init()}))},init:function(){var t=this;this.log("init list"),this.setLayout(),this.setDefaultFilters(),this.wareId&&(this.ware=this.wares.filter((function(e){return e.id==t.wareId}))[0])},setLayout:function(){"sale"==this.type?this.layout.title="فروش":this.layout.title="خرید"},setDefaultFilters:function(){"sale"==this.type?this.filters["factor__type__in"]=["sale","backFromSale"].join(","):this.filters["factor__type__in"]=["buy","backFromBuy"].join(",")},selectWare:function(){this.filters.ware=this.ware.id}},watch:{form:function(){this.init()},type:function(){this.init()},ware:{handler:function(){this.selectWare()},deep:!0}}},Np=Mp,Yp=Object(v["a"])(Np,Bp,Up,!1,null,"56cee0d8",null),zp=Yp.exports;f()(Yp,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Wp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("کاردکس کالا")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("ware-select",{attrs:{label:"کالا"},on:{input:t.setWarehouse},model:{value:t.inventory.ware,callback:function(e){t.$set(t.inventory,"ware",e)},expression:"inventory.ware"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"انبار",items:t.warehouses,"item-text":"title","item-value":"id"},model:{value:t.filters.warehouse,callback:function(e){t.$set(t.filters,"warehouse",e)},expression:"filters.warehouse"}})],1),a("v-col",{staticClass:"detailed-ware-inventory",attrs:{cols:"12"}},[t.inventory.ware?a("m-datatable",{attrs:{"api-url":t.url,headers:t.headers,filters:t.filters},on:{"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.code",fn:function(e){var i=e.item;return[i.factor.code?a("v-btn",{attrs:{text:"",color:"blue",icon:"",rounded:"",to:t.getDetailLink(i)}},[t._v(t._s(i.origin.code))]):t._e()]}}],null,!1,3026734841)}):t._e()],1)],1)],1)],1)},Gp=[],Kp={components:{Template:Kt},mixins:[_l["a"],Ra],data:function(){return{url:"reports/inventory/ware",inventory:{ware:null},filters:{ware:null,warehouse:null},headers:[{text:"تاریخ",value:"factor.date",type:"date",sortable:!1},{text:"نوع فاکتور",value:"factor.type",type:"select",sortable:!1,items:[{text:"موجودی اول دوره",value:"fpi"},{text:"خرید",value:"buy"},{text:"برگشت از خرید",value:"backFromBuy"},{text:"فروش",value:"sale"},{text:"برگشت از فروش",value:"backFromSale"},{text:"وارده از انتقال",value:"it"},{text:"صادره با انتقال",value:"ot"},{text:"حواله کالای مصرفی",value:"cw"},{text:"رسید تعدیل انبار",value:"ia"},{text:"حواله تعدیل انبار",value:"oa"}]},{text:"شماره",value:"code",type:"number",sortable:!1,filterable:!1},{text:"شرح فاکتور",value:"factor.explanation",type:"text",sortable:!1,filterable:!1},{text:"نام حساب",value:"factor.account.name",type:"text",sortable:!1,filterable:!1},{text:"مقدار وارده",value:"input.count",type:"numeric",sortable:!1,filterable:!1},{text:"فی وارده",value:"input.fee",type:"numeric",sortable:!1,filters:[],filterable:!1},{text:"مبلغ وارده",value:"input.value",type:"numeric",sortable:!1,filterable:!1,filters:[]},{text:"مقدار صادره",value:"output.count",type:"numeric",sortable:!1,filterable:!1,filters:[]},{text:"فی صادره",value:"output.fee",type:"numeric",sortable:!1,filterable:!1,filters:[]},{text:"مبلغ صادره",value:"output.value",type:"numeric",sortable:!1,filterable:!1,filters:[]},{text:"مقدار مانده",value:"remain.count",type:"numeric",sortable:!1,filterable:!1,filters:[]},{text:"فی مانده",value:"remain.fee",type:"numeric",sortable:!1,filterable:!1,filters:[]},{text:"مبلغ مانده",value:"remain.value",type:"numeric",sortable:!1,filterable:!1,filters:[]}]}},created:function(){this.getWarehouses()},methods:{setWarehouse:function(t){t&&(this.filters.warehouse=t.warehouse.id)},getDetailLink:function(t){var e=t.factor,a=e.type,i=t.origin;return["it","ot"].includes(a)?{name:"TransferForm",params:{id:i.id}}:["ia","oa"].includes(i.type)?{name:"AdjustmentForm",params:{id:i.id}}:{name:"FactorForm",params:{id:i.id,type:i.type,isPreFactor:e.is_pre_factor}}},getItemCode:function(t){}},watch:{"inventory.ware":{handler:function(){this.inventory.ware&&(this.filters.ware=this.inventory.ware.id)},deep:!0}},computed:{wares:function(){return this.$store.state.wares.wares}}},Hp=Kp,Qp=(a("750d"),Object(v["a"])(Hp,Wp,Gp,!1,null,null,null)),Xp=Qp.exports;f()(Qp,{VAutocomplete:Xe["a"],VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var Jp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("کاردکس همه کالا ها")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.wareLevels,label:"سطح کالا"},model:{value:t.filters.level,callback:function(e){t.$set(t.filters,"level",e)},expression:"filters.level"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.waresStatuses,label:"وضعیت کالا"},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}})],1),a("v-col",{staticClass:"d-flex justify-center justify-md-end",attrs:{cols:"12",md:"4"}},[t.isAdvari?a("v-btn",{attrs:{color:"blue white--text"},on:{click:t.sortInventory}},[t._v("مرتب سازی کاردکس کالا")]):t._e()],1),a("v-col",{staticClass:"all-wares-inventory",attrs:{cols:"12"}},[a("m-datatable",{ref:"datatable",attrs:{"api-url":t.url,headers:t.headers,filters:t.filters},on:{"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.inventory",fn:function(t){var e=t.item;return[a("open-inventory-btn",{attrs:{wareId:e.id}})]}}])})],1)],1)],1),a("v-dialog",{attrs:{scrollable:"","max-width":"1200px",transition:"dialog-transition",fullscreen:t.isPrinting},model:{value:t.errorDialog,callback:function(e){t.errorDialog=e},expression:"errorDialog"}},[a("v-card",[a("v-card-title",[t._v("اتمام عملیات مرتب سازی کاردکس کالا به دلیل منفی شدن کالا های زیر امکان پذیر نیست")]),a("v-card-text",[a("m-datatable",{attrs:{headers:t.errorHeaders,items:t.errors,filters:t.errorFilters,isDialog:!0},on:{"update:filters":function(e){t.errorFilters=e}},scopedSlots:t._u([{key:"item.factor_item_order",fn:function(e){var a=e.item;return[t._v(t._s(+a.factor_item_order+1))]}},{key:"item.factor.code",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{to:{name:"FactorForm",params:{id:i.factor.id,type:i.factor.type,isPreFactor:i.factor.is_pre_factor}},rounded:"",outlined:"",color:"blue white--text",target:"_blank"}},[t._v(t._s(i.factor.code))])]}},{key:"item.inventory",fn:function(t){var e=t.item;return[a("open-inventory-btn",{attrs:{wareId:e.ware_id}})]}}])})],1)],1)],1)],1)},Zp=[],tv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-icon",{attrs:{title:"کاردکس",color:"cyan",disabled:!t.wareId},on:{click:t.openInventory}},[t._v("fa-pallet")])},ev=[],av={props:{wareId:{default:null}},methods:{openInventory:function(){var t=this.$router.resolve({name:"DetailedWareInventoryReport",query:{"inventory.ware":this.wareId}});window.open(t.href,"_blank")}}},iv=av,sv=Object(v["a"])(iv,tv,ev,!1,null,null,null),nv=sv.exports;f()(sv,{VIcon:b["a"]});var ov={components:{MDatatable:Bt["a"],OpenInventoryBtn:nv},mixins:[Ra],data:function(){return{url:"reports/inventory/ware/all",headers:[{text:"کد",value:"code",sortable:!1},{text:"نام",value:"name",sortable:!1},{text:"واحد",value:"unit",sortable:!1,filterable:!1},{text:"مقدار وارده",value:"input.count",type:"numeric",sortable:!1,filterable:!1},{text:"فی وارده",value:"input.fee",type:"numeric",sortable:!1,filterable:!1},{text:"مبلغ وارده",value:"input.value",type:"numeric",sortable:!1,filterable:!1},{text:"مقدار صادره",value:"output.count",type:"numeric",sortable:!1,filterable:!1},{text:"فی صادره",value:"output.fee",type:"numeric",sortable:!1,filterable:!1},{text:"مبلغ صادره",value:"output.value",type:"numeric",sortable:!1,filterable:!1},{text:"مقدار مانده",value:"remain.count",type:"numeric",sortable:!1,filterable:!1},{text:"فی مانده",value:"remain.fee",type:"numeric",sortable:!1,filterable:!1},{text:"مبلغ مانده",value:"remain.value",type:"numeric",sortable:!1,filterable:!1},{text:"کاردکس",value:"inventory",sortable:!1,filterable:!1,hideInExport:!0}],filters:{level:3},errors:[],errorDialog:!1,errorFilters:{},errorHeaders:[{text:"کالا",value:"ware_name"},{text:"انبار",value:"warehouse_name"},{text:"نوع فاکتور",value:"factor.type",items:d["a"]},{text:"شماره فاکتور",value:"factor.code"},{text:"شماره ردیف فاکتور",value:"factor_item_order"},{text:"تعداد کسری",value:"count"},{text:"کاردکس",value:"inventory",sortable:!1,filterable:!1,hideInExport:!0}]}},methods:{sortInventory:function(){var t=this;this.request({url:this.endpoint("wares/sortInventory"),method:"post",success:function(){t.successNotify(),t.$refs.datatable.getDataFromApi()},error:function(e){t.errors=e.response.data[0]["messages"],t.errorDialog=!0}})}}},rv=ov,lv=(a("1ea8"),Object(v["a"])(rv,Jp,Zp,!1,null,null,null)),cv=lv.exports;f()(lv,{VBtn:_["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VRow:ct["a"],VSelect:Re["a"]});var uv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("کاردکس انبار")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("ware-select",{attrs:{label:"کالا"},on:{change:function(e){return t.filters.ware=e.id}}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"انبار",items:t.warehouses,"item-text":"title","item-value":"id",clearable:""},model:{value:t.filters.warehouse,callback:function(e){t.$set(t.filters,"warehouse",e)},expression:"filters.warehouse"}})],1),a("v-col",{attrs:{cols:"12"}},[t.filters.ware?a("m-datatable",{attrs:{"api-url":t.url,headers:t.headers,filters:t.filters},on:{"update:filters":function(e){t.filters=e}}}):t._e()],1)],1)],1)],1)},dv=[],mv={mixins:[Ra],data:function(){return{url:"reports/inventory/warehouse",headers:[{text:"تاریخ",value:"factor.date",type:"date",sortable:!1,filterable:!1},{text:"نوع فاکتور",value:"factor.type",sortable:!1,filterable:!1,items:[{label:"خرید",value:"buy"},{label:"برگشت از خرید",value:"backFromBuy"},{label:"فروش",value:"sale"},{label:"برگشت از فروش",value:"backFromSale"},{label:"موجودی اول دوره",value:"fpi"},{label:"وارده از انتقال",value:"it"},{label:"صادره با انتقال",value:"ot"}]},{text:"عطف فاکتور",value:"factor.id",sortable:!1,filterable:!1},{text:"شماره فاکتور",value:"factor.code",sortable:!1,filterable:!1},{text:"شرح فاکتور",value:"factor.explanation",sortable:!1,filterable:!1},{text:"انبار",value:"warehouse.name",sortable:!1,filterable:!1},{text:"نام حساب",value:"factor.account.name",sortable:!1,filterable:!1},{text:"وارده",value:"input",type:"numeric",sortable:!1,filterable:!1},{text:"صادره",value:"output",type:"numeric",sortable:!1,filterable:!1},{text:"مانده",value:"remain",type:"numeric",sortable:!1,filterable:!1}],filters:{ware:null,warehouse:null}}},created:function(){this.getWarehouses()},methods:{}},pv=mv,vv=Object(v["a"])(pv,uv,dv,!1,null,"3f29e596",null),hv=vv.exports;f()(vv,{VAutocomplete:Xe["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"]});var fv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("کاردکس انبار همه کالا ها")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{"return-object":!1,label:"انبار",items:t.warehouses,"item-text":"title","item-value":"id"},model:{value:t.filters.warehouse,callback:function(e){t.$set(t.filters,"warehouse",e)},expression:"filters.warehouse"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.wareLevels,label:"سطح کالا"},model:{value:t.filters.level,callback:function(e){t.$set(t.filters,"level",e)},expression:"filters.level"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-select",{attrs:{items:t.waresStatuses,label:"وضعیت کالا"},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}})],1),a("v-col",{attrs:{cols:"12"}},[a("m-datatable",{attrs:{"api-url":t.url,headers:t.headers,filters:t.filters},on:{"update:filters":function(e){t.filters=e}}})],1)],1)],1)],1)},_v=[],bv={mixins:[Ra],props:["warehouseId"],data:function(){return{url:"reports/inventory/warehouse/all",warehouse:null,filters:{warehouse:null},headers:[{text:"کد",value:"code"},{text:"نام",value:"name"},{text:"واحد",value:"unit",sortable:!1,filterable:!1},{text:"وارده",value:"input",type:"numeric",filterable:!1},{text:"صادره",value:"output",type:"numeric",filterable:!1},{text:"مانده",value:"remain",type:"numeric",filterable:!1}]}},created:function(){this.getWarehouses()}},xv=bv,gv=Object(v["a"])(xv,fv,_v,!1,null,"6ea49acc",null),yv=gv.exports;f()(gv,{VAutocomplete:Xe["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VRow:ct["a"],VSelect:Re["a"]});var kv=[{name:"Reports",path:"/report",component:At,children:[{name:"TransfersList",path:"lists/transfers",component:cm},{name:"SanadsList",path:"lists/sanads/:type?",component:zd,props:!0},{name:"SanadItemsList",path:"lists/sanadItems",component:im},{name:"FactorsAggregatedSanadsList",path:"lists/factors/aggregatedSanads/:type",component:qd,props:!0},{name:"FactorsList",path:"lists/factors/:type/:isPreFactor",component:Ad,props:function(t){var e=[!0,"true"].includes(t.params.isPreFactor);return Object(o["a"])(Object(o["a"])({},t.params),{},{isPreFactor:e})}},{name:"TransactionsList",path:"lists/transactions/:type",component:Dc,props:!0},{name:"ChequesList",path:"lists/cheques/:type/:isPaid",component:um["a"],props:!0},{name:"AdjustmentsList",path:"lists/adjustments/:type",component:fm,props:!0},{name:"WarehouseHandlingList",path:"lists/warehouseHandling",component:km},{name:"SalePricesList",path:"lists/salePrices",component:Fm},{name:"AccountsCoding",path:"accountsCoding",component:Lm},{name:"AccountsBalanceReport",path:"balance/accounts",component:Xm},{name:"FloatAccountsBalanceReportByGroup",path:"balance/floatAccountsByGroup/:is_cost_center?",component:ip,props:!0},{name:"FloatAccountsBalanceReport",path:"balance/floatAccounts/:is_cost_center?",component:cp,props:!0},{name:"LedgerReport",path:"ledger/:level?",component:hp,props:function(t){return Object(o["a"])({ledgerAccountIds:t.query.accs},t.params)}},{name:"BillReport",path:"bill/:accountId?",component:yp},{name:"DetailedWareInventoryReport",path:"inventory/ware/detailed",component:Xp},{name:"DetailedWarehouseInventoryReport",path:"inventory/warehouse/detailed",component:hv,props:function(t){return{warehouseId:t.query.warehouseId}}},{name:"AllWaresInventoryReport",path:"inventory/ware/all",component:cv},{name:"AllWarehousesInventoryReport",path:"inventory/warehouse/all",component:yv},{name:"JournalReport",path:"journal",component:Tp},{name:"IncomeStatementReport",path:"incomeStatement/:detailed?",component:Ap,props:!0},{name:"BalanceSheetReport",path:"balanceSheet/:detailed?",component:qp,props:!0},{name:"BuySaleReport",path:"buySaleReport/:type",component:zp,props:function(t){return Object(o["a"])({wareId:t.query.wareId},t.params)}}]}],wv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"mt-md-8"},[a("v-col",{staticClass:"d-flex order-1 order-md-0 flex-row flex-md-column justify-space-around justify-md-center align-right pr-8",attrs:{cols:"12",md:"4"}},[a("v-btn",{attrs:{target:"_blank",href:"https://www.instagram.com/sobhan.accounting/",fab:"",color:"red white--text"}},[a("v-icon",[t._v("fab fa-instagram")])],1),a("v-btn",{staticClass:"mt-md-3",attrs:{target:"_blank",href:"https://wa.me/989917484755",fab:"",color:"light-green white--text"}},[a("v-icon",[t._v("fab fa-whatsapp")])],1),a("v-btn",{staticClass:"mt-md-3",attrs:{target:"_blank",href:"http://sobhan.net/",fab:"",color:"light-blue white--text"}},[a("v-icon",[t._v("fab fa-edge-legacy")])],1),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mt-md-3",attrs:{target:t.isXs||t.isSm?"_blank":null,href:t.isXs||t.isSm?"tel:07191002520":null,fab:"",color:"orange white--text"}},"v-btn",t.isXs||t.isSm?{}:s,!1),t.isXs||t.isSm?{}:i),[a("v-icon",[t._v("fa-phone")])],1)]}}])},[a("span",{attrs:{dir:"ltr"}},[t._v("071 - 9100 25 20")])])],1),a("v-col",{staticClass:"pt-0",attrs:{cols:"12",md:"4"}},[a("v-card",{staticClass:"elevation-3"},[a("v-img",{staticClass:"white--text align-end",attrs:{height:t.isXs?"150px":"200px",contain:"",src:"/img/SobhanAccountingLogo.png"}}),a("v-card-text",{staticClass:"text--primary",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}}},[a("v-card-title",{staticClass:"d-block text-center"},[t._v("حسابداری آنلاین سبحان")]),a("v-text-field",{staticClass:"mt-4 text-field-ltr",attrs:{dense:"",outlined:"","hide-details":"",label:"نام کاربری"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{staticClass:"mt-3 text-field-ltr",attrs:{dense:"",type:"password",outlined:"","hide-details":"",label:"کلمه عبور"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("div",{staticClass:"d-flex justify-center mt-3"},[a("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:"6Lda3sYaAAAAAKJ3kt1GnJWq5ennm3QIkz_NKNMs"},on:{verify:function(e){return t.recaptchaResponse=e}}})],1)],1),a("v-card-actions",{staticClass:"pb-3 flex-row flex-md-row"},[a("v-btn",{attrs:{text:"",to:{name:"ForgetPassword"}}},[t._v("کلمه عبور خود را فراموش کرده اید؟")]),a("v-spacer"),a("v-btn",{staticClass:"blue--text mr-2",attrs:{to:{name:"Register"},outlined:""}},[t._v("ثبت نام")]),a("v-btn",{staticClass:"blue white--text mr-2",class:{"w-100px":!t.isXs},on:{click:t.login}},[t._v("ورود")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px",transition:"dialog-transition"},model:{value:t.twoFactorAuthenticationDialog,callback:function(e){t.twoFactorAuthenticationDialog=e},expression:"twoFactorAuthenticationDialog"}},[a("v-card",[a("v-card-title",[t._v("کد ورود دو عاملی را وارد کنید")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:"کد"},model:{value:t.twoFactorAuthenticationCode,callback:function(e){t.twoFactorAuthenticationCode=e},expression:"twoFactorAuthenticationCode"}})],1),a("v-col",{attrs:{cols:"12",md:"6","offset-md":"3"}},[a("v-btn",{staticClass:"mt-3 mt-md-1 mr-md-2",attrs:{block:"",color:"blue white--text"},on:{click:t.login}},[t._v("تایید")])],1)],1)],1)],1)],1)],1)},Cv=[],Ev={name:"Login",mixins:[qt],data:function(){return{username:"",password:"",twoFactorAuthenticationDialog:"",twoFactorAuthenticationCode:""}},mounted:function(){document.title="ورود",this.token&&this.redirect()},methods:{redirect:function(){var t=this.urlQuery.redirectUrl;t?this.$router.push(t):this.$router.push({name:"Home"})},login:function(){var t=this;this.request({url:this.endpoint("login"),method:"post",data:{username:this.username,password:this.password,recaptchaResponse:this.recaptchaResponse,code:this.twoFactorAuthenticationCode},token:!1,success:function(e){e.need_two_factor_authentication?t.twoFactorAuthenticationDialog=!0:(t.twoFactorAuthenticationDialog=!1,t.setToken(e.token),t.redirect())}})}}},$v=Ev,Tv=(a("3d76"),Object(v["a"])($v,wv,Cv,!1,null,"6437b2c0",null)),Sv=Tv.exports;f()(Tv,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VIcon:b["a"],VImg:x["a"],VRow:ct["a"],VSpacer:dt["a"],VTextField:pt["a"],VTooltip:Ca["a"]});var Vv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"d-flex justify-center mt-md-8"},[a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-card",[a("v-card-title",[t._v("ثبت نام در سامانه حسابداری سبحان")]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:" * نام",disabled:!t.isEditing,rules:t.rules.required,"hide-details":!1},model:{value:t.item.first_name,callback:function(e){t.$set(t.item,"first_name",e)},expression:"item.first_name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* نام خانوادگی",disabled:!t.isEditing,rules:t.rules.required,"hide-details":!1},model:{value:t.item.last_name,callback:function(e){t.$set(t.item,"last_name",e)},expression:"item.last_name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-phone-field",{attrs:{label:"* شماره موبایل ",disabled:!t.isEditing},model:{value:t.item.phone,callback:function(e){t.$set(t.item,"phone",e)},expression:"item.phone"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-national-code",{staticClass:"text-field_ltr",attrs:{label:"* کد ملی ",disabled:!t.isEditing},model:{value:t.item.username,callback:function(e){t.$set(t.item,"username",e)},expression:"item.username"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:" * کلمه عبور",type:"password",disabled:!t.isEditing,rules:t.passwordRules,"hide-details":!1},model:{value:t.item.password,callback:function(e){t.$set(t.item,"password",e)},expression:"item.password"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:" * تکرار کلمه عبور",type:"password",disabled:!t.isEditing,rules:t.rules.required,"hide-details":!1},model:{value:t.item.passwordRepeat,callback:function(e){t.$set(t.item,"passwordRepeat",e)},expression:"item.passwordRepeat"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex justify-center mt-0"},[a("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:"6Lda3sYaAAAAAKJ3kt1GnJWq5ennm3QIkz_NKNMs"},on:{verify:function(e){return t.recaptchaResponse=e}}})],1)])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue white--text w-100px"},on:{click:t.register}},[t._v("ثبت نام")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:t.phoneVerificationDialog,callback:function(e){t.phoneVerificationDialog=e},expression:"phoneVerificationDialog"}},[a("v-card",[a("v-card-title",[t._v("تایید شماره موبایل")]),a("v-card-subtitle",{staticClass:"mt-n1"},[t._v(" کد ارسال شده به شماره "),a("span",[t._v(t._s(t.item.phone))]),t._v(" را وارد کنید ")]),a("v-card-text",[a("v-form",[a("v-text-field",{staticClass:"text-field-ltr",model:{value:t.item.verificationCode,callback:function(e){t.$set(t.item,"verificationCode",e)},expression:"item.verificationCode"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"warning"},on:{click:function(e){t.phoneVerificationDialog=!1}}},[t._v("تغییر شماره موبایل")]),a("v-spacer"),a("v-btn",{attrs:{outlined:"",color:"blue"},on:{click:function(e){return t.sendVerificationCode({phone:t.item.phone,recaptchaResponse:t.recaptchaResponse})}}},[t._v("ارسال دوباره")]),a("v-btn",{attrs:{color:"blue white--text w-100px"},on:{click:t.createUser}},[t._v("تایید")])],1)],1)],1)],1)},Fv=[],Pv={name:"Register",mixins:[qt,Lt["b"],Rt["a"]],props:{},data:function(){return{item:{},phoneVerificationDialog:!1,requiredRule:[function(t){return!["",null,void 0].includes(t)||"این فیلد اجباری می باشد"}]}},computed:{},methods:{getItemTemplate:function(){return{}},register:function(){this.$refs.form.validate()&&this.verifyPhone()},verifyPhone:function(){this.item.password==this.item.passwordRepeat?(this.sendVerificationCode({phone:this.item.phone,recaptchaResponse:this.recaptchaResponse}),this.phoneVerificationDialog=!0):this.notify("کلمه عبور و تکرار آن یکسان نیستند","danger")},createUser:function(){var t=this;this.request({url:this.endpoint("users/create"),method:"post",data:this.item,success:function(e){t.successNotify(),t.setToken(e.token),t.$router.push({name:"Profile"})}})}}},Dv=Pv,Av=Object(v["a"])(Dv,Vv,Fv,!1,null,null,null),Iv=Av.exports;f()(Av,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardSubtitle:et["b"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VForm:Xt["a"],VRow:ct["a"],VSpacer:dt["a"],VTextField:pt["a"]});var jv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"d-flex justify-center mt-md-8"},[a("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[a("v-card",[a("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",contain:"",src:"/img/SobhanAccountingLogo.png"}}),a("v-card-title",{staticClass:"d-block text-center"},[t._v("فراموشی کلمه عبور")]),a("v-card-text",{staticClass:"text--primary mb-2"},[a("v-form",{ref:"profileForm"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:"نام کاربری",disabled:t.codeSent,rules:t.rules.required,"hide-details":!1},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-phone-field",{attrs:{label:"شماره موبایل",disabled:t.codeSent,rules:t.rules.required},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1),a("v-form",{ref:"verifyForm"},[a("v-row",[t.codeSent?[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{label:"کد دریافت شده",rules:t.rules.required},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{type:"password",label:"کلمه عبور جدید",rules:t.passwordRules,"hide-details":!1},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"text-field-ltr",attrs:{type:"password",label:"تکرار کلمه عبور جدید",rules:t.rules.required,"hide-details":!1},model:{value:t.newPasswordRepeat,callback:function(e){t.newPasswordRepeat=e},expression:"newPasswordRepeat"}})],1)]:t._e()],2)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex justify-center mt-0"},[a("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:"6Lda3sYaAAAAAKJ3kt1GnJWq5ennm3QIkz_NKNMs"},on:{verify:function(e){return t.recaptchaResponse=e}}})],1)])],1)],1),a("v-card-actions",{},[t.codeSent?[a("v-btn",{attrs:{text:""},on:{click:function(e){return t.sendVerificationCode({phone:t.phone,username:t.username,recaptchaResponse:t.recaptchaResponse})}}},[t._v("ارسال دوباره کد")]),a("v-spacer"),a("v-btn",{staticClass:"green white--text",on:{click:t.changePassword}},[t._v("ثبت کلمه عبور جدید")])]:[a("v-spacer"),a("v-btn",{staticClass:"blue white--text w-100px",on:{click:t.sendCode}},[t._v("ارسال کد تایید")])]],2)],1)],1)],1)},Lv=[],Rv={name:"Login",mixins:[qt,Lt["b"]],data:function(){return{phone:"09307468674",username:"2540118755",code:"",newPassword:"Mmd2Sobhan!",newPasswordRepeat:"Mmd2Sobhan!",codeSent:!1}},created:function(){},methods:{sendCode:function(){var t=this;this.$refs.profileForm.validate()&&this.sendVerificationCode({phone:this.phone,username:this.username,recaptchaResponse:this.recaptchaResponse},(function(){return t.codeSent=!0}))},changePassword:function(){var t=this;if(this.$refs.verifyForm.validate()){if(this.newPassword!=this.newPasswordRepeat)return void this.notify("کلمه عبور و تکرار آن یکسان نیستند","danger");this.request({url:this.endpoint("users/changePasswordByVerificationCode"),method:"post",data:{username:this.username,phone:this.phone,code:this.code,new_password:this.newPassword,recaptchaResponse:this.recaptchaResponse},token:!1,success:function(e){t.successNotify(),t.$router.push({name:"Login"})},error:function(e){t.$refs.recaptcha.reset(),t.handleError(e,{})}})}}}},Ov=Rv,qv=(a("e933"),Object(v["a"])(Ov,jv,Lv,!1,null,"448e5525",null)),Bv=qv.exports;f()(qv,{VBtn:_["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VForm:Xt["a"],VImg:x["a"],VRow:ct["a"],VSpacer:dt["a"],VTextField:pt["a"]});var Uv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"app-background-color"},[a("v-card-title",[t._v("ماشین حساب")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.packageHeaders,items:t.packages,"item-key":"name","show-select":"","single-select":!0,"hide-default-footer":"","hide-default-header":"","disable-sort":""},on:{input:t.setPackage},scopedSlots:t._u([{key:"header",fn:function(){return[a("tr",[a("th",{staticClass:"indigo white--text pa-3",staticStyle:{"border-bottom":"1px dashed #212121"},attrs:{colspan:"2"}},[t._v("انتخاب بسته")])])]},proxy:!0}])})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.modulesHeaders,items:t.modules,"item-key":"codename","show-select":"","hide-default-footer":"","hide-default-header":"","disable-sort":"","return-object":!1},scopedSlots:t._u([{key:"header",fn:function(){return[a("tr",[a("th",{staticClass:"pa-3 header-border",attrs:{colspan:"3"}},[t._v("ماژول ها")])])]},proxy:!0},{key:"item.price",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(a.price)))]}}]),model:{value:t.package.modules,callback:function(e){t.$set(t.package,"modules",e)},expression:"package.modules"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-row",{staticClass:"ma-0 "},[a("v-col",{staticClass:"elevation-1 white",attrs:{cols:"12"}},[a("v-row",{staticClass:"d-flex flex-row align-center header-border"},[a("v-col",{attrs:{cols:"3"}},[a("span",{staticClass:"font-weight-bold grey--text text--darken-4"},[t._v("تعداد شرکت ها")])]),a("v-col",[a("v-slider",{staticClass:"mt-12",attrs:{"thumb-label":"always",min:"1",max:"10"},model:{value:t.package.companies,callback:function(e){t.$set(t.package,"companies",e)},expression:"package.companies"}})],1)],1),a("v-row",{staticClass:"d-flex flex-row align-center"},[a("v-col",{attrs:{cols:"3"}},[a("span",{staticClass:"font-weight-bold grey--text text--darken-4"},[t._v("تعداد کاربر ها")])]),a("v-col",[a("v-slider",{staticClass:"mt-12",attrs:{"thumb-label":"always",min:"1",max:"10"},model:{value:t.package.users,callback:function(e){t.$set(t.package,"users",e)},expression:"package.users"}})],1)],1)],1),a("v-col",{staticClass:"elevation-1 pb-1 mt-3 grey lighten-4 grey--text text--darken-4",attrs:{cols:"12"}},[a("v-row",[t._l(t.prices,(function(e,i){return[a("v-col",{key:"1"+i,staticClass:"py-1",attrs:{cols:"9"}},[t._v(t._s(e.title))]),a("v-col",{key:"2"+i,staticClass:"py-1 text-left",attrs:{cols:"3"}},[t._v(t._s(t._f("toMoney")(e.price))+" ریال")])]})),a("v-col",{staticClass:"mt-2 pt-4 text-h5 top-border",attrs:{cols:"6"}},[t._v("مبلغ قابل پرداخت")]),a("v-col",{staticClass:"mt-2 pt-4 text-h5 top-border text-left",attrs:{cols:"6"}},[t._v(t._s(t._f("toMoney")(t.payablePrice))+" ریال")])],2)],1)],1)],1)],1)],1)],1)},Mv=[],Nv={name:"Test",data:function(){return{package:{modules:[],users:1,companies:1,discount:0},packageHeaders:[{text:"نام",value:"name"}],packages:[{name:"فروشگاهی",modules:["transactions","warehouses","factors"],users:1,companies:1,discount:5},{name:"خدماتی",modules:["sanads","transactions","factors"],users:1,companies:1,discount:10},{name:"بازرگانی",modules:["sanads","transactions","warehouses","factors"],users:1,companies:1,discount:15}],modulesHeaders:[{text:"نام",value:"name"},{text:"قیمت",value:"price",align:"left"}],modules:[{name:"حسابداری",codename:"sanads",price:17e5},{name:"خزانه داری",codename:"transactions",price:12e5},{name:"انبار",codename:"warehouses",price:9e5},{name:"بازرگانی",codename:"factors",price:2e6}],userFee:35e4,companyFee:5e5}},computed:{payablePrice:function(){return this.prices.reduce((function(t,e){return e.adds?t+e.price:t-e.price}),0)},prices:function(){var t=this.package.modules.reduce((function(t,e){return t+ +e.price}),0),e=this.package.discount*t;return e&&(e/=100),[{title:"جمع کل",price:t,adds:!0},{title:"جمع تعداد کاربران اضافی",price:this.userFee*(this.package.users-1),adds:!0},{title:"جمع تعداد شرکت های اضافی",price:this.companyFee*(this.package.companies-1),adds:!0},{title:"تخفیف",price:e,adds:!1},{title:"مالیات بر ارزش افزوده",price:.09*(t-e),adds:!0}]}},created:function(){var t=this;this.packages.forEach((function(e){e.modules=t.modules.filter((function(t){return e.modules.includes(t.codename)}))}))},methods:{setPackage:function(t){this.package=t[0]}}},Yv=Nv,zv=(a("73b7"),a("ba0d")),Wv=Object(v["a"])(Yv,Uv,Mv,!1,null,"12402c5d",null),Gv=Wv.exports;f()(Wv,{VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDataTable:be["a"],VRow:ct["a"],VSlider:zv["a"]}),i["a"].use(xt["a"]);var Kv=[{path:"/",name:"Login",component:Sv,props:!0},{path:"/register",name:"Register",component:Iv},{path:"/forgetPassword",name:"ForgetPassword",component:Bv}].concat(Object(bt["a"])(Td),Object(bt["a"])(kv),[{path:"/test",name:"Test",component:Gv}]),Hv=new xt["a"]({mode:"history",base:"/",routes:Kv}),Qv=function t(e,a,i){var s,n="",o=Object(c["a"])(i);try{var r=function(){var i=s.value;if(i.to){var o=i.to.name==e;if(i.to.params&&a&&Object.keys(a).forEach((function(t){"id"!=t&&(o&=i.to.params[t]==a[t])})),o)return{v:i.title}}else if(i.children&&(n=t(e,a,i.children),n))return{v:n}};for(o.s();!(s=o.n()).done;){var l=r();if("object"===Object(_t["a"])(l))return l.v}}catch(u){o.e(u)}finally{o.f()}return!1};Hv.afterEach((function(t,e){i["a"].nextTick((function(){var e=Qv(t.name,t.params,$.computed.allRoutes());e||(e="سامانه حسابداری سبحان"),document.title=e}))}));var Xv=Hv,Jv={state:{dashtbashiCars:[],dashtbashiDrivers:[],drivings:[],associations:[]},mutations:{setDashtbashiCars:function(t,e){t.dashtbashiCars=e},setDashtbashiDrivers:function(t,e){t.dashtbashiDrivers=e},setDrivings:function(t,e){t.drivings=e},setAssociations:function(t,e){t.associations=e}}},Zv={state:{visitors:[],commissionRanges:[],paths:[],drivers:[],distributors:[],cars:[]},mutations:{setVisitors:function(t,e){t.visitors=e},setCommissionRanges:function(t,e){t.commissionRanges=e},setPaths:function(t,e){t.paths=e},setDrivers:function(t,e){t.drivers=e},setDistributors:function(t,e){t.distributors=e},setCars:function(t,e){t.cars=e}}};i["a"].use(G["a"]);var th=new G["a"].Store({state:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Jv.state),Zv.state),{},{user:null,OGR:0,isGetting:{},isPrinting:!1,now:null,snackbar:{show:!1,text:"",color:""},companyUsers:[],options:null,cities:[],accounts:[],floatAccountGroups:[],floatAccounts:[],accountTypes:[],defaultAccounts:[],wares:{wares:[],warehouses:[],units:[],salePriceTypes:[]},factorExpenses:[],chequebooks:[],defaultTexts:[],bankingOperations:[],chequeMeta:{types:[],guarantee_types:[],owner_types:[],statuses:[],tree:{}}}),mutations:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Jv.mutations),Zv.mutations),{},{updateIsGetting:function(t,e){t.isGetting=Object(o["a"])(Object(o["a"])({},t.isGetting),e)},setIsPrinting:function(t,e){t.isPrinting=e},incrementOGR:function(t){t.OGR++},decrementOGR:function(t){t.OGR--},setSnackbar:function(t,e){t.snackbar=e},setTime:function(t,e){t.serverNow=e},setOptions:function(t,e){t.options=e},setUser:function(t,e){t.user=e},setCompanyUsers:function(t,e){t.companyUsers=e},setCities:function(t,e){t.cities=e},setAccounts:function(t,e){t.accounts=e},setFloatAccountGroups:function(t,e){t.floatAccountGroups=e},setFloatAccounts:function(t,e){t.floatAccounts=e},setAccountTypes:function(t,e){t.accountTypes=e},setDefaultAccounts:function(t,e){t.defaultAccounts=e},setChequebooks:function(t,e){t.chequebooks=e},setWares:function(t,e){e.wares&&(t.wares.wares=e.wares),e.warehouses&&(t.wares.warehouses=e.warehouses),e.units&&(t.wares.units=e.units),e.salePriceTypes&&(t.wares.salePriceTypes=e.salePriceTypes)},setFactorExpenses:function(t,e){t.factorExpenses=e},setDefaultTexts:function(t,e){t.defaultTexts=e},setBankingOperations:function(t,e){t.bankingOperations=e},setChequeMeta:function(t,e){t.chequeMeta=e}})}),eh=(a("7fd9"),a("30ef")),ah=a.n(eh),ih=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex"},[t.factorType?a("v-icon",{attrs:{title:"آخرین قیمت",color:"cyan",disabled:!t.ware},on:{click:t.showPrices}},[t._v("fa-dollar-sign")]):t._e(),a("open-inventory-btn",{staticClass:"mr-2",attrs:{wareId:t.ware&&t.ware.id}}),a("v-icon",{staticClass:"pl-2 mr-2",attrs:{title:"موجودی",color:"cyan",disabled:!t.ware},on:{click:t.showInventory}},[t._v("fa-boxes")]),a("v-autocomplete",t._g(t._b({attrs:{title:t.ware&&t.ware.name,label:t.label,items:t.wares.filter((function(t){return 3==t.level})),"item-text":"name","item-value":"id",disabled:t.disabled,"return-object":!0,suffix:t.getSuffix()},model:{value:t.ware,callback:function(e){t.ware=e},expression:"ware"}},"v-autocomplete",t.$attrs,!1),t.$listeners)),t.ware?a("v-dialog",{attrs:{scrollable:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v("موجودی انبار ها برای "+t._s(t.ware.name))]),a("v-card-text",[a("v-simple-table",[a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("انبار")]),a("th",[t._v("مانده")])])]),a("tbody",t._l(t.inventories,(function(e,i){return a("tr",{key:e.id},[a("td",[t._v(t._s(i+1))]),a("td",[t._v(t._s(e.warehouse.name))]),a("td",[t._v(t._s(t._f("toMoney")(e.count)))])])})),0)])],1)],1)],1):t._e(),t.ware?a("v-dialog",{attrs:{scrollable:"","max-width":"1000px"},model:{value:t.pricesDialog,callback:function(e){t.pricesDialog=e},expression:"pricesDialog"}},[a("v-card",[a("v-card-title",[t._v("آخرین قیمت های "+t._s(t.ware.name))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("m-datatable",{attrs:{headers:t.pricesHeaders,"api-url":"reports/buySale",filters:t.pricesFilters},on:{"update:filters":function(e){t.pricesFilters=e}}})],1)],1)],1)],1)],1):t._e()],1)},sh=[],nh={mixins:[Ra],components:{OpenInventoryBtn:nv},props:{value:{},disabled:{},label:{},returnObject:{default:!0},factorType:{default:null},showMainUnit:{default:!0}},data:function(){return{ware:null,dialog:!1,wareInventory:[],pricesDialog:!1,pricesHeaders:[{text:"شماره فاکتور",value:"factor.code"},{text:"تاریخ",value:"factor.date",type:"date"},{text:"تعداد",value:"count",type:"numeric"},{text:"واحد",value:"unit.name"},{text:"خریدار/فروشنده",value:"factor.account.name",type:"text"},{text:"فی",value:"fee",type:"numeric",sortable:!1},{text:"مبلغ کل",value:"total_value",type:"numeric",sortable:!1}],pricesFilters:{offset:0,limit:5,factor__type__in:null}}},computed:{inventories:function(){var t=this.wareInventory.reduce((function(t,e){var a=t.filter((function(t){return t.warehouse.id==e.warehouse.id}));return a.length?(a=a[0],a.count+=+e.count):t.push({warehouse:e.warehouse,count:+e.count}),t}),[]);return t.sort((function(t,e){return t.warehouse.id-e.warehouse.id}))}},created:function(){this.getWares(),this.setWare()},methods:{showInventory:function(){var t=this;this.request({url:this.endpoint("wares/wares/".concat(this.ware.id)),method:"get",success:function(e){t.wareInventory=e.inventory,t.dialog=!0}})},showPrices:function(){this.pricesFilters.factor__type__in=this.factorType,this.pricesDialog=!0},setWare:function(){var t=this;this.value!=this.ware&&(isNaN(this.value)?this.ware=this.value:(this.ware=this.wares.find((function(e){return e.id==t.value})),this.$emit("input",this.ware)),this.ware&&(this.pricesFilters.ware=this.ware.id))},getSuffix:function(){if(this.showMainUnit&&this.ware)return this.ware.main_unit_name}},watch:{value:function(){this.setWare()},ware:function(){var t=this.ware;t&&t.id&&!this.returnObject&&(t=t.id),this.$emit("input",t)}}},oh=nh,rh=Object(v["a"])(oh,ih,sh,!1,null,null,null),lh=rh.exports;f()(rh,{VAutocomplete:Xe["a"],VCard:tt["a"],VCardText:et["c"],VCardTitle:et["d"],VCol:it["a"],VDialog:nt["a"],VIcon:b["a"],VRow:ct["a"],VSimpleTable:Na["a"]});var ch=a("e493"),uh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"menu",staticClass:"context-menu",style:t.contextMenuStyle},[t._t("default",(function(){return[t._v("No Content!")]}))],2)},dh=[],mh={name:"ContextMenu",data:function(){return{top:null,left:null,show:!1}},computed:{contextMenuStyle:function(){return{top:this.top+"px",left:this.left+"px"}}},mounted:function(){window.addEventListener("scroll",this.close),window.addEventListener("click",this.close)},methods:{open:function(t){var e=this;this.show=!0,this.$nextTick((function(){e.top=t.clientY,e.left=t.clientX-e.$refs.menu.offsetWidth}))},close:function(){this.show=!1}}},ph=mh,vh=(a("4b5a"),Object(v["a"])(ph,uh,dh,!1,null,null,null)),hh=vh.exports,fh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{attrs:{color:"light-blue white--text",to:t.to,icon:"",target:t.target}},[a("v-icon",[t._v("fa-external-link-alt")])],1)},_h=[],bh={props:{to:{required:!0},target:{default:"_blank"}}},xh=bh,gh=Object(v["a"])(xh,fh,_h,!1,null,null,null),yh=gh.exports;f()(gh,{VBtn:_["a"],VIcon:b["a"]});var kh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",t._g(t._b({staticClass:"text-field-ltr",attrs:{"hide-details":!1,rules:t.rules,type:"number"}},"v-text-field",t.$attrs,!1),t.$listeners))},wh=[],Ch={name:"PhoneField",data:function(){return{rules:[function(t){return/09\d{9}/.test(t)||"شماره موبایل اشتباه است"}]}}},Eh=Ch,$h=Object(v["a"])(Eh,kh,wh,!1,null,null,null),Th=$h.exports;f()($h,{VTextField:pt["a"]});var Sh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-text-field",t._g(t._b({staticClass:"text-field-ltr",attrs:{"hide-details":!1,rules:t.rules,type:"number"}},"v-text-field",t.$attrs,!1),t.$listeners))},Vh=[],Fh=(a("a630"),{name:"PhoneField",data:function(){return{rules:[function(t){function e(t){if(!/^\d{10}$/.test(t))return!1;var e=+t[9],a=Array.from({length:9}).map((function(e,a){return+t[a]*(10-a)})).reduce((function(t,e){return t+e}))%11;return a<2?e==a:e+a==11}return e(t)||"کد ملی صحیح نمی باشد"}]}}}),Ph=Fh,Dh=Object(v["a"])(Ph,Sh,Vh,!1,null,null,null),Ah=Dh.exports;f()(Dh,{VTextField:pt["a"]});var Ih=a("1157"),jh=a.n(Ih),Lh=a("e37d"),Rh=a("a632"),Oh=a.n(Rh),qh=(a("c96a"),a("f309")),Bh=a("4f03"),Uh=a.n(Bh);i["a"].use(qh["a"]),pt["a"].options.props.outlined.default=!0,pt["a"].options.props.hideDetails.default=!0,pt["a"].options.props.dense.default=!0,pt["a"].options.props.backgroundColor.default="white",_["a"].options.props.small.default=!0,tt["a"].options.props.outlined.default=!0,Re["a"].options.props.outlined.default=!0,Ve["a"].options.props.rows.default=1,Ve["a"].options.props.autoGrow.default=!0;var Mh=new qh["a"]({rtl:!0,theme:{options:{customProperties:!0},themes:{light:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{fa:Uh.a},current:"fa"},icons:{iconfont:"md",values:{safeIcon:{component:function(){return a.e("chunk-2d0e5013").then(a.bind(null,"9347"))}},buySaleIcon:{component:function(){return a.e("chunk-2d208e3a").then(a.bind(null,"a75c"))}},warehouseIcon:{component:function(){return a.e("chunk-2d0b9b68").then(a.bind(null,"33b4"))}},reportIcon:{component:function(){return a.e("chunk-2d221875").then(a.bind(null,"cb77"))}},transportationIcon:{component:function(){return a.e("chunk-2d0c86a5").then(a.bind(null,"557f"))}},clearFiltersIcon:{component:function(){return a.e("chunk-2d22cc16").then(a.bind(null,"f51b"))}},curvedArrowLeftIcon:{component:function(){return a.e("chunk-2d21d080").then(a.bind(null,"d020"))}},costAccountingIcon:{component:function(){return a.e("chunk-2d0ba508").then(a.bind(null,"374b"))}},sanadIcon:{component:function(){return a.e("chunk-2d0b8eb5").then(a.bind(null,"3178"))}},accountsTreeIcon:{component:function(){return a.e("chunk-2e1cbbb4").then(a.bind(null,"c660"))}},accountIcon:{component:function(){return a.e("chunk-2d0ab88a").then(a.bind(null,"164c"))}},balanceReportIcon:{component:function(){return a.e("chunk-2d0c0634").then(a.bind(null,"4222"))}},ledgerReportIcon:{component:function(){return a.e("chunk-2d0abca9").then(a.bind(null,"177d"))}},factorIcon:{component:function(){return a.e("chunk-2d0cc7b9").then(a.bind(null,"4db5"))}},inputFactorIcon:{component:function(){return a.e("chunk-2d237c67").then(a.bind(null,"fd0c"))}},outputFactorIcon:{component:function(){return a.e("chunk-2d22c2e4").then(a.bind(null,"f1ad"))}},receiveTransactionIcon:{component:function(){return a.e("chunk-2d221d85").then(a.bind(null,"cba1"))}},paymentTransactionIcon:{component:function(){return a.e("chunk-2d0c791f").then(a.bind(null,"50d2"))}}}}});a("d5e8"),a("d1e78");a("4624"),a("15f5"),ah.a.defaults.global.defaultFontFamily="IRANSans",i["a"].component("MDatatable",Bt["a"]),i["a"].component("MForm",Lt["a"]),i["a"].component("WareSelect",lh),i["a"].component("AccountSelect",$c["a"]),i["a"].component("CitySelect",ch["a"]),i["a"].component("money",ls["a"]),i["a"].component("date",cs["a"]),i["a"].component("ContextMenu",hh),i["a"].component("OpenSanadBtn",Zn["a"]),i["a"].component("DetailLink",yh),i["a"].component("MPhoneField",Th),i["a"].component("MNationalCode",Ah),window._=qs.a,window.$=jh.a,i["a"].use(Lh["a"]),i["a"].component("date-picker",Oh.a),i["a"].config.productionTip=!1;var Nh=new i["a"];new i["a"]({router:Xv,store:th,vuetify:Mh,render:function(t){return t(ht)}}).$mount("#app")},"59fb":function(t,e,a){},"5a45":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست مرخصی ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n={name:"SummaryAbsenceList",props:{},data:function(){return{url:"payroll/absence/all",filters:{}}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display",filterable:!1},{text:"نوع",value:"leave_type_display",filterable:!1},{text:"مدت به روز",value:"time_period",filterable:!1}]}},methods:{to:function(t){return{name:"AbsenceDetail",params:{id:t.id}}}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),m=Object(r["a"])(o,i,s,!1,null,"6ec22252",null);e["a"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},"5a5a":function(t,e,a){},"5ae3":function(t,e,a){"use strict";a("aea8")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"5d5a":function(t,e,a){},6086:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"tenderFrom",attrs:{title:"ثبت مناقصه",showList:!1,listRoute:{name:"TenderList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره مناقصه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"عنوان مناقصه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:"شرح مناقصه",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("CitySelect",{attrs:{label:"استان محل اجرا",disabled:!t.isEditing},model:{value:t.item.province,callback:function(e){t.$set(t.item,"province",e)},expression:"item.province"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("CitySelect",{attrs:{label:"شهر محل اجرا",disabled:!t.isEditing},model:{value:t.item.city,callback:function(e){t.$set(t.item,"city",e)},expression:"item.city"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"طبقه بندی موضوعی",items:t.classification,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.classification,callback:function(e){t.$set(t.item,"classification",e)},expression:"item.classification"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"مناقصه گزار","background-color":"white",disabled:!t.isEditing},model:{value:t.item.bidder,callback:function(e){t.$set(t.item,"bidder",e)},expression:"item.bidder"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"کد پستی مناقصه گزار","background-color":"white",disabled:!t.isEditing},model:{value:t.item.bidder_postal_code,callback:function(e){t.$set(t.item,"bidder_postal_code",e)},expression:"item.bidder_postal_code"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:"آدرس مناقصه گزار",disabled:!t.isEditing},model:{value:t.item.bidder_address,callback:function(e){t.$set(t.item,"bidder_address",e)},expression:"item.bidder_address"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"مهلت دریافت اسناد",default:!0,disabled:!t.isEditing},model:{value:t.item.received_deadline,callback:function(e){t.$set(t.item,"received_deadline",e)},expression:"item.received_deadline"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"مهلت ارسال پاکت های پیشنهاد",default:!0,disabled:!t.isEditing},model:{value:t.item.send_offer_deadline,callback:function(e){t.$set(t.item,"send_offer_deadline",e)},expression:"item.send_offer_deadline"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"زمان بازگشایی پاکت ها",default:!0,disabled:!t.isEditing},model:{value:t.item.opening_date,callback:function(e){t.$set(t.item,"opening_date",e)},expression:"item.opening_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"زمان اعتبار پیشنهاد",default:!0,disabled:!t.isEditing},model:{value:t.item.offer_expiration,callback:function(e){t.$set(t.item,"offer_expiration",e)},expression:"item.offer_expiration"}})],1)],1),a("v-dialog",{model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[a("transaction-form",{ref:"transactionForm",attrs:{type:"receivedGuarantee","modal-mode":!1,"contract-modal-mode":!0},on:{submit:t.submit}})],1)],t.item.id&&!t.item.is_confirmed&&!t.isTenderConfirmed&&t.item.is_defined?a("v-btn",{staticClass:"blue mt-6 mr-2 float-left",on:{click:function(e){return t.confirmed(t.item)}}},[t._v("تایید ")]):t._e(),t.item.id&&!t.item.is_confirmed&&!t.isTenderConfirmed&&t.item.is_defined?a("v-btn",{staticClass:"red mt-6  mr-4 float-left",on:{click:function(e){return t.unConfirm(t.item)}}},[t._v("رد ")]):t._e(),t.item.is_confirmed||t.isTenderConfirmed&&t.item.is_defined?a("v-btn",{staticClass:"blue white--text mt-6 ml-2 float-left",on:{click:function(e){return t.addContract(t.item)}}},[t._v("ثبت قرارداد ")]):t._e(),t.item.is_confirmed||t.isTenderConfirmed&&t.item.is_defined?a("v-btn",{staticClass:"light-blue white--text mt-6 ml-2 float-left",on:{click:function(e){t.paymentDialog=!0}}},[t._v("ثبت اسناد ضمانتی دریافتی ")]):t._e()],2)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_={name:"TenderForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{printUrl:"reports/tender/all",isTenderConfirmed:!1,tenderId:0,classification:[{name:"کالا",value:"w"},{name:"خدمات با فهرست بها",value:"spl"},{name:"خدمات بدون فهرست بها",value:"npl"},{name:"مشاوره",value:"c"},{name:"سایر",value:"o"}],baseUrl:"contracting/tender",permissionBasename:"tender",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!0,isDefinable:!0,myClass:"",factors:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:"شماره",value:"code",type:"numeric"},{text:"عنوان",value:"title"},{text:"شرح",value:"explanation"},{text:"استان",value:"province"},{text:"شهر",value:"city"},{text:"مناقصه گزار",value:"bidder"},{text:"کد پستی مناقصه گزار",value:"bidder_post",type:"numeric"},{text:"آدرس مناقصه گزار",value:"bidder_address"},{text:"مهلت دریافت اسناد",value:"received_deadline",type:"date"},{text:"مهلت ارسال پاکت های پیشنهاد",value:"send_offer_deadline",type:"date"},{text:"زمان بازگشایی پاکت ها",value:"opening_date",type:"date"},{text:"زمان اعتبار پیشنهاد",value:"offer_expiration",type:"date"}]}},beforeDestroy:function(){var t=this;this.$refs.transactionForm.item.id&&this.request({url:this.endpoint("contracting/tender/transaction/"+this.$refs.tenderFrom.$props.exportParams.id+"/"+this.$refs.transactionForm.item.id+"/"),method:"get",success:function(e){console.log(e),t.notify(" سند ثبت شد","success")}})},methods:{to:function(t){return{name:"TenderDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" مناقصه رد شد","warning")},addContract:function(t){this.$router.push("/panel/contract/?tender="+t.id)},confirmed:function(t){var e=this;this.request({url:this.endpoint("contracting/tender/confirmed/"+t.id+"/"),method:"get",success:function(t){e.notify(" مناقصه تایید شد","success"),e.isTenderConfirmed=!0}})}}},b=_,x=a("2877"),g=a("6544"),y=a.n(g),k=a("c6a6"),w=a("8336"),C=a("62ad"),E=a("169a"),$=a("0fd9"),T=a("8654"),S=a("a844"),V=Object(x["a"])(b,i,s,!1,null,"6d634cde",null);e["default"]=V.exports;y()(V,{VAutocomplete:k["a"],VBtn:w["a"],VCol:C["a"],VDialog:E["a"],VRow:$["a"],VTextField:T["a"],VTextarea:S["a"]})},6438:function(t,e,a){"use strict";var i=a("5530"),s=a("2f62");e["a"]={data:function(){return{}},methods:{getBankingOperations:function(t,e){this.fillStore({url:"transactions/bankingOperations/",storeKey:"bankingOperations",reload:t,callback:e})}},computed:Object(i["a"])({},Object(s["b"])(["bankingOperations"]))}},"667e":function(t,e,a){"use strict";a("88db")},"6c6e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:" ",attrs:{elevation:"3",outlined:"",tile:""}},[a("v-toolbar",{attrs:{color:"indigo darken-2"}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v("محاسبه حقوق")])],1),a("v-row",{staticClass:"mt-4 mr-3 ml-3"},[a("v-col",{staticClass:"mt-5",attrs:{cols:"12",md:"4"}},[this.workshop?t._e():a("v-autocomplete",{attrs:{label:"کارگاه",items:t.workshops,disabled:t.payment_start,"item-text":"name","item-value":"id"},model:{value:t.search_workshop,callback:function(e){t.search_workshop=e},expression:"search_workshop"}}),this.workshop?a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"کارگاه",disabled:"true"},model:{value:t.search_workshop,callback:function(e){t.search_workshop=e},expression:"search_workshop"}}):t._e(),this.workshop?a("v-text-field",{attrs:{label:"کارگاه",disabled:"true"},model:{value:this.workshop_name,callback:function(e){t.$set(this,"workshop_name",e)},expression:"this.workshop_name "}}):t._e()],1),a("v-col",{staticClass:"mt-5",attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"سال",disabled:"true"},model:{value:this.serverNow.format("jYYYY"),callback:function(e){t.$set(this.serverNow,"format('jYYYY')",e)},expression:"this.serverNow.format('jYYYY') "}})],1),a("v-col",{staticClass:"mt-5",attrs:{cols:"12",md:"4"}},[t.payment_type?a("v-autocomplete",{attrs:{label:"ماه",items:t.MONTHS,disabled:t.payment_start,"item-text":"name","item-value":"id"},model:{value:t.search_month,callback:function(e){t.search_month=e},expression:"search_month"}}):t._e(),t.payment_type?t._e():a("v-autocomplete",{attrs:{label:"ماه",items:t.MONTHS,disabled:t.list_generated,"item-text":"name","item-value":"id"},model:{value:t.search_month,callback:function(e){t.search_month=e},expression:"search_month"}})],1)],1),t.payment_start?t._e():a("v-card-actions",{staticClass:"mt-4 d-flex justify-center justify-md-end mt-2"},[t.search_workshop&&t.search_month?a("v-btn",{staticClass:" green white--text mb-5 ml-4 pl-4 pr-4 ",attrs:{left:"",large:""},on:{click:t.paymentStart}},[t._v("ایجاد لیست ")]):t._e()],1),t.payment_start&&!t.list_generated?a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"ma-5"},[a("v-toolbar",{attrs:{color:"indigo"}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v(" حقوق و دستمزد ")])],1),t.payment_type?a("v-col",{staticClass:"mt-5 pr-10 pl-10",attrs:{cols:"12",md:"12"}},[a("v-autocomplete",{attrs:{label:"نوع لیست",items:t.PAYMENT_TYPES,disabled:t.list_generated,"item-text":"name","item-value":"value"},model:{value:t.payment_type,callback:function(e){t.payment_type=e},expression:"payment_type"}})],1):t._e(),t.payment_type?t._e():a("v-row",{staticClass:"mt-5 pr-10 pl-10"},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"نوع لیست",items:t.PAYMENT_TYPES,disabled:t.list_generated,"item-text":"name","item-value":"value"},model:{value:t.payment_type,callback:function(e){t.payment_type=e},expression:"payment_type"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"ماه",items:t.MONTHS,disabled:t.list_generated,"item-text":"name","item-value":"id"},on:{change:function(e){return t.getListsOfMonth(t.lists_of_month)}},model:{value:t.lists_of_month,callback:function(e){t.lists_of_month=e},expression:"lists_of_month"}})],1)],1),t.payment_type?t._e():a("v-col",{staticClass:"mt-2 pr-10 pl-10",attrs:{cols:"12",md:"12"}},[a("v-autocomplete",{attrs:{label:" کپی بر اساس",items:t.workshop_list_of_pay,disabled:t.list_generated,"item-text":"name","item-value":"id"},model:{value:t.copy_id,callback:function(e){t.copy_id=e},expression:"copy_id"}})],1),a("v-col",{staticClass:"mt-3 pr-10 pl-10",attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"نام لیست",disabled:t.list_generated},model:{value:t.list_name,callback:function(e){t.list_name=e},expression:"list_name"}})],1),a("v-col",{staticClass:"mt-2 pr-10 pl-10",attrs:{cols:"12",md:"12"}},[a("v-autocomplete",{attrs:{label:"وضعیت",items:t.TYPES,disabled:t.list_generated,"item-text":"name","item-value":"value"},model:{value:t.list_status,callback:function(e){t.list_status=e},expression:"list_status"}})],1),a("v-col",{staticClass:"mt-2 pr-10 pl-10",attrs:{cols:"12",md:"12"}},[a("v-autocomplete",{attrs:{label:"بیمه و مالیات",items:t.CALCULATE_TYPES,disabled:t.list_generated,"item-text":"name","item-value":"value"},model:{value:t.calculate,callback:function(e){t.calculate=e},expression:"calculate"}})],1),a("v-card-actions",{staticClass:"mt-4 d-flex justify-center justify-md-end mt-2"},[t.payment_type&&!t.payListCreated?a("v-btn",{staticClass:" green white--text mb-5 ml-8 pl-4 pr-4 ",attrs:{left:""},on:{click:t.getList}},[t._v("ثبت ")]):t._e(),t.payment_type&&t.payListCreated?a("v-btn",{staticClass:" blue white--text mb-5 ml-8 pl-4 pr-4 ",attrs:{left:"",large:""},on:{click:function(e){t.list_generated=!0}}},[t._v(" انجام محاسبات ")]):t._e(),t.payment_type?t._e():a("v-btn",{staticClass:" green white--text mb-5 ml-8 pl-4 pr-4 ",attrs:{left:""},on:{click:t.createListOfPayByPervious}},[t._v("ثبت ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"ma-5"},[a("v-toolbar",{attrs:{color:"indigo"}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v(" لیست های این ماه ")])],1),a("m-datatable",{ref:"exportTable",staticClass:"ma-3",attrs:{"show-export-btns":!1,headers:t.headers,apiUrl:t.url,exportUrl:"payroll",filters:t.export_filter},on:{"update:filters":function(e){t.export_filter=e}}})],1)],1)],1):t._e(),a("v-row",[t.list_generated&&!t.calculateDone?a("v-simple-table",{staticClass:"ma-6 ",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"style: blue lighten-4"},[a("tr",[a("th",{staticClass:"text-center"},[t._v(" نام و نام خانوادگی ")]),a("th",{staticClass:"text-center"},[t._v(" ردیف پیمان ")]),a("th",{staticClass:"text-center"},[t._v(" ماموریت تجمیعی (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" مرخصی استحقاقی تجمیعی (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" مرخصی استعلاجی تجمیعی (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" مرخصی بدون حقوق تجمیعی (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" غیبت تجمیعی (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" اضافه کاری (ساعت) ")]),a("th",{staticClass:"text-center"},[t._v(" تعطیل کاری (ساعت) ")]),a("th",{staticClass:"text-center"},[t._v(" کسر کار (ساعت) ")]),a("th",{staticClass:"text-center"},[t._v(" سایر اضافات (ریال) ")]),a("th",{staticClass:"text-center"},[t._v(" سایرکسورات (ریال) ")]),a("th",{staticClass:"text-center"})])]),a("tbody",{staticClass:"grey lighten-4 ma-2"},t._l(t.payList,(function(e){return a("tr",{key:e.id,staticClass:"ma-2 pa-2"},[a("td",{staticClass:"text-center pb-5 pt-5"},[t._v(t._s(e.personnel_name))]),a("td",[a("v-autocomplete",{attrs:{items:t.contractRows,"item-text":"name","item-value":"id"},model:{value:t.items[e.id]["contract_row"],callback:function(a){t.$set(t.items[e.id],"contract_row",a)},expression:"items[person.id]['contract_row']"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["cumulative_mission"],callback:function(a){t.$set(t.items[e.id],"cumulative_mission",a)},expression:"items[person.id]['cumulative_mission'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["cumulative_entitlement"],callback:function(a){t.$set(t.items[e.id],"cumulative_entitlement",a)},expression:"items[person.id]['cumulative_entitlement'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["cumulative_illness"],callback:function(a){t.$set(t.items[e.id],"cumulative_illness",a)},expression:"items[person.id]['cumulative_illness'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["cumulative_without_salary"],callback:function(a){t.$set(t.items[e.id],"cumulative_without_salary",a)},expression:"items[person.id]['cumulative_without_salary'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["cumulative_absence"],callback:function(a){t.$set(t.items[e.id],"cumulative_absence",a)},expression:"items[person.id]['cumulative_absence'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{"prepend-inner-icon":"fa-clock"},model:{value:t.items[e.id]["ezafe_kari"],callback:function(a){t.$set(t.items[e.id],"ezafe_kari",a)},expression:"items[person.id]['ezafe_kari'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{"prepend-inner-icon":"fa-clock"},model:{value:t.items[e.id]["tatil_kari"],callback:function(a){t.$set(t.items[e.id],"tatil_kari",a)},expression:"items[person.id]['tatil_kari'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{"prepend-inner-icon":"fa-clock"},model:{value:t.items[e.id]["kasre_kar"],callback:function(a){t.$set(t.items[e.id],"kasre_kar",a)},expression:"items[person.id]['kasre_kar'] "}})],1),a("td",[a("money",{attrs:{"background-color":"white"},model:{value:t.items[e.id]["sayer_ezafat"],callback:function(a){t.$set(t.items[e.id],"sayer_ezafat",a)},expression:"items[person.id]['sayer_ezafat'] "}})],1),a("td",[a("money",{attrs:{"background-color":"white"},model:{value:t.items[e.id]["sayer_kosoorat"],callback:function(a){t.$set(t.items[e.id],"sayer_kosoorat",a)},expression:"items[person.id]['sayer_kosoorat'] "}})],1)])})),0)]},proxy:!0}],null,!1,2944608497)}):t._e()],1),t.payment_start&&t.list_generated?a("v-card-actions",{staticClass:"mt-4 d-flex justify-center justify-md-end mt-2"},[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"1500"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"white--text ml-5 pl-10 pr-10",attrs:{color:"blue",dark:""},on:{click:function(e){t.sayerDone=!0}}},"v-btn",s,!1),i),[t._v(" سایر ")])]}}],null,!1,419950779),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 indigo white--text"},[t._v(" سایر اضافات و کسورات ")]),a("v-simple-table",{staticClass:"ma-4 ",attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"style: blue lighten-4"},[a("tr",[a("th",{staticClass:"text-center"},[t._v(" نام و نام خانوادگی ")]),a("th",{staticClass:"text-center"},[t._v(" شب کاری (ساعت) ")]),a("th",{staticClass:"text-center"},[t._v(" نوبت کاری صبح و عصر (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" نوبت کاری صبح و شب (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" نوبت کاری عصر و شب (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" نوبت کاری صبح و عصر و شب (روز) ")]),a("th",{staticClass:"text-center"},[t._v(" هزینه های درمانی ماده 137 ق.م.م ")]),a("th",{staticClass:"text-center"},[t._v(" سایر حق بیمه پرداختی ماده 137 ق.م.م ")]),a("th",{staticClass:"text-center"},[t._v(" معافیت مربوط به مناطق آزاد تجاری ")]),a("th",{staticClass:"text-center"},[t._v(" معافیت قانون اجتناب از اخذ مالیات مضاعف ")]),a("th",{staticClass:"text-center"},[t._v(" مزایای غیر مستمر غیرنقدی (ریال) ")]),a("th",{staticClass:"text-center"},[t._v(" سایر معافیت های مالیات(ریال) ")])])]),a("tbody",{staticClass:"grey lighten-4 ma-2"},t._l(t.payList,(function(e){return a("tr",{key:e.id,staticClass:"ma-2 pa-2"},[a("td",{staticClass:"text-center pb-5 pt-5"},[t._v(t._s(e.personnel_name))]),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{"prepend-inner-icon":"fa-clock"},model:{value:t.items[e.id]["shab_kari"],callback:function(a){t.$set(t.items[e.id],"shab_kari",a)},expression:"items[person.id]['shab_kari'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["sob_asr"],callback:function(a){t.$set(t.items[e.id],"sob_asr",a)},expression:"items[person.id]['sob_asr'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["sob_shab"],callback:function(a){t.$set(t.items[e.id],"sob_shab",a)},expression:"items[person.id]['sob_shab'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["asr_shab"],callback:function(a){t.$set(t.items[e.id],"asr_shab",a)},expression:"items[person.id]['asr_shab'] "}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",model:{value:t.items[e.id]["sob_asr_shab"],callback:function(a){t.$set(t.items[e.id],"sob_asr_shab",a)},expression:"items[person.id]['sob_asr_shab'] "}})],1),a("td",[a("money",{attrs:{"background-color":"white"},model:{value:t.items[e.id]["hazine_made_137"],callback:function(a){t.$set(t.items[e.id],"hazine_made_137",a)},expression:"items[person.id]['hazine_made_137'] "}})],1),a("td",[a("money",{attrs:{"background-color":"white"},model:{value:t.items[e.id]["kosoorat_insurance"],callback:function(a){t.$set(t.items[e.id],"kosoorat_insurance",a)},expression:"items[person.id]['kosoorat_insurance'] "}})],1),a("td",[a("money",{attrs:{"background-color":"white"},model:{value:t.items[e.id]["manategh_tejari_moafiat"],callback:function(a){t.$set(t.items[e.id],"manategh_tejari_moafiat",a)},expression:"items[person.id]['manategh_tejari_moafiat'] "}})],1),a("td",[a("money",{attrs:{"background-color":"white"},model:{value:t.items[e.id]["ejtenab_maliat_mozaaf"],callback:function(a){t.$set(t.items[e.id],"ejtenab_maliat_mozaaf",a)},expression:"items[person.id]['ejtenab_maliat_mozaaf'] "}})],1),a("td",[a("money",{attrs:{"background-color":"white"},model:{value:t.items[e.id]["mazaya_gheyr_mostamar"],callback:function(a){t.$set(t.items[e.id],"mazaya_gheyr_mostamar",a)},expression:"items[person.id]['mazaya_gheyr_mostamar'] "}})],1),a("td",[a("money",{attrs:{"background-color":"white"},model:{value:t.items[e.id]["sayer_moafiat"],callback:function(a){t.$set(t.items[e.id],"sayer_moafiat",a)},expression:"items[person.id]['sayer_moafiat'] "}})],1)])})),0)]},proxy:!0}],null,!1,2820930558)}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v(" ادامه ")])],1)],1)],1)],1)]):t._e(),a("v-card-actions",{staticClass:"mt-4 d-flex justify-center justify-md-end mt-2"},[t.list_generated&&!t.calculateDone&&t.sayerDone?a("v-btn",{staticClass:"white--text float-left ma-3",attrs:{large:"",color:"green"},on:{click:t.calculatePayment}},[t._v("محاسبه حقوق و دستمزد ")]):t._e()],1)],1)},s=[],n=(a("b0c0"),a("830d")),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_={name:"payment",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{export_filter:{workshop:this.search_workshop,month:this.search_month},url:"payroll/listOfPay/all",items:[],MONTHS:[{name:" فروردین",value:"fa",id:1},{name:" اردیبهشت",value:"or",id:2},{name:" خرداد",value:"kh",id:3},{name:" تیر",value:"ti",id:4},{name:" مرداد",value:"mo",id:5},{name:" شهریور",value:"sh",id:6},{name:" مهر",value:"me",id:7},{name:" آبان",value:"ab",id:8},{name:" آذر",value:"az",id:9},{name:" دی",value:"de",id:10},{name:" بهمن",value:"ba",id:11},{name:" اسفند",value:"es",id:12}],TYPES:[{name:" قطعی",value:!0},{name:" غیر قطعی",value:!1}],PAYMENT_TYPES:[{name:" جدید",value:!0},{name:" کپی از ماه های قبل",value:!1}],CALCULATE_TYPES:[{name:"محاسبه شود",value:!0},{name:" محاسبه نشود",value:!1}],payment_type:!0,lists_of_month:!0,time:null,search_workshop:null,search_month:null,menu1:!1,modal2:!1,list_name:"",type:null,entitlement:null,calculate:!1,list_status:!1,appendSlash:!0,hasList:!1,hasIdProp:!0,contractRows:[],hasLock:!0,isDefinable:!0,myClass:"",workshop:this.$route.query.workshop,workshops:[],workshop_list_of_pay:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",pay_id:"",copy_id:"",performClearForm:!0,workshop_name:null,list_generated:!1,payList:null,list_of_pay:null,show_list_of_pay:!1,calculateDone:!1,dialog:!1,payment_start:!1,payListCreated:!1,id_set:null,sayerDone:!1}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop_display",filterable:!1},{text:" نام لیست",value:"name"},{text:"سال",value:"year",filterable:!1},{text:"ماه",value:"month_name",filterable:!1},{text:"قطعی",value:"ultimate_display",filterable:!1},{text:"بیمه مالیات",value:"calculate_display",filterable:!1}]}},mounted:function(){var t=this;this.workshop||this.request({url:this.endpoint("payroll/workshop/"),method:"get",success:function(e){for(var a in console.log(e),e)t.workshops.push({name:e[a].name+" "+e[a].code,id:e[a].id});console.log(t.workshops)}}),this.workshop&&this.request({url:this.endpoint("payroll/workshop/"+this.workshop+"/"),method:"get",success:function(e){t.workshop_name=e.name+" "+e.code}})},methods:{Show:function(t){console.log(t)},getList:function(){var t=this;this.request({url:this.endpoint("payroll/payment/"+this.serverNow.format("jYYYY")+"/"+this.search_month+"/"+this.search_workshop+"/"),method:"post",data:{name:this.list_name,ultimate:this.list_status,use_in_calculate:this.calculate},success:function(e){for(var a in t.pay_id=e.id,t.payList=e.list_of_pay_item,t.payListCreated=!0,t.payList)t.items[t.payList[a].id]={id:t.payList[a].id,ezafe_kari:0,tatil_kari:0,kasre_kar:0,shab_kari:0,jome_kar:0,sob_shab:0,sob_asr:0,asr_shab:0,sob_asr_shab:0,mazaya_gheyr_mostamar:0,sayer_ezafat:0,contract_row:null,hazine_made_137:0,kosoorat_insurance:0,sayer_moafiat:0,manategh_tejari_moafiat:0,ejtenab_maliat_mozaaf:0,sayer_kosoorat:0,cumulative_absence:0,cumulative_mission:0,cumulative_entitlement:0,cumulative_illness:0,cumulative_without_salary:0}}}),this.request({url:this.endpoint("payroll/workshop/contract/row/"+this.search_workshop+"/"),method:"get",success:function(e){for(var a in e)t.contractRows.push({name:e[a].contract_row,id:e[a].id}),console.log(t.contractRows),t.contractRows.push({name:"هبچ کدام",id:null});t.$refs.exportTable.getDataFromApi(),t.$refs.exportTable.getDataFromApi(),t.notify("لیست حقوق ساخته شد، جهت تکمیل و انجام محاسبات روی دکمه انجام محاسبات کلیک کنید","success")}})},calculatePayment:function(){var t=this;for(var e in this.items)this.request({url:this.endpoint("payroll/paylist/item/"+e+"/"),method:"put",data:{ezafe_kari:this.items[e]["ezafe_kari"],tatil_kari:this.items[e]["tatil_kari"],kasre_kar:this.items[e]["kasre_kar"],shab_kari:this.items[e]["shab_kari"],nobat_kari_sob_asr:this.items[e]["sob_asr"],nobat_kari_sob_shab:this.items[e]["sob_shab"],nobat_kari_asr_shab:this.items[e]["asr_shab"],jome_kar:this.items[e]["jome_kar"],nobat_kari_sob_asr_shab:this.items[e]["sob_asr_shab"],sayer_ezafat:this.items[e]["sayer_ezafat"],contract_row:this.items[e]["contract_row"],mazaya_gheyr_mostamar:this.items[e]["mazaya_gheyr_mostamar"],hazine_made_137:this.items[e]["hazine_made_137"],kosoorat_insurance:this.items[e]["kosoorat_insurance"],sayer_moafiat:this.items[e]["sayer_moafiat"],manategh_tejari_moafiat:this.items[e]["manategh_tejari_moafiat"],ejtenab_maliat_mozaaf:this.items[e]["ejtenab_maliat_mozaaf"],sayer_kosoorat:this.items[e]["sayer_kosoorat"],cumulative_absence:this.items[e]["cumulative_absence"],cumulative_mission:this.items[e]["cumulative_mission"],cumulative_entitlement:this.items[e]["cumulative_entitlement"],cumulative_illness:this.items[e]["cumulative_illness"],cumulative_without_salary:this.items[e]["cumulative_without_salary"],calculate_payment:!0},success:function(e){console.log(e),t.get_payment_list()}})},get_payment_list:function(){this.$router.push("/panel/listOfPayItem/"+this.pay_id)},sayer:function(t){this.id_set=t,console.log(t)},getWorkshopListOfPay:function(){var t=this;this.request({url:this.endpoint("payroll/listOfPay/workshop/"+this.search_workshop+"/"),method:"get",success:function(e){for(var a in e)t.workshop_list_of_pay.push({name:e[a].name,id:e[a].id}),console.log(t.workshop_list_of_pay)}})},createListOfPayByPervious:function(){var t=this;this.request({url:this.endpoint("payroll/listOfPay/copy/"+this.copy_id+"/"),method:"post",data:{year:parseInt(this.serverNow.format("jYYYY")),name:this.list_name,ultimate:this.list_status,use_in_calculate:this.calculate,month:this.search_month},success:function(e){t.$router.push("/panel/listOfPayItem/"+e["id"])}})},paymentStart:function(){this.payment_start=!0,this.export_filter["workshop"]=this.search_workshop,this.export_filter["month"]=this.search_month,this.export_filter["year"]=parseInt(this.serverNow.format("jYYYY")),console.log(this.export_filter)},getListsOfMonth:function(t){var e=this;this.request({url:this.endpoint("payroll/listOfPay/workshop/"+this.search_workshop+"/"+t+"/"+this.serverNow.format("jYYYY")+"/"),method:"get",success:function(t){for(var a in t)e.workshop_list_of_pay.push({name:t[a].name,id:t[a].id}),console.log(e.workshop_list_of_pay)}})}}},b=_,x=a("2877"),g=a("6544"),y=a.n(g),k=a("c6a6"),w=a("8336"),C=a("b0af"),E=a("99d9"),$=a("62ad"),T=a("169a"),S=a("ce7e"),V=a("0fd9"),F=a("1f4f"),P=a("2fa4"),D=a("8654"),A=a("71d9"),I=a("2a7f"),j=Object(x["a"])(b,i,s,!1,null,"056936ee",null);e["default"]=j.exports;y()(j,{VAutocomplete:k["a"],VBtn:w["a"],VCard:C["a"],VCardActions:E["a"],VCardTitle:E["d"],VCol:$["a"],VDialog:T["a"],VDivider:S["a"],VRow:V["a"],VSimpleTable:F["a"],VSpacer:P["a"],VTextField:D["a"],VToolbar:A["a"],VToolbarTitle:I["a"]})},"6dca":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card"),a("m-form",{ref:"LoanForm",attrs:{title:"ثبت وام یا مساعده",showList:!1,listRoute:{name:"LoanList"},exportBaseUrl:t.exportUrl,exportParams:t.ex,canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}}),t.item.id?a("v-col",{attrs:{cols:"12",md:"6"}},[t.is_req?a("v-btn",{staticClass:"white--text ma-2 ",attrs:{left:"",color:"orange"},on:{click:function(e){return t.change_export_req(t.item)}}},[t._v("فرم درخواست مساعده")]):t._e(),t.is_req?t._e():a("v-btn",{staticClass:"ma-2 ",attrs:{left:""},on:{click:function(e){return t.change_export_req(t.item)}}},[t._v("فرم درخواست مساعده")]),t.is_item?a("v-btn",{staticClass:"white--text ma-2 pl-10 pr-10",attrs:{left:"",color:"orange"},on:{click:function(e){return t.change_export_item(t.item)}}},[t._v("جدول وام")]):t._e(),t.is_item?t._e():a("v-btn",{staticClass:"ma-2 pl-10 pr-10",attrs:{left:""},on:{click:function(e){return t.change_export_item(t.item)}}},[t._v("جدول وام")])],1):t._e()],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[this.workshopPersonnel?t._e():a("v-autocomplete",{attrs:{label:" پرسنل در کارگاه",items:t.workshopPersonnels,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(t){}},model:{value:t.item.workshop_personnel,callback:function(e){t.$set(t.item,"workshop_personnel",e)},expression:"item.workshop_personnel"}}),this.workshopPersonnel?a("v-text-field",{attrs:{label:"پرسنل در کارگاه",disabled:"true"},model:{value:t.item.workshop_personnel=this.workshopPersonnel,callback:function(e){t.$set(t.item.workshop_personnel=this,"workshopPersonnel",e)},expression:"item.workshop_personnel = this.workshopPersonnel"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"نوع",items:t.LOAN_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},on:{change:function(e){return t.setValues(t.item)}},model:{value:t.item.loan_type,callback:function(e){t.$set(t.item,"loan_type",e)},expression:"item.loan_type"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"* تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.pay_date,callback:function(e){t.$set(t.item,"pay_date",e)},expression:"item.pay_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("money",{attrs:{label:"مبلغ"},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1),"d"!=t.item.loan_type?a("v-col",{attrs:{cols:"12",md:"4"}},[a("money",{attrs:{disabled:!t.isEditing,label:"تعداد اقساط"},model:{value:t.item.episode,callback:function(e){t.$set(t.item,"episode",e)},expression:"item.episode"}})],1):t._e(),"d"==t.item.loan_type?a("v-col",{attrs:{cols:"12",md:"4"}},[a("money",{attrs:{disabled:"true",label:"تعداد اقساط"},model:{value:t.dept_episode,callback:function(e){t.dept_episode=e},expression:"dept_episode"}})],1):t._e()],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"توضیحات","background-color":"white",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1),t.item.id?a("v-row",{staticClass:"mt-10"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"مبلغ هر قسط","background-color":"white",disabled:"ture"},model:{value:t.item.monthly_pay,callback:function(e){t.$set(t.item,"monthly_pay",e)},expression:"item.monthly_pay"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"* تاریخ سررسید",default:!0,disabled:!0},model:{value:t.item.last_dept_date,callback:function(e){t.$set(t.item,"last_dept_date",e)},expression:"item.last_dept_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"اقساط پرداخت شده","background-color":"white",disabled:"ture"},model:{value:t.item.episode_payed,callback:function(e){t.$set(t.item,"episode_payed",e)},expression:"item.episode_payed"}})],1)],1):t._e()]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",[t._v("لیست وام یا مساعده ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)],1)],1)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=a("5a45"),b=a("eef6"),x={name:"LoanForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{LoanList:b["a"],SummaryAbsenceList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{loan:{}},data:function(){return{LOAN_TYPES:[{name:" وام",value:"l"},{name:"مساعده",value:"d"}],is_item:!1,is_req:!1,time:null,ex:{},dept_episode:1,menu1:!1,modal2:!1,exportUrl:"payroll/loan/item",isWorkshopConfirmed:!1,baseUrl:"payroll/loan",type:null,entitlement:null,permissionBasename:"loan",url:"payroll/loan/all",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",workshopPersonnel:this.$route.query.workshop_personnel,workshopPersonnels:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display",filterable:!1},{text:"تاریخ",value:"pay_date",filterable:!1},{text:"مبلغ کل",value:"amount",filterable:!1},{text:"مبلغ هر قسط",value:"monthly_pay",filterable:!1}]}},mounted:function(){var t=this;this.workshopPersonnel||this.request({url:this.endpoint("payroll/workshop/personnel/"),method:"get",success:function(e){for(var a in console.log(e),e)t.workshopPersonnels.push({name:e[a].personnel_name+" در کارگاه "+e[a].workshop_name,id:e[a].id});console.log(t.workshopPersonnels)}})},methods:{setValues:function(t){"e"==t.leave_type&&(console.log("ok"),this.entitlement=!0)},change_export_req:function(t){this.exportUrl="payroll/loan/request",this.ex={id:t.id},this.is_req=!0,this.is_item=!1},change_export_item:function(t){this.exportUrl="payroll/loan/item",this.ex={id:"",loan:t.id},this.is_req=!1,this.is_item=!0},to:function(t){return{name:"LoanDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت وام رد شد","warning")}}},g=x,y=a("2877"),k=a("6544"),w=a.n(k),C=a("c6a6"),E=a("8336"),$=a("b0af"),T=a("99d9"),S=a("62ad"),V=a("0fd9"),F=a("8654"),P=Object(y["a"])(g,i,s,!1,null,"2579fa34",null);e["default"]=P.exports;w()(P,{VAutocomplete:C["a"],VBtn:E["a"],VCard:$["a"],VCardText:T["c"],VCardTitle:T["d"],VCol:S["a"],VRow:V["a"],VTextField:F["a"]})},"6e0f":function(t,e,a){"use strict";a("7ed2")},"704c":function(t,e,a){},"72bc":function(t,e,a){},7304:function(t,e,a){},"73b7":function(t,e,a){"use strict";a("510c")},"74f2":function(t,e,a){"use strict";a("cb0c")},"750d":function(t,e,a){"use strict";a("7c1e")},"77cd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"statementForm",attrs:{title:"صورت وضعیت",showList:!1,listRoute:{name:"StatementList"},exportBaseUrl:"reports/statement/all",exportParams:{id:t.item.id},canDelete:!1,items:t.item,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[this.contract?t._e():a("v-autocomplete",{attrs:{label:"قرارداد",items:t.contracts,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(e){return t.setValues(t.item.contract)}},model:{value:t.item.contract,callback:function(e){t.$set(t.item,"contract",e)},expression:"item.contract"}}),this.contract?a("v-text-field",{attrs:{label:"قرارداد",disabled:"true"},model:{value:t.item.contract=this.contract,callback:function(e){t.$set(t.item.contract=this,"contract",e)},expression:"item.contract = this.contract"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{label:"دسته بندی",items:t.type,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" مبلغ ناخالص کارکرد این صورت وضعیت ","background-color":"white",disabled:!t.isEditing},on:{change:function(e){t.present_statement_value=t.previous_statement_value+t.item.value}},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{disabled:"",label:"مبلغ ناخالص کارکرد تا صورت وضعیت قبلی","background-color":"white"},model:{value:t.previous_statement_value,callback:function(e){t.previous_statement_value=e},expression:"previous_statement_value"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{disabled:"",label:"مبلغ ناخالص کارکرد تا این صورت وضعیت ","background-color":"white"},model:{value:t.present_statement_value,callback:function(e){t.present_statement_value=e},expression:"present_statement_value"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره","background-color":"white",disabled:!t.isEditing},model:{value:t.item.serial,callback:function(e){t.$set(t.item,"serial",e)},expression:"item.serial"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)],t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"light-blue white--text mt-6 mr-6  float-left",on:{click:function(e){t.receivedDialog=!0}}},[t._v("ثبت دریافت ")]):t._e(),a("v-dialog",{model:{value:t.receivedDialog,callback:function(e){t.receivedDialog=e},expression:"receivedDialog"}},[a("transaction-form",{ref:"transactionForm",attrs:{type:"receive","modal-mode":!1,"contract-modal-mode":!0,id:t.receive.id},on:{submit:t.submit}})],1)],2)],1)},s=[],n=a("b7e5"),o=a("923b"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("3c1f"),p=(a("0359"),a("3915")),v={name:"StatementForm",mixins:[n["b"],o["a"],l["a"],c["a"]],components:{mtime:r["a"],TreeSelect:u["a"],money:m["a"],TransactionForm:p["a"]},props:{id:{}},data:function(){return{receive:{},receivedDialog:!1,contracts:[],contract:this.$route.query.contract,value:"",hasLock:!0,isDefinable:!0,previous_statement_value:"",present_statement_value:"",type:[{name:"معمولی",value:"n"},{name:"تعدیل",value:"a"},{name:"تحویل موقت",value:"td"},{name:"تحویل قطعی",value:"dd"}],baseUrl:"contracting/statement",permissionBasename:"statement",appendSlash:!0,hasList:!1,hasIdProp:!0,filters:{type:"sale",is_defined:!0,is_loaded:!1},factors:[],factor:null,isFullDelivery:null,PathLevels:d["b"],VisitorLevels:d["c"]}},computed:{headers:function(){return[{text:"شماره",value:"code",type:"numeric"},{text:"تاریخ",value:"date",type:"date"},{text:"قرارداد",value:"contract"},{text:"توضیحات",value:"explanation"},{text:"سریال",value:"serial",type:"numeric"},{text:"دسته بندی",value:"type"},{text:"مبلغ ناخالص کارکرد این صورت وضعیت",value:"value",type:"numeric"},{text:"مبلغ ناخالص کارکرد تا صورت وضعیت قبلی",value:"previous_statement_value",type:"numeric"},{text:"مبلغ ناخالص کارکرد تا این صورت وضعیت",value:"present_statement_value",type:"numeric"}]}},mounted:function(){var t=this;this.contract&&this.setValues(this.contract),this.request({url:this.endpoint("contracting/contract/"),method:"get",success:function(e){for(var a in console.log(e),e)t.contracts.push({name:e[a].title,code:e[a].code,id:e[a].id})}})},beforeDestroy:function(){var t=this;this.$refs.transactionForm.item.id&&this.request({url:this.endpoint("contracting/contract/received/"+this.$refs.statementForm.items.contract+"/"+this.$refs.transactionForm.item.id+"/"),method:"get",success:function(e){t.notify(" سند ثبت شد","success")}})},methods:{setValues:function(t){var e=this;this.request({url:this.endpoint("contracting/supplement/previous/"+t+"/"),method:"get",success:function(t){e.previous_statement_value=t,e.present_statement_value=t+e.value}})}}},h=v,f=a("2877"),_=a("6544"),b=a.n(_),x=a("c6a6"),g=a("8336"),y=a("62ad"),k=a("169a"),w=a("0fd9"),C=a("8654"),E=a("a844"),$=Object(f["a"])(h,i,s,!1,null,"05d9330f",null);e["default"]=$.exports;b()($,{VAutocomplete:x["a"],VBtn:g["a"],VCol:y["a"],VDialog:k["a"],VRow:w["a"],VTextField:C["a"],VTextarea:E["a"]})},"788d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{col:"12",md:"6"}},[a("m-form",{ref:"workshopContractForm",attrs:{title:"ثبت قرارداد در کارگاه",showList:!1,listRoute:{name:"WorkshopContractList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[this.workshopPersonnel?t._e():a("v-autocomplete",{attrs:{label:" پرسنل در کارگاه",items:t.workshopPersonnels,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.item.workshop_personnel,callback:function(e){t.$set(t.item,"workshop_personnel",e)},expression:"item.workshop_personnel"}}),this.workshopPersonnel?a("v-text-field",{attrs:{label:"پرسنل در کارگاه",disabled:"true"},model:{value:t.item.workshop_personnel=this.workshopPersonnel,callback:function(e){t.$set(t.item.workshop_personnel=this,"workshopPersonnel",e)},expression:"item.workshop_personnel = this.workshopPersonnel"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* شماره قرارداد  ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"* تاریخ شروع قرارداد ",default:!0,disabled:!t.isEditing},model:{value:t.item.contract_from_date,callback:function(e){t.$set(t.item,"contract_from_date",e)},expression:"item.contract_from_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"* تاریخ پایان قرارداد ",default:!0,disabled:!t.isEditing},model:{value:t.item.contract_to_date,callback:function(e){t.$set(t.item,"contract_to_date",e)},expression:"item.contract_to_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"تاریخ ترک کار ",default:!1,disabled:!t.isEditing},model:{value:t.item.quit_job_date,callback:function(e){t.$set(t.item,"quit_job_date",e)},expression:"item.quit_job_date"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-switch",{staticClass:"text-center pr-11",attrs:{label:"ّبیمه میشود",disabled:!t.isEditing,value:!0},on:{change:function(e){return t.show(t.item.insurance)}},model:{value:t.item.insurance,callback:function(e){t.$set(t.item,"insurance",e)},expression:"item.insurance"}})],1),t.item.insurance?a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"تاریخ اضافه شدن به بیمه ",default:!1,disabled:!t.isEditing},model:{value:t.item.insurance_add_date,callback:function(e){t.$set(t.item,"insurance_add_date",e)},expression:"item.insurance_add_date"}})],1):t._e()],1)]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("workshop-contract-summary-list")],1)],1)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=a("2ecb"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست قرارداد ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},x=[],g={name:"WorkshopContractSummaryList",props:{},data:function(){return{url:"payroll/contract/all",filters:{}}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display",filterable:!1},{text:"شماره قرارداد",value:"code"},{text:"تاریخ شروع قرارداد",value:"contract_from_date"},{text:"تاریخ پایان قرارداد",value:"contract_to_date"}]}},methods:{to:function(t){return{name:"WorkshopContractDetail",params:{id:t.id}}}}},y=g,k=a("2877"),w=a("6544"),C=a.n(w),E=a("b0af"),$=a("99d9"),T=Object(k["a"])(y,b,x,!1,null,"928d9372",null),S=T.exports;C()(T,{VCard:E["a"],VCardText:$["c"],VCardTitle:$["d"]});var V={name:"WorkshopContractForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{WorkshopContractSummaryList:S,WorkshopContractList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{printUrl:"payroll/contract/form",isWorkshopConfirmed:!1,baseUrl:"payroll/contract",permissionBasename:"contract",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",workshopPersonnel:this.$route.query.workshop_personnel,workshopPersonnels:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel"},{text:"شماره قرارداد",value:"code"},{text:"تاریخ شروع قرارداد",value:"contract_from_date"},{text:"تاریخ پایان قرارداد",value:"contract_to_date"},{text:"تاریخ ترک کار",value:"quit_job_date"}]}},mounted:function(){var t=this;this.workshopPersonnel||this.request({url:this.endpoint("payroll/workshop/personnel/"),method:"get",success:function(e){for(var a in console.log(e),e)t.workshopPersonnels.push({name:e[a].personnel_name+"  در کارگاه "+e[a].workshop_name,id:e[a].id});console.log(t.workshopPersonnels)}})},methods:{show:function(t){console.log(t)},to:function(t){return{name:"WorkshopContractDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت قرارداد رد شد","warning")}}},F=V,P=a("c6a6"),D=a("62ad"),A=a("0fd9"),I=a("b73d"),j=a("8654"),L=Object(k["a"])(F,i,s,!1,null,"cc838d96",null);e["default"]=L.exports;C()(L,{VAutocomplete:P["a"],VCol:D["a"],VRow:A["a"],VSwitch:I["a"],VTextField:j["a"]})},"79b5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-form",{ref:"workshopForm",attrs:{title:"ثبت پیمان",showList:!1,listRoute:{name:"ContractRowList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing,"show-submit-and-clear-btn":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[this.workshop?t._e():a("v-autocomplete",{attrs:{label:"کارگاه",items:t.workshops,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.item.workshop,callback:function(e){t.$set(t.item,"workshop",e)},expression:"item.workshop"}}),this.workshop?a("v-text-field",{attrs:{label:"کارگاه",disabled:"true"},model:{value:t.item.workshop=this.workshop,callback:function(e){t.$set(t.item.workshop=this,"workshop",e)},expression:"item.workshop = this.workshop"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* ردیف پیمان ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.contract_row,callback:function(e){t.$set(t.item,"contract_row",e)},expression:"item.contract_row"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* شماره قرارداد ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.contract_number,callback:function(e){t.$set(t.item,"contract_number",e)},expression:"item.contract_number"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"تاریخ قرارداد",default:!0,disabled:!t.isEditing},model:{value:t.item.registration_date,callback:function(e){t.$set(t.item,"registration_date",e)},expression:"item.registration_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"تاریخ شروع قرارداد",default:!0,disabled:!t.isEditing},model:{value:t.item.from_date,callback:function(e){t.$set(t.item,"from_date",e)},expression:"item.from_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"تاریخ پایان قرارداد",default:!0,disabled:!t.isEditing},model:{value:t.item.to_date,callback:function(e){t.$set(t.item,"to_date",e)},expression:"item.to_date"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* شناسه ملی واگذار کننده ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.assignor_national_code,callback:function(e){t.$set(t.item,"assignor_national_code",e)},expression:"item.assignor_national_code"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* نام واگذار کننده ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.assignor_name,callback:function(e){t.$set(t.item,"assignor_name",e)},expression:"item.assignor_name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* کد کارگاه واگذار کننده ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.assignor_workshop_code,callback:function(e){t.$set(t.item,"assignor_workshop_code",e)},expression:"item.assignor_workshop_code"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:" شعبه ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.branch,callback:function(e){t.$set(t.item,"branch",e)},expression:"item.branch"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("money",{attrs:{label:" مبلغ اولیه قرارداد","background-color":"white",disabled:!t.isEditing},model:{value:t.item.contract_initial_amount,callback:function(e){t.$set(t.item,"contract_initial_amount",e)},expression:"item.contract_initial_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"* وضعیت",items:t.STATUS_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.status,callback:function(e){t.$set(t.item,"status",e)},expression:"item.status"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:" موضوع ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.topic,callback:function(e){t.$set(t.item,"topic",e)},expression:"item.topic"}})],1)],1)]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("summary-contract-row-list")],1)],1)],1)},s=[],n=(a("b0c0"),a("830d")),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست پیمان ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},b=[],x={name:"SummaryContractRowList",props:{},data:function(){return{url:"payroll/contractRows/all",exportUrl:"payroll/contractRows/all",filters:{}}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop_name"},{text:"ردیف پیمان",value:"contract_row",type:"numeric"},{text:"شماره قرارداد",value:"contract_number"},{text:"تاریخ شروع قرارداد",value:"from_date"},{text:"تاریخ پایان قرارداد",value:"to_date"},{text:"وضعیت",value:"status_display"}]}},methods:{to:function(t){return{name:"ContractRowDetail",params:{id:t.id}}}}},g=x,y=a("2877"),k=a("6544"),w=a.n(k),C=a("b0af"),E=a("99d9"),$=Object(y["a"])(g,_,b,!1,null,"861ceebc",null),T=$.exports;w()($,{VCard:C["a"],VCardText:E["c"],VCardTitle:E["d"]});var S={name:"ContractRowFrom",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{SummaryContractRowList:T,mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{STATUS_TYPE:[{name:" فعال",value:"a"},{name:"غیر فعال",value:"n"}],printUrl:"payroll/contractRows/all",isWorkshopConfirmed:!1,baseUrl:"payroll/contract/row",permissionBasename:"contract_row",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",workshop:this.$route.query.workshop,workshops:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop"},{text:"ردیف پیمان",value:"contract_row",type:"numeric"},{text:"شماره قرارداد",value:"contract_number"},{text:"تاریخ قرارداد",value:"registration_date"},{text:"تاریخ شروع قرارداد",value:"from_date"},{text:"تاریخ پایان قرارداد",value:"to_date"},{text:"شناسه ملی واگذار کننده",value:"assignor_national_code"},{text:"نام واگذار کننده",value:"assignor_name"},{text:"کد کارگاه واگذار کننده",value:"assignor_workshop_code"},{text:"شعبه",value:"branch"},{text:"مبلغ اولیه قرارداد",value:"contract_initial_amount"},{text:"وضعیت",value:"status"}]}},mounted:function(){var t=this;this.workshop||this.request({url:this.endpoint("payroll/workshop/"),method:"get",success:function(e){for(var a in console.log(e),e)t.workshops.push({name:e[a].name,code:e[a].code,id:e[a].id})}})},methods:{to:function(t){return{name:"WorkshopDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت کارگاه رد شد","warning")}}},V=S,F=a("c6a6"),P=a("62ad"),D=a("0fd9"),A=a("8654"),I=Object(y["a"])(V,i,s,!1,null,"5b4b7fe8",null);e["default"]=I.exports;w()(I,{VAutocomplete:F["a"],VCol:P["a"],VRow:D["a"],VTextField:A["a"]})},"7c1e":function(t,e,a){},"7c75":function(t,e,a){"use strict";a("d699")},"7d17":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست کارگاه ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n={name:"SummaryWorkshopList",props:{},data:function(){return{url:"payroll/workshop/all",filters:{}}},computed:{headers:function(){return[{text:"کد کارگاه",value:"code",type:"numeric"},{text:"نام کارگاه",value:"name"},{text:"نام کارفرما",value:"employer_name"},{text:"آدرس کارگاه",value:"address"}]}},methods:{to:function(t){return{name:"WorkshopDetail",params:{id:t.id}}}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),m=Object(r["a"])(o,i,s,!1,null,"45788ed6",null);e["a"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},"7dfd":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست کارگاه ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n={name:"WorkshopList",props:{},data:function(){return{url:"payroll/workshop/all",filters:{}}},computed:{headers:function(){return[{text:"کد کارگاه",value:"code",type:"numeric"},{text:"نام کارگاه",value:"name"},{text:"نام کارفرما",value:"employer_name"},{text:"آدرس کارگاه",value:"address"},{text:"کد پستی",value:"postal_code",type:"numeric",filterable:!1},{text:"کد شعبه",value:"branch_code",type:"numeric",filterable:!1},{text:"نام شعبه",value:"branch_name"}]}},methods:{to:function(t){return{name:"WorkshopDetail",params:{id:t.id}}}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),m=Object(r["a"])(o,i,s,!1,null,"389e71ce",null);e["a"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},"7eac":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return o}));a("7db0"),a("d3b7");var i=[{text:"خرید",value:"buy"},{text:"برگشت از خرید",value:"backFromBuy"},{text:"فروش",value:"sale"},{text:"برگشت از فروش",value:"backFromSale"},{text:"حواله کالای مصرفی",value:"cw"}],s=[{text:"مدیر فروش",value:0},{text:"سرپرست فروش",value:1},{text:"سوپروایزر",value:2},{text:"ویزیتور",value:3}],n=[{text:"استان",value:0},{text:"شهر",value:1},{text:"منطقه",value:2},{text:"محله",value:3},{text:"خیابان",value:4}];function o(t,e){return t.find((function(t){return t.value==e})).text}},"7ed2":function(t,e,a){},8245:function(t,e,a){},"82af":function(t,e,a){"use strict";a("842e")},"830d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست مناقصه ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n={name:"TenderList",props:{},data:function(){return{url:"reports/tender/all",filters:{}}},computed:{headers:function(){return[{text:"شماره",value:"code",type:"numeric"},{text:"عنوان",value:"title"},{text:"شرح",value:"explanation"},{text:"استان",value:"province"},{text:"شهر",value:"city"},{text:"مناقصه گزار",value:"bidder"},{text:"کد پستی مناقصه گزار",value:"bidder_postal_code",type:"numeric"},{text:"آدرس مناقصه گزار",value:"bidder_address"},{text:"مهلت دریافت اسناد",value:"received_deadline",type:"date"},{text:"مهلت ارسال پاکت های پیشنهاد",value:"send_offer_deadline",type:"date"},{text:"زمان بازگشایی پاکت ها",value:"opening_date",type:"date"},{text:"زمان اعتبار پیشنهاد",value:"offer_expiration",type:"date"},{text:"جزئیات",value:"detail",sortable:!1,filterable:!1}]}},methods:{to:function(t){return{name:"TenderDetail",params:{id:t.id}}}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),m=Object(r["a"])(o,i,s,!1,null,"651459f0",null);e["a"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},"842e":function(t,e,a){},8832:function(t,e,a){},8865:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{attrs:{flat:"",color:"indigo",dark:""}},[a("v-toolbar-title",[t._v("تنظیمات کارگاه")]),a("span",{staticClass:"mr-2"},[t._v(t._s(t.item.name)+" "+t._s(t.item.code))]),a("v-spacer")],1),a("v-toolbar",{attrs:{color:"indigo darken-1",dark:""}},[a("v-tabs",{attrs:{centered:""}},[a("v-tab",[a("v-icon",{staticClass:"pl-3"},[t._v(" fa-cogs ")]),t._v(" تنظیمات کلی حقوق و مزایا ")],1),a("v-tab",[a("v-icon",{staticClass:"pl-3"},[t._v(" fa-cogs ")]),t._v(" مبانی محاسباتی حقوق و دستمزد ")],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("m-form",{ref:"workshopForm",attrs:{title:"","show-submit-and-clear-btn":!1,"show-navigation-btns":!1,"show-actions":!0,showList:!1,"can-edit":!0,canDelete:!1,canSubmit:!0,showClearBtn:!1,showListBtn:!1,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem}},[[a("v-row",{staticClass:" mb-6"},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"نحوه محاسبه سنوات ",items:t.SANAVAT_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.sanavat_type,callback:function(e){t.$set(t.item,"sanavat_type",e)},expression:"item.sanavat_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"نحوه محاسبه حق سنوات ",items:t.HAGHE_SANAVAT_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_sanavat_type,callback:function(e){t.$set(t.item,"haghe_sanavat_type",e)},expression:"item.haghe_sanavat_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"نحوه محاسبه مزد مبنا",items:t.BASE_PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.base_pay_type,callback:function(e){t.$set(t.item,"base_pay_type",e)},expression:"item.base_pay_type"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{staticClass:"currency-input",attrs:{label:"نرخ حق بیمه سهم کارفرما",disabled:!t.isEditing},model:{value:t.item.employee_insurance_nerkh,callback:function(e){t.$set(t.item,"employee_insurance_nerkh",e)},expression:"item.employee_insurance_nerkh"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{staticClass:"currency-input",attrs:{label:"نرخ حق بیمه سهم بیمه شده",disabled:!t.isEditing},model:{value:t.item.worker_insurance_nerkh,callback:function(e){t.$set(t.item,"worker_insurance_nerkh",e)},expression:"item.worker_insurance_nerkh"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{staticClass:"currency-input",attrs:{label:"نرخ حق بیمه سهم بیکاری",disabled:!t.isEditing},model:{value:t.item.unemployed_insurance_nerkh,callback:function(e){t.$set(t.item,"unemployed_insurance_nerkh",e)},expression:"item.unemployed_insurance_nerkh"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{staticClass:"currency-input",attrs:{label:"حداقل حقوق اداره کار",disabled:!t.isEditing},model:{value:t.item.hade_aghal_hoghoogh,callback:function(e){t.$set(t.item,"hade_aghal_hoghoogh",e)},expression:"item.hade_aghal_hoghoogh"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{staticClass:"currency-input",attrs:{label:"نرخ تبصره 1 ماده 86 ق.م.م",disabled:!t.isEditing},model:{value:t.item.made_86_nerkh,callback:function(e){t.$set(t.item,"made_86_nerkh",e)},expression:"item.made_86_nerkh"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"معافیت مالیاتی حق بیمه سهم بیمه شونده",items:t.TAX_EMPLOYER_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.tax_employer_type,callback:function(e){t.$set(t.item,"tax_employer_type",e)},expression:"item.tax_employer_type"}})],1)],1)],1)],1),a("v-simple-table",[a("thead",{staticClass:"mt-3"},[a("tr",[a("th",{staticClass:"text-center"},[t._v(" عنوان ")]),a("th",{staticClass:"text-center"},[t._v(" محاسبه بر مبنای ")]),a("th",{staticClass:"text-center"},[t._v(" نحوه شناسایی ")])])]),a("tbody",[a("tr",[a("td",[t._v("عیدی و پاداش")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.eydi_padash_pay_type,callback:function(e){t.$set(t.item,"eydi_padash_pay_type",e)},expression:"item.eydi_padash_pay_type"}})],1),a("td",[a("v-autocomplete",{attrs:{items:t.REWARD_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.eydi_padash_identification,callback:function(e){t.$set(t.item,"eydi_padash_identification",e)},expression:"item.eydi_padash_identification"}})],1)]),a("tr",[a("td",[t._v("حق سنوات")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_sanavat_pay_type,callback:function(e){t.$set(t.item,"haghe_sanavat_pay_type",e)},expression:"item.haghe_sanavat_pay_type"}})],1),a("td",[a("v-autocomplete",{attrs:{items:t.REWARD_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_sanavat_identification,callback:function(e){t.$set(t.item,"haghe_sanavat_identification",e)},expression:"item.haghe_sanavat_identification"}})],1)]),a("tr",[a("td",[t._v("ذخیره ایام مرخصی")]),a("td",[a("v-autocomplete",{attrs:{items:t.LEAVE_PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.leave_save_pay_type,callback:function(e){t.$set(t.item,"leave_save_pay_type",e)},expression:"item.leave_save_pay_type"}})],1),a("td",{staticClass:"pr-10 "},[a("v-switch",{attrs:{label:"محاسبه تا 9 روز",color:"success","false-value":!1,"true-value":!0,disabled:!t.isEditing,"hide-details":""},model:{value:t.item.save_absence_limit,callback:function(e){t.$set(t.item,"save_absence_limit",e)},expression:"item.save_absence_limit"}}),a("v-switch",{attrs:{label:"انتقال به سال بعد",color:"success","false-value":!1,"true-value":!0,disabled:!t.isEditing,"hide-details":""},model:{value:t.item.save_absence_transfer_next_year,callback:function(e){t.$set(t.item,"save_absence_transfer_next_year",e)},expression:"item.save_absence_transfer_next_year"}})],1)])])])]],2)],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v(" عنوان حقوق و مزایا ")]),a("th",{staticClass:"text-center"},[t._v(" محاسبه بر مبنای ")]),a("th",{staticClass:"text-center"},[t._v(" نرخ پبش فرض ")])])]),a("tbody",[a("tr",[a("td",[t._v("اضافه کاری")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.ezafe_kari_pay_type,callback:function(e){t.$set(t.item,"ezafe_kari_pay_type",e)},expression:"item.ezafe_kari_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.ezafe_kari_nerkh,callback:function(e){t.$set(t.item,"ezafe_kari_nerkh",e)},expression:"item.ezafe_kari_nerkh"}})],1)]),a("tr",[a("td",[t._v("تعطیل کاری")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.tatil_kari_pay_type,callback:function(e){t.$set(t.item,"tatil_kari_pay_type",e)},expression:"item.tatil_kari_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.tatil_kari_nerkh,callback:function(e){t.$set(t.item,"tatil_kari_nerkh",e)},expression:"item.tatil_kari_nerkh"}})],1)]),a("tr",[a("td",[t._v("کسر کار")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.kasre_kar_pay_type,callback:function(e){t.$set(t.item,"kasre_kar_pay_type",e)},expression:"item.kasre_kar_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.kasre_kar_nerkh,callback:function(e){t.$set(t.item,"kasre_kar_nerkh",e)},expression:"item.kasre_kar_nerkh"}})],1)]),a("tr",[a("td",[t._v("شب کاری")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.shab_kari_pay_type,callback:function(e){t.$set(t.item,"shab_kari_pay_type",e)},expression:"item.shab_kari_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.shab_kari_nerkh,callback:function(e){t.$set(t.item,"shab_kari_nerkh",e)},expression:"item.shab_kari_nerkh"}})],1)]),a("tr",[a("td",[t._v("عائله مندی")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.aele_mandi_pay_type,callback:function(e){t.$set(t.item,"aele_mandi_pay_type",e)},expression:"item.aele_mandi_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.aele_mandi_nerkh,callback:function(e){t.$set(t.item,"aele_mandi_nerkh",e)},expression:"item.aele_mandi_nerkh"}})],1)]),a("tr",[a("td",[t._v("نوبت کاری صبح و عصر")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.nobat_kari_sob_asr_pay_type,callback:function(e){t.$set(t.item,"nobat_kari_sob_asr_pay_type",e)},expression:"item.nobat_kari_sob_asr_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.nobat_kari_sob_asr_nerkh,callback:function(e){t.$set(t.item,"nobat_kari_sob_asr_nerkh",e)},expression:"item.nobat_kari_sob_asr_nerkh"}})],1)]),a("tr",[a("td",[t._v("نوبت کاری صبح و شب")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.nobat_kari_sob_shab_pay_type,callback:function(e){t.$set(t.item,"nobat_kari_sob_shab_pay_type",e)},expression:"item.nobat_kari_sob_shab_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.nobat_kari_sob_shab_nerkh,callback:function(e){t.$set(t.item,"nobat_kari_sob_shab_nerkh",e)},expression:"item.nobat_kari_sob_shab_nerkh"}})],1)]),a("tr",[a("td",[t._v("نوبت کاری عصر و شب")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.nobat_kari_asr_shab_pay_type,callback:function(e){t.$set(t.item,"nobat_kari_asr_shab_pay_type",e)},expression:"item.nobat_kari_asr_shab_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.nobat_kari_asr_shab_nerkh,callback:function(e){t.$set(t.item,"nobat_kari_asr_shab_nerkh",e)},expression:"item.nobat_kari_asr_shab_nerkh"}})],1)]),a("tr",[a("td",[t._v("نوبت کاری صبح و عصر و شب")]),a("td",[a("v-autocomplete",{attrs:{items:t.PAY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.nobat_kari_sob_asr_shab_pay_type,callback:function(e){t.$set(t.item,"nobat_kari_sob_asr_shab_pay_type",e)},expression:"item.nobat_kari_sob_asr_shab_pay_type"}})],1),a("td",[a("v-text-field",{staticClass:"currency-input",attrs:{disabled:!t.isEditing},model:{value:t.item.nobat_kari_sob_asr_shab_nerkh,callback:function(e){t.$set(t.item,"nobat_kari_sob_asr_shab_nerkh",e)},expression:"item.nobat_kari_sob_asr_shab_nerkh"}})],1)])])]},proxy:!0}])}),a("v-card-actions",{staticClass:"d-flex justify-center justify-md-end mt-2"},[t.isEditing?t._e():a("v-btn",{staticClass:"submit amber w-100px mt-1 mt-md-0",attrs:{left:""},on:{click:function(e){t.isEditing=!0}}},[t._v("ویرایش ")]),t.isEditing?a("v-btn",{staticClass:"w-100px ml-1 green white--text mt-1 mt-md-0",on:{click:function(e){return t.submit(!1)}}},[t._v("ثبت ")]):t._e()],1)],1)],1)],1)],1)],1)],1)},s=[],n=(a("830d"),a("b7e5")),o=a("1276"),r=a("4633"),l=a("14a8"),c=a("53c2"),u=a("7eac"),d=a("e493"),m=a("8925"),p=a("3c1f"),v=(a("0359"),a("3915")),h=a("24a3"),f=a("7dfd"),_=a("7d17"),b={name:"WorkshopSettingForm",mixins:[n["b"],h["a"],r["a"],r["a"],l["a"]],components:{SummaryWorkshopList:_["a"],WorkshopList:f["a"],mtime:o["a"],TreeSelect:c["a"],citySelect:d["a"],MDatatable:m["a"],TransactionForm:v["a"],money:p["a"]},props:{id:{}},data:function(){return{TAX_EMPLOYER_TYPES:[{name:"7/7",value:1},{name:"2/7",value:2/7}],BASE_PAY_TYPES:[{name:"مزد مبنای روزانه",value:"d"},{name:"مزد مبنای ماهانه",value:"m"}],PAY_TYPES:[{name:"حداقل حقوق روزانه",value:"d"},{name:"مزد مبنا",value:"b"}],LEAVE_PAY_TYPES:[{name:"حداقل حقوق روزانه",value:"d"},{name:"جمع تمام مزایای حکم کارگزینی",value:"h"}],SANAVAT_TYPES:[{name:"پیوسته",value:"c"},{name:"نا پیوسته",value:"n"}],HAGHE_SANAVAT_TYPES:[{name:"قطعی",value:"c"},{name:"علی الحساب",value:"o"}],REWARD_TYPES:[{name:"ماهانه",value:"m"},{name:"سالانه",value:"y"}],printUrl:"payroll/workshop/",isWorkshopConfirmed:!1,baseUrl:"payroll/workshop",permissionBasename:"workshop",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!0,isDefinable:!0,setting_workshop:null,items:null,factors:[],isEditing:!1,PathLevels:u["b"],msg:"سالانه",VisitorLevels:u["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){}},methods:{to:function(t){return{name:"WorkshopSettingDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت تنظیمات کارگاه رد شد","warning")}}},x=b,g=a("2877"),y=a("6544"),k=a.n(y),w=a("c6a6"),C=a("8336"),E=a("b0af"),$=a("99d9"),T=a("62ad"),S=a("132d"),V=a("0fd9"),F=a("1f4f"),P=a("2fa4"),D=a("b73d"),A=a("71a3"),I=a("c671"),j=a("fe57"),L=a("8654"),R=a("71d9"),O=a("2a7f"),q=Object(g["a"])(x,i,s,!1,null,"01b15679",null);e["default"]=q.exports;k()(q,{VAutocomplete:w["a"],VBtn:C["a"],VCard:E["a"],VCardActions:$["a"],VCardText:$["c"],VCol:T["a"],VIcon:S["a"],VRow:V["a"],VSimpleTable:F["a"],VSpacer:P["a"],VSwitch:D["a"],VTab:A["a"],VTabItem:I["a"],VTabs:j["a"],VTextField:L["a"],VToolbar:R["a"],VToolbarTitle:O["a"]})},"88db":function(t,e,a){},8925:function(t,e,a){"use strict";var i=a("fa3b");e["a"]=i["a"]},"89ce":function(t,e,a){"use strict";e["a"]={methods:{getCities:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!e&&this.$store.state.cities.length||this.canGet("cities")&&this.request({url:this.endpoint("users/cities"),method:"get",success:function(e){t.$store.commit("setCities",e),t.toggleIsGetting("cities")}})}}}},"8a10":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{attrs:{title:t.title,showListBtn:!1,showList:!1,listRoute:{name:"ChequesList",params:{type:t.type,isPaid:t.isPaid}},showNavigationButtons:!t.modalMode,showSubmitAndClearForm:!t.modalMode,canDelete:t.canDelete,canSubmit:t.canSubmit,canEdit:t.canEdit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},clearForm:t.clearForm,goToForm:t.getItemByPosition,submit:t.validate,delete:t.deleteItem},scopedSlots:t._u([{key:"header-btns",fn:function(){return[t.id?a("v-btn",{staticClass:"blue white--text mr-1 mt-1 mt-md-0",attrs:{to:{name:"ChequeDetail",id:t.id}}},[t._v("مشاهده جزئیات "+t._s(t.typeName))]):t._e()]},proxy:!0}])},[[a("v-row",[t.isPaid?[a("v-col",{attrs:{cols:"12",md:"3"}},[a("account-select",{attrs:{itemsType:"banks",label:"* بانک",disabled:!t.isEditing,clearable:""},model:{value:t.bank,callback:function(e){t.bank=e},expression:"bank"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.bank?a("v-autocomplete",{attrs:{"return-object":!0,required:"",label:" * سری دسته چک",items:t.chequebooks.filter((function(e){return e.account.id==t.bank.id})),"item-text":"serial","item-value":"id",disabled:null!=t.id||!t.isEditing,clearable:""},on:{change:t.getPaidCheques},model:{value:t.item.chequebook,callback:function(e){t.$set(t.item,"chequebook",e)},expression:"item.chequebook"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.item.chequebook?a("v-autocomplete",{attrs:{"return-object":!0,required:"",disabled:!t.chequebook||!t.isEditing,label:" * چک",items:t.paidCheques,"search-input":t.paidChequeSearch,"item-text":"serial","item-value":"id",loading:t.loading.getPaidCheques},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}}):t._e()],1)]:a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{required:"",label:" * سریال",disabled:t.isPaid||!t.isEditing},model:{value:t.item.serial,callback:function(e){t.$set(t.item,"serial",e)},expression:"item.serial"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("account-select",{attrs:{label:"* کد و نام مشتری","items-type":"level3",disabled:t.modalMode||!t.isEditing,floatAccount:t.itemFloatAccount,costCenter:t.itemCostCenter},on:{"update:floatAccount":function(e){return t.itemFloatAccount=e},"update:costCenter":function(e){return t.itemCostCenter=e}},model:{value:t.itemAccount,callback:function(e){t.itemAccount=e},expression:"itemAccount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" * مبلغ",disabled:!t.isEditing},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})],1),"bg"==t.type?a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"شماره سپام",disabled:!t.isEditing},model:{value:t.item.accountNumber,callback:function(e){t.$set(t.item,"accountNumber",e)},expression:"item.accountNumber"}})],1):t._e(),"bg"==t.type?a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ اعتبار",default:!1,disabled:!t.isEditing},model:{value:t.item.due,callback:function(e){t.$set(t.item,"due",e)},expression:"item.due"}})],1):a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:" * تاریخ سررسید",default:!1,disabled:!t.isEditing},model:{value:t.item.due,callback:function(e){t.$set(t.item,"due",e)},expression:"item.due"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"* تاریخ ثبت",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),t.canSetSanadCode?a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره سند",disabled:!t.isEditing},model:{value:t.item.sanad_code,callback:function(e){t.$set(t.item,"sanad_code",e)},expression:"item.sanad_code"}})],1):t._e(),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-textarea",{attrs:{label:"شرح ",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),"c"!=t.type||t.isPaid?t._e():a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-select",{attrs:{label:" * نوع چک",items:t.chequeOwnerTypes,"return-object":!1,disabled:!t.isEditing},model:{value:t.item.owner_type,callback:function(e){t.$set(t.item,"owner_type",e)},expression:"item.owner_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},["pn"!=t.type?a("v-text-field",{attrs:{label:"نام بانک",disabled:t.isPaid||!t.isEditing},model:{value:t.item.bankName,callback:function(e){t.$set(t.item,"bankName",e)},expression:"item.bankName"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"4"}},["pn"!=t.type?a("v-text-field",{attrs:{label:"نام شعبه",disabled:t.isPaid||!t.isEditing},model:{value:t.item.branchName,callback:function(e){t.$set(t.item,"branchName",e)},expression:"item.branchName"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"4"}},["c"==t.type?a("v-text-field",{attrs:{label:"شماره حساب",disabled:t.isPaid||!t.isEditing},model:{value:t.item.accountNumber,callback:function(e){t.$set(t.item,"accountNumber",e)},expression:"item.accountNumber"}}):t._e()],1)],2)]],2),a("cheques-list",{ref:"formList",staticClass:"mt-3",attrs:{form:"cheque",type:t.type,isPaid:t.isPaid}})],1)},s=[],n=(a("d81d"),a("a49f")),o=a("3c1f"),r=a("0359"),l=a("b0f6"),c=a("b6d8"),u=a("4633"),d=a("e5c3"),m=a("b7e5"),p={name:"ChequeForm",props:{isPaid:{requried:!0},type:{requried:!0},id:{default:null},modalMode:{default:!1},selectedAccount:{default:null}},components:{money:o["a"],date:r["a"],ChequesList:c["a"]},mixins:[l["a"],n["a"],u["a"],d["a"],m["b"]],data:function(){return{baseUrl:"cheques/cheques",hasList:!1,hasIdProp:!0,chequebook:{},cheque:{is_paid:this.isPaid,account:null},itemAccount:null,itemFloatAccount:null,itemCostCenter:null,d:{},loading:{},paidCheques:[],paidChequeSearch:"",bank:null}},computed:{createUrl:function(){return"cheques/cheques/submit/"},permissionBasename:function(){return this.isPaid?"paidCheque":"receivedCheque"},canSubmit:function(){return this.hasPerm("submit",this.permissionBasename,this.item)},canEdit:function(){return"revoked"!=this.item.status},typeName:function(){return this.getTypeName(this.type)},title:function(){var t=this.typeName;return this.isPaid?t+=" پرداختنی":t+=" دریافتنی",t},canSetSanadCode:function(){var t=this.item.statusChanges;return!t||0==t.length},canDelete:function(){if(this.isPaid)return!1;if(this.item.id){var t=this.item.statusChanges.length;if(this.isPaid){if(0==t)return!0}else if(1==t)return!0;return!1}return!1}},created:function(){this.d.getPaidCheques=_.debounce(this.getPaidCheques,1e3),this.getAccounts(),this.id&&this.getCheque(this.id),this.isPaid&&this.getChequebooks()},watch:{paidChequeSearch:function(t,e){this.loading.getPaidCheques=!0,this.d.getPaidCheques()}},methods:{clearForm:function(){this.isEditing=!0,this.item=this.getItemTemplate(),this.modalMode||this.changeRouteTo(null)},getData:function(){this.$refs.formList&&this.$refs.formList.$refs.datatable.getData()},validate:function(t){this.modalMode?this.$emit("submit",this.getSerialized()):this.submit(t)},getItemTemplate:function(){var t={type:this.type,account:null,floatAccount:null,costCenter:null,is_paid:this.isPaid,due:null,date:null};return this.selectedAccount&&(this.itemAccount=this.selectedAccount.account,this.itemFloatAccount=this.selectedAccount.floatAccount,this.itemCostCenter=this.selectedAccount.costCenter),t},getSerialized:function(){this.item.account=this.itemAccount,this.item.floatAccount=this.itemFloatAccount,this.item.costCenter=this.itemCostCenter;var t=this.extractIds(this.item);return this.removeAttachmentUrls(t),this.formData&&(t=this.jsonToFormData(t)),t},getItemByPosition:function(t){var e=this;return this.request({url:this.endpoint("cheques/getChequeByPosition"),method:"get",params:{is_paid:this.isPaid,type:this.type,id:this.id,position:t},success:function(t){e.setItem(t)},error:function(t){404==t.response.status&&e.notify("مورد وجود ندارد","warning")}})},setItem:function(t){this.id!=t.id&&this.changeRouteTo(t.id),this.item=t,this.isPaid&&(this.bank=t.chequebook.account),this.getPaidCheques(),this.isEditing=!1,this.$refs.formList&&this.$refs.formList.$refs.datatable.getDataFromApi()},getPaidCheques:function(){var t=this;this.loading.getPaidCheques=!0,this.paidCheques=[];var e={limit:50,chequebook__id:this.chequebook.id,isPaid:!0,type:"c",serial__icontains:this.paidChequeSearch};void 0==this.id&&(e["status"]="blank"),this.request({url:this.endpoint("reports/lists/cheques"),method:"get",loading:!1,params:e,success:function(e){t.paidCheques=e.results.map((function(t){return t.serial=String(t.serial),t})),t.loading.getPaidCheques=!1}})}}},v=p,h=a("2877"),f=a("6544"),b=a.n(f),x=a("c6a6"),g=a("8336"),y=a("62ad"),k=a("0fd9"),w=a("b974"),C=a("8654"),E=a("a844"),$=Object(h["a"])(v,i,s,!1,null,"7ce93edb",null);e["a"]=$.exports;b()($,{VAutocomplete:x["a"],VBtn:g["a"],VCol:y["a"],VRow:k["a"],VSelect:w["a"],VTextField:C["a"],VTextarea:E["a"]})},"8b6e":function(t,e,a){"use strict";a("f14a")},"923b":function(t,e,a){"use strict";var i=a("5530"),s=a("2f62");e["a"]={methods:{getVisitors:function(t){this.fillStore({url:"distributions/visitors/",storeKey:"visitors",reload:t})},getCommissionRanges:function(t){this.fillStore({url:"distributions/commissionRanges/",storeKey:"commissionRanges",reload:t})},getPaths:function(t){this.fillStore({url:"distributions/paths/",storeKey:"paths",reload:t})},getDrivers:function(t){this.fillStore({url:"distributions/drivers/",storeKey:"drivers",reload:t})},getDistributors:function(t){this.fillStore({url:"distributions/distributors/",storeKey:"distributors",reload:t})},getCars:function(t){this.fillStore({url:"distributions/cars/",storeKey:"cars",reload:t})}},computed:Object(i["a"])({},Object(s["b"])(["visitors","commissionRanges","paths","drivers","distributors","cars"]))}},"928c":function(t,e,a){"use strict";a("a344")},"9a4c":function(t,e,a){"use strict";a("c5f0")},"9c0c":function(t,e,a){},"9c89":function(t,e,a){"use strict";a("d098")},a344:function(t,e,a){},a49f:function(t,e,a){"use strict";var i=a("2909"),s=a("b85c"),n=a("5530"),o=(a("4de4"),a("d3b7"),a("159b"),a("4e827"),a("2ca0"),a("a434"),a("99af"),a("caad"),a("b0c0"),a("a9e3"),a("2f62"));e["a"]={data:function(){return{isGettingAccounts:!1,isGettingFloatAccounts:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(o["b"])({accounts:function(t){return t.accounts},floatAccountGroups:function(t){return t.floatAccountGroups.filter((function(t){return!t.is_cost_center}))},floatAccounts:function(t){return t.floatAccounts.filter((function(t){return!t.is_cost_center}))},costCenters:function(t){return t.floatAccounts.filter((function(t){return t.is_cost_center}))},costCenterGroups:function(t){return t.floatAccountGroups.filter((function(t){return t.is_cost_center}))},accountTypes:function(t){return t.accountTypes},defaultAccounts:function(t){return t.defaultAccounts},isGetting:function(t){return t.isGetting}})),{},{accountsSelectValues:function(){this.log("Generate accountsSelectValues");var t={levels:{0:[],1:[],2:[],3:[]},costCenterGroups:[],costCenters:[],floatAccountGroups:[],floatAccounts:[],accountTypes:[],buyers:[],sellers:[],persons:[],banks:[],defaultAccounts:[],all:[]};return this.accounts?(this.accounts.forEach((function(e){t.all.push(e),t.levels[e.level].push(e),"p"==e.account_type&&(t.persons.push(e),"buyer"==e.person_type&&t.buyers.push(e),"seller"==e.person_type&&t.sellers.push(e)),"b"==e.account_type&&t.banks.push(e)})),this.accountTypes.forEach((function(e){t.accountTypes.push(Object(n["a"])({},e))})),t.floatAccountGroups=this.floatAccountGroups.filter((function(t){return 0==t.is_cost_center})),t.costCenterGroups=this.floatAccountGroups.filter((function(t){return 1==t.is_cost_center})),t.floatAccounts=this.floatAccounts.filter((function(t){return 0==t.is_cost_center})),t.costCenters=this.floatAccounts.filter((function(t){return 1==t.is_cost_center})),t.defaultAccounts.push({name:"خنثی",id:null}),this.defaultAccounts.forEach((function(e){t.defaultAccounts.push(Object(n["a"])({},e))})),t):t}}),methods:{getSortedAccounts:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e?0:1,t.sort((function(t,e){return e.id-t.id})),t.sort((function(t,e){return t.code-e.code}));for(var a=function(e){return t.filter((function(t){return t.code.startsWith(e.code)&&t.level==e.level+1}))},n=t.filter((function(t){return 0==t.level})),o=function(o){var r,l=Object(s["a"])(t.filter((function(t){return t.level==o})));try{for(l.s();!(r=l.n()).done;){var c=r.value;n.splice.apply(n,[n.indexOf(c)+e,0].concat(Object(i["a"])(a(c))))}}catch(u){l.e(u)}finally{l.f()}},r=0;r<3;r++)o(r);return n},getAccounts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((e||!this.accounts.length)&&this.canGet("accounts"))return this.request({url:this.endpoint("accounts/accounts"),method:"get",success:function(e){t.$store.commit("setAccounts",e),a&&a(),t.EventBus.$emit("get:accounts"),t.toggleIsGetting("accounts")}})},getFloatAccountGroups:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((e||!this.floatAccountGroups.length)&&this.canGet("floatAccountGroups"))return this.request({url:this.endpoint("accounts/floatAccountGroups"),method:"get",success:function(e){t.$store.commit("setFloatAccountGroups",e),a&&a(),t.EventBus.$emit("get:accounts"),t.toggleIsGetting("floatAccountGroups")}})},getFloatAccounts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((e||!this.floatAccounts.length)&&this.canGet("floatAccounts"))return this.request({url:this.endpoint("accounts/floatAccounts"),method:"get",success:function(e){t.$store.commit("setFloatAccounts",e),a&&a(),t.EventBus.$emit("get:accounts"),t.toggleIsGetting("floatAccounts")}})},getAccountTypes:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e||!this.accountTypes.length)&&this.canGet("accountTypes"))return this.request({url:this.endpoint("accounts/accountTypes"),method:"get",success:function(e){t.$store.commit("setAccountTypes",e),a&&t.init(),t.toggleIsGetting("accountTypes")}})},getDefaultAccounts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((e||!this.defaultAccounts.length)&&this.canGet("defaultAccounts"))return this.request({url:this.endpoint("accounts/defaultAccounts"),method:"get",success:function(e){t.$store.commit("setDefaultAccounts",e),a&&t.init(),t.toggleIsGetting("defaultAccounts"),t.EventBus.$emit("get:defaultAccounts",e)}})},findAccount:function(t,e,a){a||(a=this.accounts);var i,n=Object(s["a"])(a);try{for(n.s();!(i=n.n()).done;){var o=i.value;if(o[t]==e)return o;if(o.children&&0!=o.children.length){var r=this.findAccount(t,e,o.children);if(r)return r}}}catch(l){n.e(l)}finally{n.f()}return null},getDefaultAccount:function(t){var e=this.defaultAccounts.filter((function(e){return e.codename==t}));return e.length?e[0]:null},openLedger:function(t){var e=this.$router.resolve({name:"LedgerReport",query:{"ledger.account":t.id,"ledger.level":"level".concat(t.level)}});window.open(e.href,"_blank")},splitCode:function(t){var e=[],a=[1,3,5,9];return a.forEach((function(a){var i=t.substr(0,a);e.includes(i)||e.push(i)})),e},accountParentsName:function(t){if(!t||!t.code)return[];var e,a=[],i=this.splitCode(t.code),n=Object(s["a"])(i);try{for(n.s();!(e=n.n()).done;){var o=e.value,r=this.findAccount("code",o);if(r&&(a.push(r.name),i.indexOf(o)==o.length-3))break}}catch(l){n.e(l)}finally{n.f()}return a},getTitle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"o";if("b"==e)return"حساب بانک";if("p"==e)return"حساب اشخاص";switch(Number(t)){case 0:return"گروه";case 1:return"کل";case 2:return"معین";case 3:return"تفصیلی"}}}}},a605:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hasChild||t.route.hide||!t.route.show?t.route.show&&!t.route.hide?a("v-list-group",{staticClass:"navbar-list-item",class:"level-"+t.level,attrs:{"no-action":"","sub-group":t.subGroup},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item",{staticClass:"pr-0 my-0",class:"level-"+t.level,attrs:{flat:"","input-value":!0,exact:""}},[t.route.icon?a("v-list-item-icon",[a("v-icon",{staticClass:"navbar-icon white--text"},[t._v(t._s(t.route.icon))])],1):t._e(),a("v-list-item-content",{staticClass:"pr-3 white--text"},[a("v-list-item-title",{class:"level-"+t.level},[t._v(t._s(t.route.title))])],1)],1)]},proxy:!0}]),model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},t._l(t.route.children,(function(e,i){return e.show?a("navbar-list-item",{key:t.level+"-"+i,attrs:{route:e,"sub-group":!0,level:t.level+1}}):t._e()})),1):t._e():a("v-list-item",{staticClass:"navbar-list-item",class:"level-"+t.level,attrs:{to:t.route.to,exact:"",link:"",flat:""},on:{click:function(e){return t.routeClick(t.route)}}},[t.route.icon?a("v-list-item-icon",[a("v-icon",{staticClass:"navbar-icon white--text"},[t._v(t._s(t.route.icon))])],1):t._e(),a("v-list-item-content",{staticClass:"pr-3 white--text"},[a("v-list-item-title",{class:"level-"+t.level},[t._v(t._s(t.route.title))])],1)],1)},s=[],n=(a("b0c0"),{name:"NavbarListItem",props:["route","subGroup","level"],data:function(){return{visible:!1}},computed:{hasChild:function(){return this.route.children&&this.route.children.length}},watch:{visible:function(){this.visible&&this.EventBus.$emit("navbar:closeOthers",{route:this.route,level:this.level})}},beforeCreate:function(){this.$options.components.NavbarListItem=a("a605").default},created:function(){var t=this;this.EventBus.$on("navbar:closeOthers",(function(e){var a=e.route,i=e.level;t.route.title!=a.title&&i<=t.level&&(t.visible=!1)}))},methods:{routeClick:function(t){this.$route.name==t.to.name&&this.EventBus.$emit("sameRouteClick")}}}),o=n,r=(a("e047"),a("2877")),l=a("6544"),c=a.n(l),u=a("132d"),d=a("56b0"),m=a("da13"),p=a("5d23"),v=a("34c3"),h=Object(r["a"])(o,i,s,!1,null,null,null);e["default"]=h.exports;c()(h,{VIcon:u["a"],VListGroup:d["a"],VListItem:m["a"],VListItemContent:p["a"],VListItemIcon:v["a"],VListItemTitle:p["c"]})},a734:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"ma-1 pa-1 rounded",attrs:{elevation:"1"}},[a("v-toolbar",{attrs:{color:"indigo darken-2",dark:""}},[a("v-app-bar-nav-icon"),a("v-toolbar-title",[t._v(" حقوق و دستمزد ")]),a("v-spacer"),a("v-spacer"),t._v(" فیش حقوقی : "),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"چاپ",icon:""},on:{click:function(e){return t.printPayslip("html")}}},[a("v-icon",[t._v("fa-print")])],1),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printPayslip("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1),a("v-spacer"),t._v(" گزارش مالیات : "),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printTax("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1),a("v-spacer"),t._v(" اطلاعات حقوق بگیر : "),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"فایل مالیات",href:this.endpoint("payroll/diskette/tax/newPerson/"+this.list_of_pay_item.workshop_personnel+"/?token="+this.token),icon:""}},[a("v-icon",[t._v("fa-file-download")])],1),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printPersonTax("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1),a("v-spacer"),t._v(" گزارش بیمه : "),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 mt-md-0",attrs:{rounded:"",title:"فایل بیمه",href:this.endpoint("payroll/diskette/insurance/person/"+this.$route.params.id+"/?token="+this.token),icon:""}},[a("v-icon",[t._v("fa-file-download")])],1),a("v-btn",{staticClass:"export-btn grey--text  text--darken-3 mr-1 mt-1 ml-3 mt-md-0",attrs:{rounded:"",title:"PDF",icon:""},on:{click:function(e){return t.printInsurance("pdf")}}},[a("v-icon",[t._v("fa-file-pdf")])],1)],1),a("v-toolbar",{attrs:{color:"indigo",dark:""}},[a("v-toolbar-title",[t._v(" "+t._s(t.list_of_pay_item.personnel_name)+" ")]),a("v-spacer"),a("span",{staticClass:"ml-2 mr-2"},[t._v(" کارگاه "+t._s(t.list_of_pay_item.workshop_display))]),a("span",{staticClass:"ml-2 mr-2"},[t._v(" سال "+t._s(t.list_of_pay_item.year))]),a("span",{staticClass:"ml-2 mr-2"},[t._v(" ماه "+t._s(t.list_of_pay_item.month_display))])],1),a("v-simple-table",{staticClass:"ma-2 mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"style: indigo darken-2"},[a("tr")]),a("thead",{staticClass:"style: indigo lighten-1"},[a("tr",[a("th",{staticClass:"text-center"},[t._v("ردیف")]),a("th",{staticClass:"text-center"},[t._v("نام و نام خانوادگی")]),a("th",{staticClass:"text-center"},[t._v("تاریخ شروع به کار")]),a("th",{staticClass:"text-center"},[t._v("تاریخ تسوبه")]),a("th",{staticClass:"text-center"},[t._v("عنوان شغل")]),a("th",{staticClass:"text-center"},[t._v("بیمه میشود؟")]),a("th",{staticClass:"text-center"},[t._v("سابقه بیمه در کارگاه")]),a("th",{staticClass:"text-center"},[t._v("ردیف پیمان")]),a("th",{staticClass:"text-center"},[t._v("کارکرد عادی")]),a("th",{staticClass:"text-center",attrs:{colspan:"3"}},[t._v("مرخصی استحقاقی")]),a("th",{staticClass:"text-center"},[t._v("مرخصی استعلاجی")]),a("th",{staticClass:"text-center"},[t._v("مرخصی ماده 73")]),a("th",{staticClass:"text-center"},[t._v("مرخصی بدون حقوق")]),a("th",{staticClass:"text-center"},[t._v("غیبت")]),a("th",{staticClass:"text-center"},[t._v("کارکرد واقعی")]),a("th",{staticClass:"text-center"},[t._v("حداقل مزد روزانه")]),a("th",{staticClass:"text-center"},[t._v("حقوق پایه ماهانه")])]),a("tr",[a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td",{staticClass:"text-center"},[t._v("ساعتی")]),a("td",{staticClass:"text-center"},[t._v("روزانه")]),a("td",{staticClass:"text-center"},[t._v("جمع")]),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td")])]),a("tbody",[a("tr",[a("td",{staticClass:"text-center"},[t._v("*")]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.personnel_name))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.start_date))]),a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.work_title))]),a("td",{staticClass:"text-center"},["y"==t.list_of_pay_item.is_insurance?a("span",[t._v(" بلی")]):t._e()]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_insurance_in_workshop))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.contract_row))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.normal_worktime))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.hourly_entitlement_leave_day))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.daily_entitlement_leave_day))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.entitlement_leave_day))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.illness_leave_day))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.matter_47_leave_day))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.without_salary_leave_day))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.absence_day))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.real_worktime))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.hoghoogh_roozane))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.hoghoogh_mahane_real_work))])])]),a("thead",{staticClass:"style: indigo lighten-1"},[a("tr",[a("th",{staticClass:"text-center"},[t._v("پایه سنوات روزانه")]),a("th",{staticClass:"text-center"},[t._v("پایه سنوات ماهانه")]),a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("اضافه کاری")]),a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("تعطیل کاری")]),a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("شب کاری")]),a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("کسر کار")]),a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("ماموریت")]),a("th",{staticClass:"text-center"},[t._v("حق خاروبار")]),a("th",{staticClass:"text-center"},[t._v("حق مسکن")]),a("th",{staticClass:"text-center",attrs:{colspan:"2"}},[t._v("حق اولاد")]),a("th",{staticClass:"text-center"},[t._v("حق جذب")]),a("th",{staticClass:"text-center"},[t._v("سایر اضافات")]),a("th",{staticClass:"text-center"},[t._v("حقوق مزایای کل ماهانه")])]),a("tr",[a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"}),a("td",{staticClass:"text-center"},[t._v("ساعت")]),a("td",{staticClass:"text-center"},[t._v("مبلغ")]),a("td",{staticClass:"text-center"},[t._v("ساعت")]),a("td",{staticClass:"text-center"},[t._v("مبلغ")]),a("td",{staticClass:"text-center"},[t._v("ساعت")]),a("td",{staticClass:"text-center"},[t._v("مبلغ")]),a("td",{staticClass:"text-center"},[t._v("ساعت")]),a("td",{staticClass:"text-center"},[t._v("مبلغ")]),a("td",{staticClass:"text-center"},[t._v("روز")]),a("td",{staticClass:"text-center"},[t._v("مبلغ")]),a("td"),a("td"),a("td",{staticClass:"text-center"},[t._v("تعداد اولاد")]),a("td",{staticClass:"text-center"},[t._v("مبلغ")]),a("td"),a("td"),a("td")])]),a("tbody",[a("tr",[a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.sanavat_base))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.sanavat_mahane_real_work))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.ezafe_kari))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.ezafe_kari_total))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.tatil_kari))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.tatil_kari_total))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.shab_kari))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.shab_kari_total))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.kasre_kar))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.kasre_kar_total))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.mission_day))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_mission_total))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.info.additions.kharo_bar))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.info.additions.hagh_maskan))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.aele_mandi_child))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.aele_mandi))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.info.additions.hagh_jazb))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.sayer_ezafat))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.total_payment))])])]),a("thead",{staticClass:"style: indigo lighten-1"},[a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"4"}},[t._v("بــیـمـه")]),a("th",{staticClass:"text-center"},[t._v("حق بیمه سهم بیمه شده")]),a("th",{staticClass:"text-center"},[t._v("معافیت مالیاتی حقوق")]),a("th",{staticClass:"text-center"},[t._v("حقوق مشمول مالیات")]),a("th",{staticClass:"text-center"},[t._v(" مالیات حقوق")]),a("th",{staticClass:"text-center",attrs:{colspan:"3"}},[t._v(" بدهی متفرقه")]),a("th",{staticClass:"text-center"},[t._v(" حقوق و دستمزد پرداختنی")]),a("th",{staticClass:"text-center"},[t._v(" حق بیمه سهم کارفرما")]),a("th",{staticClass:"text-center"},[t._v(" بیمه بیکاری")])]),a("tr",[a("td",{staticClass:"text-center"},[t._v(" دستمزد ماهانه ")]),a("td",{staticClass:"text-center"},[t._v("مزایای ماهانه مشمول مستمر و غیر مستمر")]),a("td",{staticClass:"text-center"},[t._v("جمع دستمزد مزایای ماهانه مشمول ")]),a("td",{staticClass:"text-center"},[t._v("جمع کل دستمزد و مزایای ماهانه ")]),a("td"),a("td"),a("td"),a("td"),a("td",{staticClass:"text-center"},[t._v("مساعده")]),a("td",{staticClass:"text-center"},[t._v("وام")]),a("td",{staticClass:"text-center"},[t._v("غیره")]),a("td"),a("td"),a("td")])]),a("tbody",[a("tr"),a("tr",[a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_insurance_monthly_payment))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_insurance_monthly_benefit))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_insurance_total_included))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.total_payment))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_haghe_bime_bime_shavande))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_moaf_sum))]),a("td",[t._v(t._s(t.list_of_pay_item.get_tax_included))]),a("td",[t._v(t._s(t.list_of_pay_item.get_month_tax))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_dept))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_loan))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_deduction))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_payable))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_employer_tax))]),a("td",{staticClass:"text-center"},[t._v(t._s(t.list_of_pay_item.get_un_employer_tax))])])])]},proxy:!0}])},[t._v("s ")]),a("m-datatable",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"exportTable",attrs:{headers:t.headers,apiUrl:t.url,exportUrl:t.exportUrl,filters:t.export_filter},on:{"update:filters":function(e){t.export_filter=e}}})],1)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=a("5a45"),b=a("eef6"),x={name:"ListOfPayItemForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{LoanList:b["a"],SummaryAbsenceList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{loan:{}},data:function(){return{time:null,url:"paylist/item/",type:null,entitlement:null,permissionBasename:"list_of_pay_item",exportUrl:"payroll/listOfPayItem/less",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!0,isDefinable:!0,myClass:"",PathLevels:d["b"],export_filter:{},VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0,list_of_pay_item:!0}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display"},{text:"تاریخ",value:"pay_date"},{text:"مبلغ کل",value:"amount"},{text:"مبلغ هر قسط",value:"monthly_pay"}]}},mounted:function(){var t=this;this.request({url:this.endpoint("payroll/paylist/item/detail/"+this.$route.params.id+"/"),method:"get",success:function(e){console.log(e),t.list_of_pay_item=e}})},methods:{to:function(t){return{name:"LoanDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت وام رد شد","warning")},printPayslip:function(t){this.export_filter={id:this.$route.params.id},this.exportUrl="payroll/payslip",this.$refs.exportTable.exportTo(t)},printInsurance:function(t){this.export_filter={id:this.$route.params.id},this.exportUrl="payroll/person/insurance/report",this.$refs.exportTable.exportTo(t)},printTax:function(t){this.export_filter={id:this.$route.params.id},this.exportUrl="payroll/personTax/report",this.$refs.exportTable.exportTo(t)},printPersonTax:function(t){this.export_filter={id:this.list_of_pay_item.workshop_personnel},this.exportUrl="payroll/diskette/person",this.$refs.exportTable.exportTo(t)}}},g=x,y=a("2877"),k=a("6544"),w=a.n(k),C=a("5bc1"),E=a("8336"),$=a("b0af"),T=a("132d"),S=a("1f4f"),V=a("2fa4"),F=a("71d9"),P=a("2a7f"),D=Object(y["a"])(g,i,s,!1,null,"50b2780a",null);e["default"]=D.exports;w()(D,{VAppBarNavIcon:C["a"],VBtn:E["a"],VCard:$["a"],VIcon:T["a"],VSimpleTable:S["a"],VSpacer:V["a"],VToolbar:F["a"],VToolbarTitle:P["a"]})},a738:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"ma-5 pa-1 rounded",attrs:{elevation:"2"}},[a("v-toolbar",{attrs:{color:"indigo",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){return t.$router.push("/panel/setting/"+t.workshop.id)}}}),a("v-toolbar-title",[t._v("کارگاه "+t._s(t.workshop.name)+" "+t._s(t.workshop.code))]),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"900","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"primary  mr-2 rounded white--text ",attrs:{large:""}},"v-btn",s,!1),i),[a("v-icon",{staticClass:"ml-2"},[t._v(" fa-search ")]),t._v(" گزارش جامع مرخصی ")],1)]}},{key:"default",fn:function(e){return[a("v-card",[a("v-toolbar",{attrs:{color:"green darken-2",dark:""}},[t._v(" گزارش جامع مرخصی کارگاه "+t._s(t.workshop.name)+" "+t._s(t.workshop.code)+" ")]),a("v-card-text",{staticClass:"pa-5"},[a("v-text-field",{staticClass:"currency-input",attrs:{color:"blue",label:"سال","background-color":"white"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),a("v-container",{staticClass:"pa-5",attrs:{fluid:""}},[a("v-select",{attrs:{items:t.MONTHS,"item-text":"name","item-value":"value",label:"انتخاب ماه",multiple:""},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggle}},[a("v-list-item-action",[a("v-icon",{attrs:{color:t.months.length>0?"blue darken-4":""}},[t._v(" "+t._s(t.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" انتخاب همه ")])],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0},{key:"append-item",fn:function(){return[a("v-divider",{staticClass:"mb-2"}),a("v-list-item",{attrs:{disabled:""}},[a("v-list-item-avatar",{attrs:{color:"grey lighten-3"}},[a("v-icon",[t._v(" fa-plus ")])],1),t.getAllMonth?a("v-list-item-content",[a("v-list-item-title",[t._v(" همه ماه ها ")])],1):t.getSomeMonth?a("v-list-item-content",[a("v-list-item-title",[t._v(" تعداد ماه ")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.months.length)+" ")])],1):a("v-list-item-content",[a("v-list-item-title",[t._v(" ماه انتخاب نشده ")]),a("v-list-item-subtitle",[t._v(" برای گزارش حداقل یک ماه نیاز است ")])],1)],1)]},proxy:!0}],null,!0),model:{value:t.months,callback:function(e){t.months=e},expression:"months"}})],1),a("v-card-actions",{staticClass:"justify-end mt-16 mb-5"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green",large:""},on:{click:function(a){e.value=!1,t.reportAbsence()}}},[t._v("گزارش ")])],1)],1)]}}])}),a("v-dialog",{attrs:{"max-width":"900","hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"primary  mr-2 rounded white--text ",attrs:{large:""}},"v-btn",s,!1),i),[a("v-icon",{staticClass:"ml-2"},[t._v(" fa-search ")]),t._v(" گزارش جامع ذخیره مزایای مرخصی ")],1)]}},{key:"default",fn:function(e){return[a("v-card",[a("v-toolbar",{attrs:{color:"green darken-3",dark:""}},[t._v(" گزارش جامع ذخیره مزایای مرخصی کارگاه "+t._s(t.workshop.name)+" "+t._s(t.workshop.code)+" ")]),a("v-card-text",{staticClass:"pa-5"},[a("v-text-field",{staticClass:"currency-input",attrs:{color:"blue",label:"سال","background-color":"white"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),a("v-container",{staticClass:"pa-5",attrs:{fluid:""}},[a("v-select",{attrs:{items:t.MONTHS,"item-text":"name","item-value":"value",label:"انتخاب ماه",multiple:""},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{attrs:{ripple:""},on:{mousedown:function(t){t.preventDefault()},click:t.toggle}},[a("v-list-item-action",[a("v-icon",{attrs:{color:t.months.length>0?"blue darken-4":""}},[t._v(" "+t._s(t.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" انتخاب همه ")])],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0},{key:"append-item",fn:function(){return[a("v-divider",{staticClass:"mb-2"}),a("v-list-item",{attrs:{disabled:""}},[a("v-list-item-avatar",{attrs:{color:"grey lighten-3"}},[a("v-icon",[t._v(" fa-plus ")])],1),t.getAllMonth?a("v-list-item-content",[a("v-list-item-title",[t._v(" همه ماه ها ")])],1):t.getSomeMonth?a("v-list-item-content",[a("v-list-item-title",[t._v(" تعداد ماه ")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.months.length)+" ")])],1):a("v-list-item-content",[a("v-list-item-title",[t._v(" ماه انتخاب نشده ")]),a("v-list-item-subtitle",[t._v(" برای گزارش حد اقل یک ماه نیاز است ")])],1)],1)]},proxy:!0}],null,!0),model:{value:t.months,callback:function(e){t.months=e},expression:"months"}})],1),a("v-card-actions",{staticClass:"justify-end mt-16 mb-5"},[a("v-btn",{staticClass:"white--text",attrs:{color:"green",large:""},on:{click:function(a){e.value=!1,t.reportSaveAbsence()}}},[t._v("گزارش ")])],1)],1)]}}])}),a("v-btn",{staticClass:"green darken-2  mr-2 rounded white--text ",attrs:{large:""},on:{click:function(e){return t.$router.push("/panel/setting/"+t.workshop.id)}}},[a("v-icon",{staticClass:"ml-2"},[t._v(" fa-cogs ")]),t._v(" تنظیمات کارگاه ")],1)],1),a("v-simple-table",{staticClass:"ma-2 mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"style: indigo darken-2"},[a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"12"}},[a("h2",{staticClass:"white--text"},[t._v("پــرسـنـل کــارگــاه ")])]),a("th",{staticClass:"text-left pa-2"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"green darken-2 "},on:{click:function(e){return t.$router.push("/panel/workshop_personnel?workshop="+t.workshop.id)}}},[a("v-icon",{staticClass:"ma-2 pa-2"},[t._v(" fa-plus ")])],1)],1)])]),a("thead",{staticClass:"style: indigo lighten-1"},[a("tr",[a("th",{staticClass:"text-center white--text"},[t._v(" نام و نام خانوادگی ")]),a("th",{staticClass:"text-center white--text"},[t._v(" شماره ملی ")]),a("th",{staticClass:"text-center white--text"},[t._v(" جنسیت ")]),a("th",{staticClass:"text-center white--text"},[t._v(" وضعیت تاهل ")]),a("th",{staticClass:"text-center white--text"},[t._v(" شماره موبایل ")]),a("th",{staticClass:"text-center white--text"},[t._v(" عنوان شغلی ")]),a("th",{staticClass:"text-center white--text"},[t._v(" رسته شغلی ")]),a("th",{staticClass:"text-left",attrs:{colspan:"9"}})])]),a("tbody",t._l(t.personnel,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-center"},[t._v(t._s(e.personnel_name))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.personnel_identity_code))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.gender_display))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.marital_display))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.mobile_number))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.work_title))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.job_group_display))]),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"ml-2 mr-2 rounded grey--text text--darken-3",attrs:{color:"yellow darken-2 "},on:{click:function(a){return t.$router.push("/panel/absence?workshop_personnel="+e.id)}}},[t._v(" مرخصی یا غیبت ")])],1),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"ml-2 mr-2 rounded grey--text text--darken-3",attrs:{color:"yellow darken-2 "},on:{click:function(a){return t.$router.push("/panel/mission?workshop_personnel="+e.id)}}},[t._v(" ماموریت ")])],1),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"ml-2 mr-2 rounded grey--text text--darken-3",attrs:{color:"yellow darken-2 "},on:{click:function(a){return t.$router.push("/panel/loan?workshop_personnel="+e.id)}}},[t._v(" ثبت مساعده یا وام ")])],1),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"ml-2 mr-2 rounded grey--text text--darken-3",attrs:{color:"yellow darken-2 "},on:{click:function(a){return t.$router.push("/panel/deduction?workshop_personnel="+e.id)}}},[t._v(" ثبت کسورات اختیاری ")])],1),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"ml-2 mr-2 rounded white--text",attrs:{color:"blue darken-2 "},on:{click:function(a){return t.$router.push("/panel/workshop_contract?workshop_personnel="+e.id)}}},[t._v(" ثبت قرارداد ")])],1),a("td",{staticClass:"text-center"},[a("v-btn",{staticClass:"ml-2 mr-2 rounded white--text",attrs:{color:"blue darken-2 "},on:{click:function(a){return t.$router.push("/panel/personnel_family?personnel="+e.personnel)}}},[t._v(" ثبت خانواده ")])],1)])})),0)]},proxy:!0}])}),a("v-simple-table",{staticClass:"mt-16 ma-2"},[[a("thead",{staticClass:"style: indigo darken-2"},[a("tr",[a("th",{staticClass:"text-center",attrs:{colspan:"10"}},[a("h2",{staticClass:"white--text"},[t._v("ردیـف پـیـمان های کــارگــاه ")])]),a("th",{staticClass:"text-left pa-2"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"green darken-2 "},on:{click:function(e){return t.$router.push("/panel/contract_row?workshop="+t.workshop.id)}}},[a("v-icon",{staticClass:"ma-2 pa-2"},[t._v(" fa-plus ")])],1)],1)])]),a("thead",{staticClass:"style: indigo lighten-1"},[a("tr",[a("th",{staticClass:"text-center white--text"},[t._v(" ردیف پیمان ")]),a("th",{staticClass:"text-center white--text"},[t._v(" شماره قرارداد ")]),a("th",{staticClass:"text-center white--text"},[t._v(" تاریخ قرارداد ")]),a("th",{staticClass:"text-center white--text"},[t._v(" تاریخ شروع قرارداد ")]),a("th",{staticClass:"text-center white--text"},[t._v(" تاریخ پایان قرارداد ")]),a("th",{staticClass:"text-center white--text"},[t._v(" شناسه ملی واگذار کننده ")]),a("th",{staticClass:"text-center white--text"},[t._v(" نام واگذار کننده ")]),a("th",{staticClass:"text-center white--text"},[t._v(" کد کارگاه واگذار کننده ")]),a("th",{staticClass:"text-center white--text"},[t._v(" شعبه ")]),a("th",{staticClass:"text-center white--text"},[t._v(" مبلغ اولیه قرارداد ")]),a("th",{staticClass:"text-center white--text"},[t._v(" وضعیت ")])])]),a("tbody",t._l(t.contractRows,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-center"},[t._v(t._s(e.contract_row))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.contract_number))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.registration_date))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.from_date))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.to_date))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.assignor_national_code))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.assignor_name))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.assignor_workshop_code))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.branch))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.contract_initial_amount))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.status_display))])])})),0)]],2)],1),a("m-datatable",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"exportTable",attrs:{headers:t.headers,apiUrl:t.url,exportUrl:t.report_url,filters:t.report_filter},on:{"update:filters":function(e){t.report_filter=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)},s=[],n=(a("4e827"),a("fb6a"),a("830d")),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=a("7dfd"),b=a("7d17"),x={name:"WorkshopInfo",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{SummaryWorkshopList:b["a"],WorkshopList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{MONTHS:[{name:" فروردین",value:"01"},{name:" اردیبهشت",value:"02"},{name:" خرداد",value:"03"},{name:" تیر",value:"04"},{name:" مرداد",value:"05"},{name:" شهریور",value:"06"},{name:" مهر",value:"07"},{name:" آبان",value:"08"},{name:" آذر",value:"09"},{name:" دی",value:"10"},{name:" بهمن",value:"11"},{name:" اسفند",value:"12"}],year:1401,report_url:"payroll/absence/report/",report_filter:[],months:[],months_string:"",show_contract_row:!1,show_personnel:!0,workshop:null,personnel:null,contractRows:null,workshopId:this.$route.query.workshop,permissionBasename:"workshop",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!0,myClass:"",factors:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:" کارگاه",value:"workshop"},{text:"ماه",value:"month"}]},getAllMonth:function(){return this.months.length===this.MONTHS.length},getSomeMonth:function(){return this.months.length>0&&!this.getAllMonth},icon:function(){return this.getAllMonth||this.getSomeMonth?"fa-check-square":"fa-square"}},mounted:function(){var t=this;this.request({url:this.endpoint("payroll/workshop/"+this.workshopId+"/"),method:"get",success:function(e){console.log(e),t.workshop=e}}),this.request({url:this.endpoint("payroll/workshop/worksho_personnel/"+this.workshopId+"/"),method:"get",success:function(e){console.log(e),t.personnel=e}}),this.request({url:this.endpoint("payroll/workshop/contract/row/"+this.workshopId+"/"),method:"get",success:function(e){console.log(e),t.contractRows=e}})},methods:{to:function(t){return{name:"WorkshopDetail",params:{id:t.id}}},addContractRow:function(t){this.$router.push("/panel/contract_row?workshop="+t.id)},absenceReport:function(){var t=this.months.sort();for(var e in t)this.months_string+=t[e];this.report_url="payroll/absence/report/"+this.year+"/"+this.months_string+"/",console.log(this.report_url)},setting:function(t){this.$router.push("/panel/setting/"+t.id)},unConfirm:function(){this.$router.go(),this.notify(" ثبت کارگاه رد شد","warning")},toggle:function(){var t=this;this.$nextTick((function(){t.getAllMonth?t.months=[]:t.months=t.MONTHS.slice()}))},reportSaveAbsence:function(){var t=this.months.sort();for(var e in t)this.months_string+=t[e];this.report_url="payroll/saveLeave/report/"+this.year+"/"+this.months_string+"/",this.report_filter={id:this.$route.query.workshop},this.$refs.exportTable.exportTo(""),this.months_string="",this.months=[]},reportAbsence:function(){var t=this.months.sort();for(var e in t)this.months_string+=t[e];this.report_url="payroll/absence/report/"+this.year+"/"+this.months_string+"/",this.report_filter={id:this.$route.query.workshop},this.$refs.exportTable.exportTo(""),this.months_string="",this.months=[]}}},g=x,y=(a("a8a6"),a("2877")),k=a("6544"),w=a.n(k),C=a("5bc1"),E=a("8336"),$=a("b0af"),T=a("99d9"),S=a("a523"),V=a("169a"),F=a("ce7e"),P=a("132d"),D=a("da13"),A=a("1800"),I=a("8270"),j=a("5d23"),L=a("b974"),R=a("1f4f"),O=a("2fa4"),q=a("8654"),B=a("71d9"),U=a("2a7f"),M=Object(y["a"])(g,i,s,!1,null,null,null);e["default"]=M.exports;w()(M,{VAppBarNavIcon:C["a"],VBtn:E["a"],VCard:$["a"],VCardActions:T["a"],VCardText:T["c"],VContainer:S["a"],VDialog:V["a"],VDivider:F["a"],VIcon:P["a"],VListItem:D["a"],VListItemAction:A["a"],VListItemAvatar:I["a"],VListItemContent:j["a"],VListItemSubtitle:j["b"],VListItemTitle:j["c"],VSelect:L["a"],VSimpleTable:R["a"],VSpacer:O["a"],VTextField:q["a"],VToolbar:B["a"],VToolbarTitle:U["a"]})},a8a6:function(t,e,a){"use strict";a("4283")},a920:function(t,e,a){},a974:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{class:{"flex-row":t.horizontal,"flex-column":!t.horizontal},attrs:{"no-gutters":"",title:t.item&&t.item.title}},[a("v-col",{attrs:{cols:t.horizontal&&t.hasDeepSelect?6:12}},[a("div",{staticClass:"d-flex"},[t.showLedgerBtn&&t.hasLedger&&t.item?a("open-ledger-btn",{staticClass:"mr-2",attrs:{query:{"ledger.account":t.item.id,"ledger.level":"level"+t.item.level}}}):t._e(),t.hasLedger?a("v-icon",{staticClass:"pl-2 mr-3",attrs:{color:"cyan"},on:{click:t.openBalanceDialog}},[t._v("fa-wallet")]):t._e(),a("v-autocomplete",t._b({attrs:{items:t.items,label:t.label,"item-text":t.mainSelectItemText,disabled:t.disabled||t.accountDisabled,multiple:t.multiple,placeholder:t.placeholder,"item-value":"id","return-object":!0},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},"v-autocomplete",t.$attrs,!1))],1)]),t.hasDeepSelect?[a("v-col",[t.item.floatAccountGroup?a("account-select",t._b({class:{"":t.showLedgerBtn&&!t.horizontal,"mr-1":t.horizontal,"mt-1":!t.horizontal},attrs:{"child-of":t.item.floatAccountGroup.id,disabled:t.disabled,placeholder:" * حساب شناور","items-type":"floatAccounts","item-text":"name","item-value":"id",showLedgerBtn:!1},model:{value:t.localFloatAccount,callback:function(e){t.localFloatAccount=e},expression:"localFloatAccount"}},"account-select",t.$attrs,!1)):t._e(),t.item.floatAccounts&&!t.item.is_cost_center?a("account-select",t._b({class:{"mr-7":t.showLedgerBtn&&!t.horizontal,"mr-1":t.horizontal,"mt-1":!t.horizontal},attrs:{"child-of":t.item.id,disabled:t.disabled,placeholder:"حساب شناور","items-type":"floatAccounts","item-text":"name","item-value":"id",showLedgerBtn:!1},model:{value:t.localFloatAccount,callback:function(e){t.localFloatAccount=e},expression:"localFloatAccount"}},"account-select",t.$attrs,!1)):t._e()],1),t.item.costCenterGroup||t.item.floatAccounts&&t.item.is_cost_center?a("v-col",[t.item.costCenterGroup?a("account-select",t._b({class:{"mr-7":t.showLedgerBtn&&!t.horizontal,"mr-1":t.horizontal,"mt-1":!t.horizontal},attrs:{"child-of":t.item.costCenterGroup.id,disabled:t.disabled,placeholder:" * مرکز هزینه و درآمد","items-type":"costCenters","item-text":"name","item-value":"id",showLedgerBtn:!1},model:{value:t.localCostCenter,callback:function(e){t.localCostCenter=e},expression:"localCostCenter"}},"account-select",t.$attrs,!1)):t._e(),t.item.floatAccounts&&t.item.is_cost_center?a("account-select",t._b({class:{"mr-7":t.showLedgerBtn&&!t.horizontal,"mr-1":t.horizontal,"mt-1":!t.horizontal},attrs:{"child-of":t.item.id,disabled:t.disabled,placeholder:"* حساب شناور","items-type":"floatAccounts","item-text":"name","item-value":"id",showLedgerBtn:!1},model:{value:t.localCostCenter,callback:function(e){t.localCostCenter=e},expression:"localCostCenter"}},"account-select",t.$attrs,!1)):t._e()],1):t._e()]:t._e(),t.item&&t.item.balance?a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.balanceDialog,callback:function(e){t.balanceDialog=e},expression:"balanceDialog"}},[a("v-card",[a("v-card-title",[t._v("مانده حساب "+t._s(t.item.name))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{staticClass:"text-center"},[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v("بدهکار")]),a("th",{staticClass:"text-center"},[t._v("بستانکار")]),a("th",{staticClass:"text-center"},[t._v("مانده")])])]),a("tbody",[a("tr",[a("td",[t._v(t._s(t._f("toMoney")(t.item.balance.bed)))]),a("td",[t._v(t._s(t._f("toMoney")(t.item.balance.bes)))]),a("td",[t._v(t._s(t._f("toMoney")(t.item.balance.remain)))])])])])],1)],1)],1)],1)],1):t._e()],2)},s=[],n=(a("caad"),a("2532"),a("d3b7"),a("159b"),a("4de4"),a("7db0"),a("a49f")),o=a("2a82"),r=a("923b"),l={mixins:[n["a"],r["a"]],components:{OpenLedgerBtn:o["a"]},props:{value:{},floatAccount:{},costCenter:{},label:{default:null},placeholder:{default:null},disabled:{default:!1},accountDisabled:{default:!1},itemText:{default:null},multiple:{default:!1},itemsType:{default:"all",validator:function(t){return["all","level0","level1","level2","level3","persons","buyers","sellers","banks","floatAccounts","floatAccountGroups","costCenters","costCenterGroups","imprests"].includes(t)}},visitorId:{default:null},childOf:{default:null},deepSelect:{default:!0},showLedgerBtn:{default:!0},showBalanceBtn:{default:!0},horizontal:{default:!1}},data:function(){return{item:null,localFloatAccount:void 0,localCostCenter:void 0,balanceDialog:!1}},computed:{mainSelectItemText:function(){return this.itemText?this.itemText:this.itemsType.includes("level")?"title":"name"},items:function(){var t=this,e=[];return"floatAccounts"==this.itemsType&&(e=this.floatAccounts),"floatAccountGroups"==this.itemsType&&(e=this.floatAccountGroups),"costCenters"==this.itemsType&&(e=this.costCenters),"costCenterGroups"==this.itemsType&&(e=this.costCenterGroups),!e.length&&this.accounts.forEach((function(a){if("all"==t.itemsType&&e.push(a),t.itemsType.includes("level")){var i=t.itemsType[t.itemsType.length-1];a.level==i&&e.push(a)}if("persons"==t.itemsType&&"p"==a.account_type&&e.push(a),"buyers"==t.itemsType&&"b"==a.buyer_or_seller&&e.push(a),"sellers"==t.itemsType&&"s"==a.buyer_or_seller&&e.push(a),"banks"==t.itemsType&&"b"==a.account_type&&e.push(a),"imprests"==t.itemsType){var s=0!=t.defaultAccounts.filter((function(t){return"imprest"==t.usage&&t.account.id==a.parent})).length;s&&e.push(a)}})),this.childOf&&(e=e.filter((function(e){return 1==e.floatAccountGroups.filter((function(e){return e.id==t.childOf})).length}))),this.visitorId&&(e=e.filter((function(e){var a=t.paths.find((function(t){return t.id==e.path}));return!!a&&(parent=t.paths.find((function(t){return t.id==a.parent})),parent.visitors.includes(t.visitorId))}))),e},hasDeepSelect:function(){return this.item&&(this.item.floatAccountGroup||this.item.costCenterGroup||this.item.floatAccounts)&&this.deepSelect&&["level3","persons","buyers","sellers","imprests","floatAccountGroups","costCenterGroups"].includes(this.itemsType)},hasLedger:function(){return["level3","persons","buyers","sellers","imprests"].includes(this.itemsType)}},created:function(){var t=this;this.getDefaultAccounts(),this.getAccounts(!1,(function(){return t.setItem()})),this.getFloatAccounts(!1,(function(){return t.setItem()})),this.getFloatAccountGroups(!1,(function(){return t.setItem()})),this.visitorId&&this.getPaths(),this.setItem()},methods:{openBalanceDialog:function(){var t=this;this.request({url:this.endpoint("accounts/accounts/".concat(this.item.id," ")),method:"get",success:function(e){t.item=e,t.balanceDialog=!0}})},setItem:function(){var t=this,e=!1;this.value!=this.item&&(isNaN(this.value)?this.item=this.value:(this.item=this.items.find((function(e){return e.id==t.value})),this.$emit("input",this.item),e=!0)),this.item?(this.floatAccount!=this.localFloaAccount&&(isNaN(this.floatAccount)?this.localFloatAccount=this.floatAccount:(this.localFloatAccount=this.floatAccounts.find((function(e){return e.id==t.floatAccount})),e=!0)),this.costCenter!=this.localCostCenter&&(isNaN(this.costCenter)?this.localCostCenter=this.costCenter:(this.localCostCenter=this.floatAccounts.find((function(e){return e.id==t.costCenter})),e=!0))):(this.localFloatAccount=null,this.localCostCenter=null),e&&this.emitChange()},emitChange:function(){this.$emit("change",{account:this.item,floatAccount:this.localFloatAccount,costCenter:this.localCostCenter})}},watch:{value:function(){this.setItem(),this.localFloatAccount=null,this.localCostCenter=null},floatAccount:function(){this.setItem()},costCenter:function(){this.setItem()},item:function(){this.$emit("input",this.item||null),this.item&&(this.item.floatAccountGroup||this.$emit("update:floatAccount",null),this.item.costCenterGroup||this.$emit("update:costCenter",null)),this.emitChange()},localFloatAccount:function(){this.$emit("update:floatAccount",this.localFloatAccount),this.emitChange()},localCostCenter:function(){this.$emit("update:costCenter",this.localCostCenter),this.emitChange()},visitorId:function(){this.visitorId&&this.getPaths()}}},c=l,u=(a("2755"),a("2877")),d=a("6544"),m=a.n(d),p=a("c6a6"),v=a("b0af"),h=a("99d9"),f=a("62ad"),_=a("169a"),b=a("132d"),x=a("0fd9"),g=a("1f4f"),y=Object(u["a"])(c,i,s,!1,null,"be02a3bc",null);e["a"]=y.exports;m()(y,{VAutocomplete:p["a"],VCard:v["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:f["a"],VDialog:_["a"],VIcon:b["a"],VRow:x["a"],VSimpleTable:g["a"]})},aea8:function(t,e,a){},af59:function(t,e,a){"use strict";a("8832")},b0f6:function(t,e,a){"use strict";var i=a("5530"),s=(a("7db0"),a("d3b7"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("2f62"));a("2ef0");e["a"]={data:function(){return{GuaranteeTypes:[{id:1,name:"چک ضمانتی",codename:"gc"},{id:2,name:"سفته",codename:"pn"},{id:3,name:"ضمانت نامه بانکی",codename:"bg"}]}},methods:{getTypeName:function(t){console.log(t);var e=this.chequeTypes.find((function(e){return e.value==t}));return e?e.text:(console.error("Codename is incurrect:",t,this.chequeTypes),"")},getCheque:function(t){var e=this;return this.getChequeMeta(),this.request({url:this.endpoint("cheques/cheques/".concat(t)),method:"get",success:function(t){e.setItem(t)}})},getChequeMeta:function(t){this.fillStore({url:"cheques/cheques/meta",storeKey:"chequeMeta",reload:t})}},computed:Object(i["a"])(Object(i["a"])({},Object(s["b"])({chequeTypes:function(t){return t.chequeMeta.types.map((function(t){return{text:t[1],value:t[0]}}))},chequeStatuses:function(t){return t.chequeMeta.statuses.map((function(t){return{text:t[1],value:t[0]}}))},chequeOwnerTypes:function(t){return t.chequeMeta.owner_types.map((function(t){return{text:t[1],value:t[0]}}))},chequeStatusTree:function(t){return t.chequeMeta.tree}})),{},{chequeGuaranteeTypes:function(){var t=this;return this.chequeTypes.filter((function(e){return t.$store.state.chequeMeta.guarantee_types.includes(e.value)}))}})}},b3b9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-form",{ref:"workshopForm",attrs:{title:"ثبت کارگاه",showList:!1,"show-submit-and-clear-btn":!1,listRoute:{name:"WorkshopList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* کد کارگاه ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* نام کارگاه ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"* نام کارفرما ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.employer_name,callback:function(e){t.$set(t.item,"employer_name",e)},expression:"item.employer_name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:" کد پستی کارگاه",disabled:!t.isEditing},model:{value:t.item.postal_code,callback:function(e){t.$set(t.item,"postal_code",e)},expression:"item.postal_code"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-textarea",{attrs:{label:"* آدرس کارگاه",disabled:!t.isEditing},model:{value:t.item.address,callback:function(e){t.$set(t.item,"address",e)},expression:"item.address"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:" کد شعبه",disabled:!t.isEditing},model:{value:t.item.branch_code,callback:function(e){t.$set(t.item,"branch_code",e)},expression:"item.branch_code"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-textarea",{attrs:{label:" نام شعبه",disabled:!t.isEditing},model:{value:t.item.branch_name,callback:function(e){t.$set(t.item,"branch_name",e)},expression:"item.branch_name"}})],1)],1),t.item.id?a("v-btn",{staticClass:"primary white--text mt-6 ml-2 float-left",on:{click:function(e){return t.setting(t.item)}}},[t._v("تنظیمات کارگاه ")]):t._e(),t.item.id?a("v-btn",{staticClass:" white--text mt-6 ml-2 float-left",attrs:{color:"blue"},on:{click:function(e){return t.goWorkshop(t.item)}}},[t._v("مشاهده جامع ")]):t._e()]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("summary-workshop-list")],1)],1)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=a("7dfd"),b=a("7d17"),x={name:"WorkshopForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{SummaryWorkshopList:b["a"],WorkshopList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{BASE_PAY_TYPES:[{name:"مزد مبنای روزانه",value:"d"},{name:"مزد مبنای ماهانه",value:"m"}],PAY_TYPES:[{name:"حداقل حقوق روزانه",value:"d"},{name:"مزد مبنا",value:"b"}],SANAVAT_TYPES:[{name:"پیوسته",value:"c"},{name:"نا پیوسته",value:"n"}],printUrl:"payroll/workshop/all",isWorkshopConfirmed:!1,worshopId:0,baseUrl:"payroll/workshop",permissionBasename:"workshop",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",factors:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:"کد کارگاه",value:"code",type:"numeric"},{text:"ردیف پیمان",value:"contract_row",type:"numeric"},{text:"نام کارگاه",value:"name"},{text:"نام کارفرما",value:"employer_name"},{text:"آدرس کارگاه",value:"address"},{text:"کد پستی",value:"postal_code",type:"numeric"},{text:"نرخ بیمه حق کارفرما",value:"employer_insurance_contribution",type:"numeric"},{text:"کد شعبه",value:"branch_code",type:"numeric"},{text:"نام شعبه",value:"branch_name"}]}},methods:{to:function(t){return{name:"WorkshopDetail",params:{id:t.id}}},addContractRow:function(t){this.$router.push("/panel/contract_row?workshop="+t.id)},setting:function(t){this.$router.push("/panel/setting/"+t.id)},goWorkshop:function(t){this.$router.push("/panel/info/workshop?workshop="+t.id)},unConfirm:function(){this.$router.go(),this.notify(" ثبت کارگاه رد شد","warning")}}},g=x,y=a("2877"),k=a("6544"),w=a.n(k),C=a("8336"),E=a("62ad"),$=a("0fd9"),T=a("8654"),S=a("a844"),V=Object(y["a"])(g,i,s,!1,null,"f5545fde",null);e["default"]=V.exports;w()(V,{VBtn:C["a"],VCol:E["a"],VRow:$["a"],VTextField:T["a"],VTextarea:S["a"]})},b4b0:function(t,e,a){"use strict";a("7304")},b6d8:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(t._s(t.title))]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.remain",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(t.getRemain(a))))]}},{key:"item.settle",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{color:"light-blue white--text",to:t.toSettle(i),text:""}},[t._v("تسویه")])]}},{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n=a("5198"),o=a("b0f6"),r={name:"ChequesList",mixins:[n["a"],o["a"]],props:{type:{require:!0},isPaid:{require:!0}},data:function(){return{filters:{type:this.type,is_paid:this.isPaid},url:"reports/lists/cheques"}},computed:{title:function(){switch(this.isPaid){case!1:return"چک های دریافتنی";case!0:return"چک های پرداختنی"}},headers:function(){var t=[{text:"شماره چک",value:"serial"},{text:"شماره سری",value:"chequebook.serial"},{text:"شرح",value:"explanation"},{text:"تاریخ",value:"date"},{text:"تاریخ سررسید",value:"due"},{text:"مبلغ",value:"value"},{text:"نام حساب",value:"account.name"},{text:"وضعیت",value:"status",items:this.chequeStatuses},{text:"نام بانک",value:"bankName"}];return t.push({text:"جزئیات",value:"detail",sortable:!1,filterable:!1}),t}},created:function(){this.getChequeMeta(),this.filters.is_paid=this.isPaid,this.filters.type=this.type},watch:{$route:function(){this.filters.is_paid=this.isPaid,this.filters.type=this.type,this.$refs.datatable.getDataFromApi()}},methods:{getRemain:function(t){var e=t.sanad.bed;return t.imprestSettlement&&(e-=t.imprestSettlement.settled_value),e},to:function(t){return{name:"ChequeDetail",params:{type:this.type,id:t.id}}}}},l=r,c=a("2877"),u=a("6544"),d=a.n(u),m=a("8336"),p=a("b0af"),v=a("99d9"),h=Object(c["a"])(l,i,s,!1,null,"fe33e036",null);e["a"]=h.exports;d()(h,{VBtn:m["a"],VCard:p["a"],VCardText:v["c"],VCardTitle:v["d"]})},b791:function(t,e,a){},b7e5:function(t,e,a){"use strict";a.d(e,"a",(function(){return g})),a.d(e,"b",(function(){return H}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{class:{"is-editing":t.isEditing}},[a("v-col",{attrs:{cols:"12",md:t.formWidth}},[a("v-card",[t.showHeader?a("v-card-title",[a("span",[t._v(t._s(t.title))]),a("v-spacer"),a("div",{staticClass:"d-flex flex-wrap justify-center mt-2"},[t.showClearBtn?a("v-btn",{staticClass:"teal--text mt-1 mt-md-0",attrs:{small:"",href:"#/",outlined:"",icon:"",title:"جدید"},on:{click:function(e){return e.preventDefault(),t.emit("clearForm")}}},[a("v-icon",[t._v("fa-eraser")])],1):t._e(),t.showListBtn?a("v-btn",{staticClass:"light-blue white--text mr-1 mt-1 mt-md-0",attrs:{small:"",to:t.listRoute,icon:"",outlined:"",title:"لیست"}},[a("v-icon",[t._v("fa-th-list")])],1):t._e(),t._t("header-btns"),t.hasExport?[a("span",[a("v-btn",{staticClass:"export-btn mr-1 mt-1 mt-md-0",attrs:{small:"",href:t.printUrl,target:"_blank",rel:"noopener noreferrer",title:"چاپ",icon:""}},[a("v-icon",[t._v("fa-print")])],1),a("v-btn",{staticClass:"export-btn mr-1 mt-1 mt-md-0",attrs:{small:"",href:t.pdfUrl,rel:"noopener noreferrer",title:"PDF",icon:""}},[a("v-icon",[t._v("fa-file-pdf")])],1),a("v-btn",{staticClass:"export-btn mr-1 mt-1 mt-md-0",attrs:{small:"",title:"اکسل",icon:""},on:{click:function(e){return t.downloadUrl(t.excelUrl)}}},[a("v-icon",[t._v("fa-file-excel")])],1)],1)]:t._e()],2)],1):t._e(),a("v-card-text",{staticClass:"form-fields"},[t._t("default")],2),t.showActions?a("v-card-actions",[a("v-row",{staticClass:"d-flex flex-column-reverse flex-md-row mb-1",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"d-flex justify-center justify-md-start mt-2 mt-md-0",attrs:{cols:"12",md:"6"}},[t.showNavigationBtns?[a("v-btn",{attrs:{disabled:!t.hasFirst,title:"اولین",icon:""},on:{click:function(e){return t.goToForm("first")}}},[a("v-icon",[t._v("fa-fast-forward")])],1),a("v-btn",{staticClass:"pr-1",attrs:{disabled:!t.hasPrev,icon:"",title:"قبلی"},on:{click:function(e){return t.goToForm("prev")}}},[a("v-icon",[t._v("fa-step-forward")])],1),a("v-btn",{staticClass:"pr-1",attrs:{disabled:!t.hasNext,icon:"",title:"بعدی"},on:{click:function(e){return t.goToForm("next")}}},[a("v-icon",[t._v("fa-step-backward")])],1),a("v-btn",{staticClass:"pr-1",attrs:{disabled:!t.hasLast,icon:"",title:"آخرین"},on:{click:function(e){return t.goToForm("last")}}},[a("v-icon",[t._v("fa-fast-backward")])],1)]:t._e()],2),a("v-col",{staticClass:"d-flex justify-center justify-md-end",attrs:{cols:"12",md:"6"}},[t.hasFinancialYear?a("div",{staticClass:"d-flex flex-wrap justify-center"},[t.isEditing?[t.canDelete?a("v-btn",{staticClass:"mt-1 mt-md-0 ml-1",attrs:{color:"red",outlined:""},on:{click:t.emitDelete}},[t._v("حذف")]):t._e(),t.canSubmit?a("v-btn",{staticClass:"w-100px ml-1 green white--text mt-1 mt-md-0",on:{click:function(e){return t.submit(!1)}}},[t._v("ثبت")]):t._e(),t.showSubmitAndClearBtn&&t.canSubmit?a("v-btn",{staticClass:"ml-1 mt-1 mt-md-0 green white--text",on:{click:function(e){return t.submit(!0)}}},[t._v("ثبت و صدور جدید")]):t._e(),t._t("footer-btns")]:t.canEdit?a("v-btn",{staticClass:"submit amber w-100px mt-1 mt-md-0",on:{click:function(e){return t.edit()}}},[t._v("ویرایش")]):t._e(),t.isDefinable?a("v-btn",{staticClass:"blue white--text mr-1",attrs:{disabled:!t.canDefine},on:{click:function(e){return t.parentCall("defineItem",[!1])}}},[t._v("قطعی کردن")]):t._e(),t.hasLock?a("v-btn",{staticClass:"white--text mr-1",class:t.isLocked?"red":"green",attrs:{icon:"",title:t.isLocked?"باز کردن قفل":"قفل کردن"},on:{click:function(e){return t.parentCall("toggleItemLock")}}},[t.isLocked?a("v-icon",[t._v("fa-lock")]):a("v-icon",[t._v("fa-unlock")])],1):t._e(),a("span",{staticClass:"mt-1 mt-md-0"},[t._t("footer-outside-btns")],2)],2):t._e()])],1)],1):t._e()],1)],1),t.showList?a("v-col",{staticClass:"items-list",attrs:{cols:"12",md:t.listWidth}},[a("v-card",[a("v-card-text",[a("m-datatable",t._g(t._b({ref:"datatable",attrs:{headers:t.cols,"api-url":t.apiUrl,items:t.items,filters:t.filters},on:{"click:row":t.rowClick,"update:filters":function(e){t.filters=e}},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,a){return{key:a,fn:function(e){return[t._t(a,null,null,e)]}}}))],null,!0)},"m-datatable",t.$attrs,!1),t.listeners))],1)],1)],1):t._e()],1)},s=[],n=a("2909"),o=(a("caad"),a("2532"),a("b64b"),a("b0c0"),a("d3b7"),a("159b"),a("8925")),r={name:"MForm",components:{MDatatable:o["a"]},props:{showHeader:{default:!0},title:{required:!0},showListBtn:{default:!0},listRoute:{default:void 0},showClearBtn:{default:!0},exportBaseUrl:{},exportParams:{default:function(){}},showList:{default:!0},items:{default:void 0},apiUrl:{default:void 0},cols:{default:function(){return[]}},showActions:{default:!0},showNavigationBtns:{default:!0},hasFirst:{default:!0},hasPrev:{default:!0},hasNext:{default:!0},hasLast:{default:!0},canSubmit:{default:!0},canDelete:{default:!0},canEdit:{default:!0},isEditing:{default:!1},showSubmitAndClearBtn:{default:!0},fullWidth:{default:!1}},data:function(){return{filters:{}}},computed:{formWidth:function(){return this.fullWidth?12:this.showList?6:12},listWidth:function(){return this.fullWidth?12:6},listeners:function(){var t=this.$listeners;return Object.keys(t).includes("click:row")&&(t["click:row"]=this.rowClick),t},hasFinancialYear:function(){var t=["Companies","FinancialYears","Cities","Profile"];return!!t.includes(this.$route.name)||this.financialYear&&!this.financialYear.is_closed},hasExport:function(){return void 0!=this.exportBaseUrl&&void 0!=this.exportParams.id},printUrl:function(){if(!this.hasExport)return"";var t=this.exportBaseUrl+"/html?";return t=this.addParams(t),this.endpoint(t)},pdfUrl:function(){if(!this.hasExport)return"";var t=this.exportBaseUrl+"/pdf?";return t=this.addParams(t),this.endpoint(t)},excelUrl:function(){if(!this.hasExport)return"";var t=this.exportBaseUrl+"/xlsx?";return t=this.addParams(t),this.endpoint(t)},isDefinable:function(){return this.canEdit&&this.$parent.isDefinable&&this.$parent.item.id},canDefine:function(){return!this.$parent.item.is_defined},hasLock:function(){return this.canEdit&&this.$parent.hasLock&&this.$parent.item.id},isLocked:function(){return this.$parent.item.is_locked},parent:function(){return this.$parent}},mounted:function(){var t=this;window.addEventListener("keyup",(function(e){t.isEditing&&"Enter"==e.key&&t.submit(!1)}))},methods:{emit:function(t){this.$emit(t)},addParams:function(t){var e=this;return this.listRoute&&this.listRoute.params&&Object.keys(this.listRoute.params).forEach((function(a){t+=a+"="+e.listRoute.params[a]+"&"})),Object.keys(this.exportParams).forEach((function(a){t+=a+"="+e.exportParams[a]+"&"})),t+="token="+this.token,t},edit:function(){this.$emit("update:is-editing",!0)},goToForm:function(t){this.$emit("goToForm",t)},submit:function(t){this.$emit("submit",t)},emitDelete:function(){this.$emit("delete")},emitDefine:function(t){this.$emit("define"),this.$parent.defineItem},rowClick:function(t){this.$emit("update:is-editing",!1),this.$emit("click:row",t)},parentCall:function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(e=this.$parent)[t].apply(e,Object(n["a"])(a))}}},l=r,c=(a("9c89"),a("2877")),u=a("6544"),d=a.n(u),m=a("8336"),p=a("b0af"),v=a("99d9"),h=a("62ad"),f=a("132d"),_=a("0fd9"),b=a("2fa4"),x=Object(c["a"])(l,i,s,!1,null,null,null),g=x.exports;d()(x,{VBtn:m["a"],VCard:p["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VCol:h["a"],VIcon:f["a"],VRow:_["a"],VSpacer:b["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t.hasAttachment?a("v-file-input",{attrs:{clearable:"",label:t.label,"show-size":!0,disabled:t.disabled,"truncate-length":""},on:{change:t.inputChanged}}):[a("div",{staticClass:"d-flex justify-space-between mt-1 pr-2"},[a("label",{staticClass:"ml-8 mt-1"},[t._v(t._s(t.label))]),a("div",[a("v-btn",{attrs:{icon:"",href:t.value,target:"_blank",tag:"a",rel:"noopener noreferrer"}},[a("v-icon",[t._v("fa-download")])],1),a("v-btn",{attrs:{icon:"",disabled:t.disabled},on:{click:function(e){return t.deleteAttachment()}}},[a("v-icon",[t._v("fa-times")])],1)],1)])]],2)},k=[],w=a("53ca"),C={name:"MFileInput",props:{value:{},disabled:{default:!1},label:{}},data:function(){return{file:null}},computed:{hasAttachment:function(){return Object(w["a"])(this.value)!=Object(w["a"])("")}},watch:{file:function(){this.$emit("input",this.file)}},methods:{inputChanged:function(t){this.file=t},deleteAttachment:function(){this.file=null,this.$emit("input",null),this.$emit("update:delete-attachment",!0)}}},E=C,$=a("23a7"),T=Object(c["a"])(E,y,k,!1,null,"b25ea93e",null),S=T.exports;d()(T,{VBtn:m["a"],VFileInput:$["a"],VIcon:f["a"]});var V=a("b85c"),F=(a("99af"),a("d81d"),a("fb6a"),a("b680"),a("a434"),a("2a01")),P=a.n(F),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-simple-table",[a("thead",[t._t("thead")],2),a("draggable",{attrs:{value:t.value,tag:"tbody",draggable:t.isXs?"":".draggable"},on:{input:t.emit,start:function(e){t.drag=!0},end:function(e){t.drag=!1}}},[t._t("tbody")],2)],1)},A=[],I=a("b76a"),j=a.n(I),L={components:{Draggable:j.a},props:{value:{required:!0}},methods:{emit:function(t){this.$emit("input",t)},getDraggableData:function(){return{on:{sort:this.emit}}}}},R=L,O=a("1f4f"),q=Object(c["a"])(R,D,A,!1,null,null,null),B=q.exports;d()(q,{VSimpleTable:O["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$attrs.disabled?a("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.value,expression:"value"}]},[a("v-textarea",t._b({ref:"textarea",attrs:{value:t.limitedValue,disabled:""}},"v-textarea",t.$attrs,!1))],1):a("v-textarea",t._b({staticClass:"row-textarea",attrs:{value:t.value,"prepend-inner-icon":0!=t.i?"$curvedArrowLeftIcon":"far fa-clone","append-icon":(t.i,"")},on:{input:function(e){return t.$emit("input",e)},"click:prepend-inner":function(e){return t.$emit("updateRowsExplanation",t.i)}}},"v-textarea",t.$attrs,!1))},M=[],N={name:"MTextarea",props:{value:{},i:{required:!0}},data:function(){return{width:80}},computed:{limitedValue:function(){return this.value?this.value.substr(0,this.width/2.2)+"...":this.value}},mounted:function(){this.$refs.textarea}},Y=N,z=(a("8b6e"),a("a844")),W=Object(c["a"])(Y,U,M,!1,null,null,null),G=W.exports;d()(W,{VTextarea:z["a"]});var K=a("5198"),H={mixins:[K["a"]],components:{MFileInput:S,InputTable:B,RowTextarea:G},props:{id:{default:null}},data:function(){return{item:{},appendSlash:!1,formData:!1,hasList:!0,isEditing:!0,rows:[],itemsToDelete:[],isDefinable:!1,hasLock:!1}},computed:{rules:function(){return{required:[function(t){return!["",null,void 0].includes(t)||"این فیلد اجباری می باشد"}]}},createUrl:function(){return this.baseUrl+(this.appendSlash?"/":"")},retrieveUrl:function(){return this.updateUrl},updateUrl:function(){var t=this.item.id||this.id||null;return t&&"".concat(this.baseUrl,"/").concat(t).concat(this.appendSlash?"/":"")},deleteUrl:function(){return this.item.id&&"".concat(this.baseUrl,"/").concat(this.item.id)+(this.appendSlash?"/":"")},defineUrl:function(){return this.item.id&&"".concat(this.baseUrl,"/define")+(this.appendSlash?"/":"")},toggleLockUrl:function(){return this.item.id&&"".concat(this.baseUrl,"/toggleLock")+(this.appendSlash?"/":"")},canSubmit:function(){return this.permissionBasename||console.warn("Please set permissionBasename"),this.item.id?this.hasPerm("update",this.permissionBasename,this.item):this.hasPerm("create",this.permissionBasename,this.item)},canDelete:function(){return void 0!=this.item.id&&this.hasPerm("delete",this.permissionBasename,this.item)}},watch:{$route:function(t,e){t.params.id?t.params.id!=this.item.id&&this.getItem():this.clearForm()},rows:{handler:function(){this.rowKey&&this.rows.length>0&&this.rows[this.rows.length-1][this.rowKey]&&this.rows.push(this.getRowTemplate())},deep:!0}},created:function(){this.item=this.getItemTemplate(),this.rows=[this.getRowTemplate()],this.getData(),this.id&&this.getItem()},methods:{getRowTemplate:function(){return{}},getItemTemplate:function(){return{}},getData:function(){},getItem:function(){var t=this;this.hasList||this.request({url:this.endpoint(this.retrieveUrl),method:"get",success:function(e){t.setItem(e)}})},getItemByPosition:function(t){var e=this;return this.request({url:this.endpoint("".concat(this.baseUrl,"/byPosition")),method:"get",params:{id:this.item.id,position:t},success:function(t){e.setItem(t)}})},setItem:function(t){this.item=t,this.rowKey&&(this.rows=this.copy(this.item.items)),this.hasIdProp&&this.id!=t.id&&this.changeRouteTo(t.id)},changeRouteTo:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a||(a=this.copy(this.$route.params)),a.id=t;var i=!0;Object.keys(a).forEach((function(t){a[t]!=e.$route.params[t]&&(i=!1)})),i||this.$router.push({name:this.$route.name,params:a}),this.isEditing=!t},clearForm:function(){this.isEditing=!0,this.item=this.getItemTemplate(),this.rows=[this.getRowTemplate()],this.itemsToDelete=[],this.hasIdProp&&this.changeRouteTo(null)},removeAttachmentUrls:function(t){Object.keys(t).forEach((function(e){e.includes("attachment")&&Object(w["a"])(t[e])==Object(w["a"])("")&&delete t[e]}))},getSerialized:function(){var t=this.extractIds(this.item);if(this.rowKey){var e=this.copy(this.rows);e.map(this.extractIds),e=e.slice(0,-1),t={item:t,items:{ids_to_delete:this.itemsToDelete,items:e}}}return this.removeAttachmentUrls(t),this.formData&&(t=this.jsonToFormData(t)),t},submit:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.item.id?this.updateItem(t):this.storeItem(t)},storeItem:function(t){var e=this;this.request({url:this.endpoint(this.createUrl),method:"post",data:this.getSerialized(),success:function(a){e.successResponse(a,t)}})},updateItem:function(t){var e=this;this.request({url:this.endpoint(this.updateUrl),method:"put",data:this.getSerialized(),success:function(a){e.successResponse(a,t)}})},deleteItem:function(){var t=this;this.request({url:this.endpoint(this.deleteUrl),method:"delete",success:function(e){t.successResponse(e,!0)}})},defineItem:function(t){var e=this;this.request({url:this.endpoint(this.defineUrl),method:"post",data:{item:this.item.id,indefine:t},success:function(t){e.successResponse(t,!1)}})},toggleItemLock:function(){var t=this;this.request({url:this.endpoint(this.toggleLockUrl),method:"post",data:{item:this.item.id},success:function(e){t.successResponse(e,!1)}})},successResponse:function(t,e){e?this.clearForm():(this.setItem(t),this.isEditing=!1),this.hasList&&(this.getData(),this.serverProcessing&&this.$refs.form.$refs.datatable.getDataFromApi()),this.successNotify()},updateRowsExplanation:function(t){var e=this;0==t?this.rows.map((function(t){return e.$set(t,"explanation",e.rows[0].explanation)})):this.$set(this.rows[t],"explanation",this.rows[t-1].explanation)},rowsSum:function(t){var e,a=0,i=Object(V["a"])(this.rows);try{for(i.s();!(e=i.n()).done;){var s=e.value,n=s[t];this.hasValue(n)&&(a+=+n)}}catch(o){i.e(o)}finally{i.f()}return a=a.toFixed(6),a},deleteRow:function(t){var e=this;if(-1==t)this.rows.forEach((function(t){t.id&&e.itemsToDelete.push(t.id)})),this.rows.splice(0,this.rows.length-1);else{var a=this.rows[t];a.id&&this.itemsToDelete.push(a.id),this.rows.splice(t,1)}},jsonToFormData:function(t,e){return P()(t,e)}}}},bbe6:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(" معافیت مالیات و حقوق سالانه")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n={name:"TaxRowList",props:{},data:function(){return{url:"payroll/tax/all",filters:{}}},computed:{headers:function(){return[{text:" اسم",value:"name"},{text:"ار تاربخ",value:"from_date"},{text:"تا تاربخ",value:"to_date"}]}},methods:{to:function(t){return{name:"TaxRowDetail",params:{id:t.id}}}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),m=Object(r["a"])(o,i,s,!1,null,"743026b5",null);e["a"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},be4c:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"contractForm",attrs:{title:"ثبت قرارداد",showList:!1,listRoute:{name:"ContractList"},exportBaseUrl:"reports/contract/all",exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,items:t.item,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[this.tender?t._e():a("v-autocomplete",{attrs:{label:"مناقصه",items:t.tenders,"item-text":"name","item-value":"id",disabled:!t.isEditing},model:{value:t.item.tender,callback:function(e){t.$set(t.item,"tender",e)},expression:"item.tender"}}),this.tender?a("v-text-field",{attrs:{label:"مناقصه",disabled:"true"},model:{value:t.item.tender=this.tender,callback:function(e){t.$set(t.item.tender=this,"tender",e)},expression:"item.tender = this.tender"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"عنوان قرارداد","background-color":"white",disabled:!t.isEditing},model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره قرارداد","background-color":"white",disabled:!t.isEditing},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" مبلغ قرارداد","background-color":"white",disabled:!t.isEditing},model:{value:t.item.amount,callback:function(e){t.$set(t.item,"amount",e)},expression:"item.amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"حداکثر میزان تغییر مبلغ قرارداد (درصد)","background-color":"white",disabled:!t.isEditing},model:{value:t.item.max_change_amount,callback:function(e){t.$set(t.item,"max_change_amount",e)},expression:"item.max_change_amount"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("account-select",{attrs:{label:"پیمانکار",disabled:!t.isEditing},model:{value:t.item.contractor,callback:function(e){t.$set(t.item,"contractor",e)},expression:"item.contractor"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"از تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.from_date,callback:function(e){t.$set(t.item,"from_date",e)},expression:"item.from_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تا تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.to_date,callback:function(e){t.$set(t.item,"to_date",e)},expression:"item.to_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ ثبت",default:!0,disabled:!t.isEditing},model:{value:t.item.registration,callback:function(e){t.$set(t.item,"registration",e)},expression:"item.registration"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ شروع",default:!0,disabled:!t.isEditing},model:{value:t.item.inception,callback:function(e){t.$set(t.item,"inception",e)},expression:"item.inception"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"حسن انجام کار","background-color":"white",disabled:!t.isEditing},model:{value:t.item.doing_job_well,callback:function(e){t.$set(t.item,"doing_job_well",e)},expression:"item.doing_job_well"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"علی الحساب بیمه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.insurance_payment,callback:function(e){t.$set(t.item,"insurance_payment",e)},expression:"item.insurance_payment"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"سایر","background-color":"white",disabled:!t.isEditing},model:{value:t.item.other,callback:function(e){t.$set(t.item,"other",e)},expression:"item.other"}})],1)],1)],t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"blue white--text darken-3 mt-6 mr-2 float-left",on:{click:function(e){return t.$router.push("/panel/statement/?contract="+t.item.id)}}},[t._v("ثبت صورت وضعیت")]):t._e(),t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"blue white--text darken-3 mt-6 mr-2 float-left",on:{click:function(e){t.dialog=!0}}},[t._v("ثبت الحاقیه")]):t._e(),t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"light-blue white--text mt-6  mr-2 float-left",on:{click:function(e){t.paymentDialog=!0}}},[t._v("ثبت سند ضمانتی پرداخت")]):t._e(),t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"light-blue white--text mt-6 mr-6  float-left",on:{click:function(e){t.receivedDialog=!0}}},[t._v("ثبت دریافت")]):t._e(),a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("supplement-form",{attrs:{"modal-mode":!0,contract:t.item.id,"max-change":parseFloat(t.item.amount)+parseFloat(t.item.amount)/100*parseFloat(t.item.max_change_amount),"min-change":parseFloat(t.item.amount)-parseFloat(t.item.amount)/100*parseFloat(t.item.max_change_amount)}})],1)],2),a("v-dialog",{model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[a("transaction-form",{ref:"transactionPForm",attrs:{type:"paymentGuarantee","modal-mode":!1,id:t.payment.id},on:{submit:t.submit}})],1),a("v-dialog",{model:{value:t.receivedDialog,callback:function(e){t.receivedDialog=e},expression:"receivedDialog"}},[a("transaction-form",{ref:"transactionRForm",attrs:{type:"receive","modal-mode":!1,"contract-modal-mode":!0,id:t.payment.id},on:{submit:t.submit}})],1)],1)},s=[],n=a("d646"),o=a("0a5b"),r=a("b7e5"),l=a("923b"),c=a("1276"),u=a("4633"),d=a("14a8"),m=a("53c2"),p=a("7eac"),v=(a("0359"),a("a974")),h=a("a49f"),f=a("3915"),_={name:"ContractForm",mixins:[r["b"],l["a"],u["a"],d["a"],h["a"]],components:{mtime:c["a"],TreeSelect:m["a"],accountSelect:v["a"],ContractList:o["a"],SupplementForm:n["default"],TransactionForm:f["a"]},props:{id:{}},data:function(){return{paymentDialog:!1,receivedDialog:!1,dialog:!1,tender:this.$route.query.tender,hasLock:!0,isDefinable:!0,modalMode:!0,payment:{},accounts:[],classification:[{name:"کالا",value:"w"},{name:"خدمات با فهرست بها",value:"spl"},{name:"خدمات بدون فهرست بها",value:"npl"},{name:"مشاوره",value:"c"},{name:"سایر",value:"o"}],baseUrl:"contracting/contract",permissionBasename:"contract",appendSlash:!0,hasList:!1,hasIdProp:!0,tenders:[],PathLevels:p["b"],VisitorLevels:p["c"]}},computed:{headers:function(){return[{text:"عنوان",value:"title"},{text:"مناقصه",value:"tender"},{text:"شماره",value:"code",type:"numeric"},{text:"مبلغ",value:"amount",type:"numeric"},{text:"حداکثر میزان تغییر",value:"max_change_amount",type:"numeric"},{text:"پیمانکار",value:"contractor"},{text:"از تاریخ",value:"from_date",type:"date"},{text:"تا تاریخ",value:"to_date",type:"date"},{text:"تاریخ ثبت قرارداد",value:"registration",type:"date"},{text:"تاریخ شروع قرارداد",value:"inception",type:"date"},{text:"حسن انجام کار",value:"doing_job_well",type:"numeric"},{text:"علی الحساب بیمه",value:"insurance_payment",type:"numeric"},{text:"سایر",value:"other",type:"numeric"}]}},mounted:function(){var t=this;this.request({url:this.endpoint("contracting/tender/"),method:"get",success:function(e){for(var a in console.log(e),e)t.tenders.push({name:e[a].title,code:e[a].code,id:e[a].id});console.log(t.tenders)}})},beforeDestroy:function(){var t=this;this.$refs.transactionRForm.item.id&&this.request({url:this.endpoint("contracting/contract/received/"+this.$refs.contractForm.$props.exportParams.id+"/"+this.$refs.transactionRForm.item.id+"/"),method:"get",success:function(e){t.notify(" سند ثبت شد","success")}}),this.$refs.transactionPForm.item.id&&this.request({url:this.endpoint("contracting/contract/payment/"+this.$refs.contractForm.$props.exportParams.id+"/"+this.$refs.transactionPForm.item.id+"/"),method:"get",success:function(e){t.notify(" سند ثبت شد","success")}})}},b=_,x=a("2877"),g=a("6544"),y=a.n(g),k=a("c6a6"),w=a("8336"),C=a("62ad"),E=a("169a"),$=a("0fd9"),T=a("8654"),S=Object(x["a"])(b,i,s,!1,null,"4e725b4c",null);e["default"]=S.exports;y()(S,{VAutocomplete:k["a"],VBtn:w["a"],VCol:C["a"],VDialog:E["a"],VRow:$["a"],VTextField:T["a"]})},c02d:function(t,e,a){},c16c:function(t,e,a){"use strict";a("4e43")},c5f0:function(t,e,a){},cb0c:function(t,e,a){},cd8c:function(t,e,a){},cfc0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"personnelForm",attrs:{title:"تعریف اعضای خانواده",showList:!1,listRoute:{name:"PersonnelFamilyList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,"show-submit-and-clear-btn":!1,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",{staticClass:"mt-1"},[a("v-col",{attrs:{cols:"12",md:"4"}},[this.personnel?t._e():a("v-autocomplete",{attrs:{label:"پرسنل",items:t.personnels,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(e){return t.setFilter(t.item.personnel)}},model:{value:t.item.personnel,callback:function(e){t.$set(t.item,"personnel",e)},expression:"item.personnel"}}),this.personnel?a("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"پرسنل",disabled:"true"},model:{value:t.item.personnel=this.personnel,callback:function(e){t.$set(t.item.personnel=this,"personnel",e)},expression:"item.personnel = this.personnel"}}):t._e(),this.personnel?a("v-text-field",{attrs:{label:"پرسنل",disabled:"true"},model:{value:this.personnel_name,callback:function(e){t.$set(this,"personnel_name",e)},expression:"this.personnel_name"}}):t._e()],1)],1),a("v-row",{staticClass:"mt-15"},[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* نام  ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* نام خانوادگی ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.last_name,callback:function(e){t.$set(t.item,"last_name",e)},expression:"item.last_name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"* کد ملی ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.national_code,callback:function(e){t.$set(t.item,"national_code",e)},expression:"item.national_code"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"* تاریخ  تولد ",default:!0,disabled:!t.isEditing},model:{value:t.item.date_of_birth,callback:function(e){t.$set(t.item,"date_of_birth",e)},expression:"item.date_of_birth"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"* نسبت",items:t.RELATIVE_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.relative,callback:function(e){t.$set(t.item,"relative",e)},expression:"item.relative"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"* وضعیت تاهل",items:t.MARITAL_STATUS_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.marital_status,callback:function(e){t.$set(t.item,"marital_status",e)},expression:"item.marital_status"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"* خدمت سربازی",items:t.MILITARY_SERVICE_STATUS,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.military_service,callback:function(e){t.$set(t.item,"military_service",e)},expression:"item.military_service"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"* وضعیت تحصیل",items:t.STUDY_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.study_status,callback:function(e){t.$set(t.item,"study_status",e)},expression:"item.study_status"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"* وضعیت جسمی",items:t.PHYSICAL_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.physical_condition,callback:function(e){t.$set(t.item,"physical_condition",e)},expression:"item.physical_condition"}})],1)],1)]],2),this.personnel||t.item.personnel&&!t.slug?[a("v-card",{staticClass:"mt-8"},[a("v-card-title",[t._v(" خانواده "+t._s(t.personnel_name)+" ")]),a("v-card-text",[a("m-datatable",{ref:"familyDatatable",attrs:{headers:t.headers,apiUrl:t.printUrl,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}],null,!1,886549401)})],1)],1)]:t._e()],2)},s=[],n=(a("b0c0"),a("830d")),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=a("33e5"),b={name:"ContractRowFrom",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{PersonnelFamilyList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{RELATIVE_TYPE:[{name:" پدر",value:"f"},{name:"مادر",value:"m"},{name:"فرزند",value:"c"},{name:"همسر",value:"s"}],MARITAL_STATUS_TYPES:[{name:" مجرد",value:"s"},{name:"متاهل",value:"m"},{name:"سرپرست فرزند",value:"c"}],MILITARY_SERVICE_STATUS:[{name:" انجام داده",value:"d"},{name:"انجام نداده",value:"n"},{name:"معاف",value:"e"},{name:"هیچ کدام",value:"x"}],STUDY_TYPE:[{name:" محصل",value:"s"},{name:"غیر محصل",value:"n"}],PHYSICAL_TYPE:[{name:" سالم",value:"h"},{name:"بیمار",value:"p"},{name:"نفص عضو",value:"m"}],printUrl:"payroll/personnel/family/all",isWorkshopConfirmed:!1,baseUrl:"payroll/personnel/family",permissionBasename:"personnel_family",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",personnel:this.$route.query.personnel,personnels:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0,personnel_name:null,personnel_filter:null,filters:{},slug:this.$route.params.id}},computed:{headers:function(){return[{text:"پرسنل",value:"personnel"},{text:"نام",value:"name"},{text:"نام خانوادگی",value:"last_name"},{text:"کد ملی",value:"national_code"},{text:"تاریخ  تولد",value:"date_of_birth"},{text:"نسبت",value:"relative_display"},{text:"وضعیت تاهل",value:"marital_status_display"},{text:"خدمت سربازی",value:"military_service_display"},{text:"خدمت سربازی",value:"military_service_display"},{text:"وضعیت تحصیل",value:"study_status_display"},{text:"وضعیت جسمی",value:"physical_condition_display"}]}},mounted:function(){var t=this;console.log(this.slug),this.personnel||this.request({url:this.endpoint("payroll/personnel/"),method:"get",success:function(e){for(var a in console.log(e),e)t.personnels.push({name:e[a].name+" "+e[a].last_name,id:e[a].id});console.log(t.personnels)}}),this.personnel&&(this.filters["personnel"]=this.personnel,this.request({url:this.endpoint("payroll/personnel/"+this.personnel+"/"),method:"get",success:function(e){t.personnel_name=e.name+" "+e.last_name}}))},methods:{to:function(t){return{name:"PersonnelFamilyDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت اعضای خانواده رد شد","warning")},setFilter:function(t){this.filters["personnel"]=t,this.$refs.familyDatatable.getDataFromApi()}}},x=b,g=a("2877"),y=a("6544"),k=a.n(y),w=a("c6a6"),C=a("b0af"),E=a("99d9"),$=a("62ad"),T=a("0fd9"),S=a("8654"),V=Object(g["a"])(x,i,s,!1,null,"66d9091c",null);e["default"]=V.exports;k()(V,{VAutocomplete:w["a"],VCard:C["a"],VCardText:E["c"],VCardTitle:E["d"],VCol:$["a"],VRow:T["a"],VTextField:S["a"]})},d098:function(t,e,a){},d434:function(t,e,a){},d5c7:function(t,e,a){"use strict";a("5a5a")},d5de:function(t,e,a){"use strict";a("8245")},d646:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"supplementForm",attrs:{title:"الحاقیه",showList:!1,listRoute:{name:"SupplementList"},exportBaseUrl:"reports/supplement/all",exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing,items:t.item},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},goToForm:t.getItemByPosition,submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[t.modalMode?t._e():a("v-autocomplete",{attrs:{label:"قرارداد",items:t.contracts,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(e){return t.setValues(t.item.contract)}},model:{value:t.item.contract,callback:function(e){t.$set(t.item,"contract",e)},expression:"item.contract"}}),t.modalMode?a("v-text-field",{attrs:{label:"قرارداد",disabled:"true"},model:{value:t.item.contract=t.contract,callback:function(e){t.$set(t.item,"contract = contract",e)},expression:"item.contract = contract"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"1"}},[t.modalMode?t._e():a("v-text-field",{attrs:{disabled:"",label:"حداقل","background-color":"white"},model:{value:t.minValue,callback:function(e){t.minValue=e},expression:"minValue"}}),t.modalMode?a("v-text-field",{attrs:{label:"حداقل",disabled:"true"},model:{value:t.minChange,callback:function(e){t.minChange=e},expression:"minChange"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"1"}},[t.modalMode?t._e():a("v-text-field",{attrs:{disabled:"",label:"حداکثر ","background-color":"white"},model:{value:t.maxValue,callback:function(e){t.maxValue=e},expression:"maxValue"}}),t.modalMode?a("v-text-field",{attrs:{label:"حداکثر",disabled:"true"},model:{value:t.maxChange,callback:function(e){t.maxChange=e},expression:"maxChange"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" مبلغ تغییر","background-color":"white",rules:t.changeValueRule,disabled:!t.isEditing},model:{value:t.item.value,callback:function(e){t.$set(t.item,"value",e)},expression:"item.value"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"افزایشی",disabled:!t.isEditing},model:{value:t.item.increase,callback:function(e){t.$set(t.item,"increase",e)},expression:"item.increase"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ جدید قرارداد",default:!0,disabled:!t.isEditing},model:{value:t.item.new_contract_date,callback:function(e){t.$set(t.item,"new_contract_date",e)},expression:"item.new_contract_date"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("date",{attrs:{label:"تاریخ ثبت الحاقیه",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"شماره سریال ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.code,callback:function(e){t.$set(t.item,"code",e)},expression:"item.code"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-textarea",{attrs:{label:"توضیحات",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1)],1)],t.item.id&&t.item.is_defined?a("v-btn",{staticClass:"light-blue white--text mt-6 mr-6  float-left",on:{click:function(e){t.receivedDialog=!0}}},[t._v("ثبت دریافت ")]):t._e(),a("v-dialog",{model:{value:t.receivedDialog,callback:function(e){t.receivedDialog=e},expression:"receivedDialog"}},[a("transaction-form",{ref:"transactionForm",attrs:{type:"receive","modal-mode":!1,"contract-modal-mode":!0,id:t.receive.id},on:{submit:t.submit}})],1)],2)],1)},s=[],n=a("0fdc"),o=a("b7e5"),r=a("923b"),l=a("1276"),c=a("4633"),u=a("14a8"),d=a("53c2"),m=(a("7eac"),a("3c1f")),p=(a("0359"),a("3915")),v={name:"SupplementForm",mixins:[o["b"],r["a"],c["a"],u["a"]],components:{mtime:l["a"],TreeSelect:d["a"],money:m["a"],SupplementList:n["a"],TransactionForm:p["a"]},props:{id:{},modalMode:{default:!1},contract:{},maxChange:{},minChange:{}},data:function(){var t=this;return{receive:{},receivedDialog:!1,contracts:[],contract:"",hasLock:!0,isDefinable:!0,value:"",modalMode:!1,type:[{name:"معمولی",value:"n"},{name:"تعدیل",value:"a"},{name:"تحویل موقت",value:"td"},{name:"مشاوره",value:"dd"}],baseUrl:"contracting/supplement",permissionBasename:"supplement",appendSlash:!0,hasList:!1,hasIdProp:!0,filters:{type:"sale",is_defined:!0,is_loaded:!1},minValue:null,maxValue:null,changeValueRule:[function(e){return e<=t.maxValue&&e>=t.minValue}]}},mounted:function(){var t=this;this.request({url:this.endpoint("contracting/contract/"),method:"get",success:function(e){for(var a in console.log(e),e)t.contracts.push({name:e[a].title,code:e[a].code,id:e[a].id});t.$refs.supplementForm.$props.items.contract&&t.setValues(t.$refs.supplementForm.$props.items.contract)}})},computed:{headers:function(){return[{text:"شماره",value:"code",type:"numeric"},{text:"قرارداد",value:"contract"},{text:"تاریخ جدید قرارداد",value:"new_contract_date",type:"date"},{text:"شرح",value:"explanation"},{text:"مبلغ",value:"value"},{text:"تاریخ",value:"date",type:"date"}]}},beforeDestroy:function(){var t=this;this.$refs.transactionForm.item.id&&this.request({url:this.endpoint("contracting/contract/received/"+this.$refs.supplementForm.items.contract+"/"+this.$refs.transactionForm.item.id+"/"),method:"get",success:function(e){t.notify(" سند ثبت شد","success")}})},methods:{setValues:function(t){var e=this;this.request({url:this.endpoint("contracting/contract/change/"+t+"/"),method:"get",success:function(t){e.minValue=t.min,e.maxValue=t.max}})}}},h=v,f=a("2877"),_=a("6544"),b=a.n(_),x=a("c6a6"),g=a("8336"),y=a("62ad"),k=a("169a"),w=a("0fd9"),C=a("b73d"),E=a("8654"),$=a("a844"),T=Object(f["a"])(h,i,s,!1,null,"54845796",null);e["default"]=T.exports;b()(T,{VAutocomplete:x["a"],VBtn:g["a"],VCol:y["a"],VDialog:k["a"],VRow:w["a"],VSwitch:C["a"],VTextField:E["a"],VTextarea:$["a"]})},d699:function(t,e,a){},daf1:function(t,e,a){},dbe6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"HRLetterFrom",attrs:{title:"ثبت حکم کارگزینی",showList:!1,listRoute:{name:"HRLetterList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-card",{staticClass:"ma-2 "},[a("v-toolbar",{attrs:{color:"indigo"}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v(" مشخصات ")])],1),a("v-row",{staticClass:"pt-10 pb-10 pr-5"},[a("v-col",{attrs:{cols:"12",md:"3"}},[this.contract?t._e():a("v-autocomplete",{attrs:{label:"نوع",items:t.HRLETTER_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.is_template,callback:function(e){t.$set(t.item,"is_template",e)},expression:"item.is_template"}})],1),"p"==t.item.is_template&&"t"!=t.item.is_template?a("v-col",{attrs:{cols:"12",md:"3"}},[this.contract?t._e():a("v-autocomplete",{attrs:{label:" قالب های پیشفرض",items:t.templates,"item-text":"name","item-value":"info",disabled:!t.isEditing},on:{change:function(e){t.item.is_template="p",t.item.id=null,t.item.name=null}},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1):t._e(),"p"==t.item.is_template&&"t"!=t.item.is_template?a("v-col",{attrs:{cols:"12",md:"3"}},[this.contract?t._e():a("v-autocomplete",{attrs:{label:" قرارداد در کارگاه",items:t.contracts,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(e){return t.show(t.item.contract)}},model:{value:t.item.contract,callback:function(e){t.$set(t.item,"contract",e)},expression:"item.contract"}}),this.contract?a("v-text-field",{attrs:{label:"قرارداد در کارگاه",disabled:"true"},model:{value:t.item.contract=this.contract,callback:function(e){t.$set(t.item.contract=this,"contract",e)},expression:"item.contract = this.contract"}}):t._e()],1):t._e(),a("v-col",{attrs:{cols:"12",md:"3"}},["t"==t.item.is_template?a("v-text-field",{attrs:{label:"نام قالب"},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}}):t._e()],1)],1),a("v-toolbar",{attrs:{color:"indigo"}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v(" عناوین حکمی ")])],1),a("v-row",{staticClass:"mt-10"},[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حداقل مزد روزانه :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.hoghooghe_roozane_amount,callback:function(e){t.$set(t.item,"hoghooghe_roozane_amount",e)},expression:"item.hoghooghe_roozane_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.hoghooghe_roozane_nature,callback:function(e){t.$set(t.item,"hoghooghe_roozane_nature",e)},expression:"item.hoghooghe_roozane_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.hoghooghe_roozane_use_insurance,callback:function(e){t.$set(t.item,"hoghooghe_roozane_use_insurance",e)},expression:"item.hoghooghe_roozane_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.hoghooghe_roozane_use_tax,callback:function(e){t.$set(t.item,"hoghooghe_roozane_use_tax",e)},expression:"item.hoghooghe_roozane_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.hoghooghe_roozane_base,callback:function(e){t.$set(t.item,"hoghooghe_roozane_base",e)},expression:"item.hoghooghe_roozane_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("پایه سنوات روزانه:")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.paye_sanavat_amount,callback:function(e){t.$set(t.item,"paye_sanavat_amount",e)},expression:"item.paye_sanavat_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name",value:"value",disabled:!t.isEditing},model:{value:t.item.paye_sanavat_nature,callback:function(e){t.$set(t.item,"paye_sanavat_nature",e)},expression:"item.paye_sanavat_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.paye_sanavat_use_insurance,callback:function(e){t.$set(t.item,"paye_sanavat_use_insurance",e)},expression:"item.paye_sanavat_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.paye_sanavat_use_tax,callback:function(e){t.$set(t.item,"paye_sanavat_use_tax",e)},expression:"item.paye_sanavat_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.paye_sanavat_base,callback:function(e){t.$set(t.item,"paye_sanavat_base",e)},expression:"item.paye_sanavat_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق مسکن :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.haghe_maskan_amount,callback:function(e){t.$set(t.item,"haghe_maskan_amount",e)},expression:"item.haghe_maskan_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_maskan_nature,callback:function(e){t.$set(t.item,"haghe_maskan_nature",e)},expression:"item.haghe_maskan_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_maskan_use_insurance,callback:function(e){t.$set(t.item,"haghe_maskan_use_insurance",e)},expression:"item.haghe_maskan_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_maskan_use_tax,callback:function(e){t.$set(t.item,"haghe_maskan_use_tax",e)},expression:"item.haghe_maskan_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.haghe_maskan_base,callback:function(e){t.$set(t.item,"haghe_maskan_base",e)},expression:"item.haghe_maskan_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("بن خار و بار :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.bon_kharo_bar_amount,callback:function(e){t.$set(t.item,"bon_kharo_bar_amount",e)},expression:"item.bon_kharo_bar_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.bon_kharo_bar_nature,callback:function(e){t.$set(t.item,"bon_kharo_bar_nature",e)},expression:"item.bon_kharo_bar_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.bon_kharo_bar_use_insurance,callback:function(e){t.$set(t.item,"bon_kharo_bar_use_insurance",e)},expression:"item.bon_kharo_bar_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.bon_kharo_bar_use_tax,callback:function(e){t.$set(t.item,"bon_kharo_bar_use_tax",e)},expression:"item.bon_kharo_bar_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.bon_kharo_bar_base,callback:function(e){t.$set(t.item,"bon_kharo_bar_base",e)},expression:"item.bon_kharo_bar_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق سرپرستی :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.haghe_sarparasti_amount,callback:function(e){t.$set(t.item,"haghe_sarparasti_amount",e)},expression:"item.haghe_sarparasti_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_sarparasti_nature,callback:function(e){t.$set(t.item,"haghe_sarparasti_nature",e)},expression:"item.haghe_sarparasti_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_sarparasti_use_insurance,callback:function(e){t.$set(t.item,"haghe_sarparasti_use_insurance",e)},expression:"item.haghe_sarparasti_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_sarparasti_use_tax,callback:function(e){t.$set(t.item,"haghe_sarparasti_use_tax",e)},expression:"item.haghe_sarparasti_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.haghe_sarparasti_base,callback:function(e){t.$set(t.item,"haghe_sarparasti_base",e)},expression:"item.haghe_sarparasti_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق مدیریت :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.haghe_modiriyat_amount,callback:function(e){t.$set(t.item,"haghe_modiriyat_amount",e)},expression:"item.haghe_modiriyat_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_modiriyat_nature,callback:function(e){t.$set(t.item,"haghe_modiriyat_nature",e)},expression:"item.haghe_modiriyat_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_modiriyat_use_insurance,callback:function(e){t.$set(t.item,"haghe_modiriyat_use_insurance",e)},expression:"item.haghe_modiriyat_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_modiriyat_use_tax,callback:function(e){t.$set(t.item,"haghe_modiriyat_use_tax",e)},expression:"item.haghe_modiriyat_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.haghe_modiriyat_base,callback:function(e){t.$set(t.item,"haghe_modiriyat_base",e)},expression:"item.haghe_modiriyat_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق جذب :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.haghe_jazb_amount,callback:function(e){t.$set(t.item,"haghe_jazb_amount",e)},expression:"item.haghe_jazb_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_jazb_nature,callback:function(e){t.$set(t.item,"haghe_jazb_nature",e)},expression:"item.haghe_jazb_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_jazb_use_insurance,callback:function(e){t.$set(t.item,"haghe_jazb_use_insurance",e)},expression:"item.haghe_jazb_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_jazb_use_tax,callback:function(e){t.$set(t.item,"haghe_jazb_use_tax",e)},expression:"item.haghe_jazb_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.haghe_jazb_base,callback:function(e){t.$set(t.item,"haghe_jazb_base",e)},expression:"item.haghe_jazb_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("فوق العاده شغل :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.fogholade_shoghl_amount,callback:function(e){t.$set(t.item,"fogholade_shoghl_amount",e)},expression:"item.fogholade_shoghl_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.fogholade_shoghl_nature,callback:function(e){t.$set(t.item,"fogholade_shoghl_nature",e)},expression:"item.fogholade_shoghl_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_shoghl_use_insurance,callback:function(e){t.$set(t.item,"fogholade_shoghl_use_insurance",e)},expression:"item.fogholade_shoghl_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_shoghl_use_tax,callback:function(e){t.$set(t.item,"fogholade_shoghl_use_tax",e)},expression:"item.fogholade_shoghl_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.fogholade_shoghl_base,callback:function(e){t.$set(t.item,"fogholade_shoghl_base",e)},expression:"item.fogholade_shoghl_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق تحصیلات :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.haghe_tahsilat_amount,callback:function(e){t.$set(t.item,"haghe_tahsilat_amount",e)},expression:"item.haghe_tahsilat_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_tahsilat_nature,callback:function(e){t.$set(t.item,"haghe_tahsilat_nature",e)},expression:"item.haghe_tahsilat_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_tahsilat_use_insurance,callback:function(e){t.$set(t.item,"haghe_tahsilat_use_insurance",e)},expression:"item.haghe_tahsilat_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_tahsilat_use_tax,callback:function(e){t.$set(t.item,"haghe_tahsilat_use_tax",e)},expression:"item.haghe_tahsilat_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.haghe_tahsilat_base,callback:function(e){t.$set(t.item,"haghe_tahsilat_base",e)},expression:"item.haghe_tahsilat_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("فوق العاده سختی کار :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.fogholade_sakhti_kar_amount,callback:function(e){t.$set(t.item,"fogholade_sakhti_kar_amount",e)},expression:"item.fogholade_sakhti_kar_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.fogholade_sakhti_kar_nature,callback:function(e){t.$set(t.item,"fogholade_sakhti_kar_nature",e)},expression:"item.fogholade_sakhti_kar_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_sakhti_kar_use_insurance,callback:function(e){t.$set(t.item,"fogholade_sakhti_kar_use_insurance",e)},expression:"item.fogholade_sakhti_kar_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_sakhti_kar_use_tax,callback:function(e){t.$set(t.item,"fogholade_sakhti_kar_use_tax",e)},expression:"item.fogholade_sakhti_kar_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.fogholade_sakhti_kar_base,callback:function(e){t.$set(t.item,"fogholade_sakhti_kar_base",e)},expression:"item.fogholade_sakhti_kar_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق آنکال :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.haghe_ankal_amount,callback:function(e){t.$set(t.item,"haghe_ankal_amount",e)},expression:"item.haghe_ankal_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_ankal_nature,callback:function(e){t.$set(t.item,"haghe_ankal_nature",e)},expression:"item.haghe_ankal_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_ankal_use_insurance,callback:function(e){t.$set(t.item,"haghe_ankal_use_insurance",e)},expression:"item.haghe_ankal_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_ankal_use_tax,callback:function(e){t.$set(t.item,"haghe_ankal_use_tax",e)},expression:"item.haghe_ankal_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.haghe_ankal_base,callback:function(e){t.$set(t.item,"haghe_ankal_base",e)},expression:"item.haghe_ankal_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("فوق العاده بدی هوا :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.fogholade_badi_abohava_amount,callback:function(e){t.$set(t.item,"fogholade_badi_abohava_amount",e)},expression:"item.fogholade_badi_abohava_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.fogholade_badi_abohava_nature,callback:function(e){t.$set(t.item,"fogholade_badi_abohava_nature",e)},expression:"item.fogholade_badi_abohava_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_badi_abohava_use_insurance,callback:function(e){t.$set(t.item,"fogholade_badi_abohava_use_insurance",e)},expression:"item.fogholade_badi_abohava_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_badi_abohava_use_tax,callback:function(e){t.$set(t.item,"fogholade_badi_abohava_use_tax",e)},expression:"item.fogholade_badi_abohava_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.fogholade_badi_abohava_base,callback:function(e){t.$set(t.item,"fogholade_badi_abohava_base",e)},expression:"item.fogholade_badi_abohava_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("محرومیت از تسحیلات :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.mahroomiat_tashilat_zendegi_amount,callback:function(e){t.$set(t.item,"mahroomiat_tashilat_zendegi_amount",e)},expression:"item.mahroomiat_tashilat_zendegi_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.mahroomiat_tashilat_zendegi_nature,callback:function(e){t.$set(t.item,"mahroomiat_tashilat_zendegi_nature",e)},expression:"item.mahroomiat_tashilat_zendegi_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.mahroomiat_tashilat_zendegi_use_insurance,callback:function(e){t.$set(t.item,"mahroomiat_tashilat_zendegi_use_insurance",e)},expression:"item.mahroomiat_tashilat_zendegi_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.mahroomiat_tashilat_zendegi_use_tax,callback:function(e){t.$set(t.item,"mahroomiat_tashilat_zendegi_use_tax",e)},expression:"item.mahroomiat_tashilat_zendegi_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.mahroomiat_tashilat_zendegi_base,callback:function(e){t.$set(t.item,"mahroomiat_tashilat_zendegi_base",e)},expression:"item.mahroomiat_tashilat_zendegi_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("فوق العاده محل خدمت :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.fogholade_mahal_khedmat_amount,callback:function(e){t.$set(t.item,"fogholade_mahal_khedmat_amount",e)},expression:"item.fogholade_mahal_khedmat_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.fogholade_mahal_khedmat_nature,callback:function(e){t.$set(t.item,"fogholade_mahal_khedmat_nature",e)},expression:"item.fogholade_mahal_khedmat_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_mahal_khedmat_use_insurance,callback:function(e){t.$set(t.item,"fogholade_mahal_khedmat_use_insurance",e)},expression:"item.fogholade_mahal_khedmat_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_mahal_khedmat_use_tax,callback:function(e){t.$set(t.item,"fogholade_mahal_khedmat_use_tax",e)},expression:"item.fogholade_mahal_khedmat_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.fogholade_mahal_khedmat_base,callback:function(e){t.$set(t.item,"fogholade_mahal_khedmat_base",e)},expression:"item.fogholade_mahal_khedmat_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("فوق العاده محیط کار :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.fogholade_sharayet_mohit_kar_amount,callback:function(e){t.$set(t.item,"fogholade_sharayet_mohit_kar_amount",e)},expression:"item.fogholade_sharayet_mohit_kar_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.fogholade_sharayet_mohit_kar_nature,callback:function(e){t.$set(t.item,"fogholade_sharayet_mohit_kar_nature",e)},expression:"item.fogholade_sharayet_mohit_kar_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_sharayet_mohit_kar_use_insurance,callback:function(e){t.$set(t.item,"fogholade_sharayet_mohit_kar_use_insurance",e)},expression:"item.fogholade_sharayet_mohit_kar_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.fogholade_sharayet_mohit_kar_use_tax,callback:function(e){t.$set(t.item,"fogholade_sharayet_mohit_kar_use_tax",e)},expression:"item.fogholade_sharayet_mohit_kar_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.fogholade_sharayet_mohit_kar_base,callback:function(e){t.$set(t.item,"fogholade_sharayet_mohit_kar_base",e)},expression:"item.fogholade_sharayet_mohit_kar_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("ایاب و ذهاب :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.ayabo_zahab_amount,callback:function(e){t.$set(t.item,"ayabo_zahab_amount",e)},expression:"item.ayabo_zahab_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.ayabo_zahab_nature,callback:function(e){t.$set(t.item,"ayabo_zahab_nature",e)},expression:"item.ayabo_zahab_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.ayabo_zahab_use_insurance,callback:function(e){t.$set(t.item,"ayabo_zahab_use_insurance",e)},expression:"item.ayabo_zahab_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.ayabo_zahab_use_tax,callback:function(e){t.$set(t.item,"ayabo_zahab_use_tax",e)},expression:"item.ayabo_zahab_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.ayabo_zahab_base,callback:function(e){t.$set(t.item,"ayabo_zahab_base",e)},expression:"item.ayabo_zahab_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("یارانه غذا :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.yarane_ghaza_amount,callback:function(e){t.$set(t.item,"yarane_ghaza_amount",e)},expression:"item.yarane_ghaza_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.yarane_ghaza_nature,callback:function(e){t.$set(t.item,"yarane_ghaza_nature",e)},expression:"item.yarane_ghaza_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.yarane_ghaza_use_insurance,callback:function(e){t.$set(t.item,"yarane_ghaza_use_insurance",e)},expression:"item.yarane_ghaza_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.yarane_ghaza_use_tax,callback:function(e){t.$set(t.item,"yarane_ghaza_use_tax",e)},expression:"item.yarane_ghaza_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.yarane_ghaza_base,callback:function(e){t.$set(t.item,"yarane_ghaza_base",e)},expression:"item.yarane_ghaza_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق شیر :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.haghe_shir_amount,callback:function(e){t.$set(t.item,"haghe_shir_amount",e)},expression:"item.haghe_shir_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_shir_nature,callback:function(e){t.$set(t.item,"haghe_shir_nature",e)},expression:"item.haghe_shir_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_shir_use_insurance,callback:function(e){t.$set(t.item,"haghe_shir_use_insurance",e)},expression:"item.haghe_shir_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_shir_use_tax,callback:function(e){t.$set(t.item,"haghe_shir_use_tax",e)},expression:"item.haghe_shir_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.haghe_shir_base,callback:function(e){t.$set(t.item,"haghe_shir_base",e)},expression:"item.haghe_shir_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق تاهل :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.haghe_taahol_amount,callback:function(e){t.$set(t.item,"haghe_taahol_amount",e)},expression:"item.haghe_taahol_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.haghe_taahol_nature,callback:function(e){t.$set(t.item,"haghe_taahol_nature",e)},expression:"item.haghe_taahol_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_taahol_use_insurance,callback:function(e){t.$set(t.item,"haghe_taahol_use_insurance",e)},expression:"item.haghe_taahol_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.haghe_taahol_base,callback:function(e){t.$set(t.item,"haghe_taahol_base",e)},expression:"item.haghe_taahol_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("کمک هزینه مهدکودک :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.komakhazine_mahdekoodak_amount,callback:function(e){t.$set(t.item,"komakhazine_mahdekoodak_amount",e)},expression:"item.komakhazine_mahdekoodak_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.komakhazine_mahdekoodak_nature,callback:function(e){t.$set(t.item,"komakhazine_mahdekoodak_nature",e)},expression:"item.komakhazine_mahdekoodak_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.komakhazine_mahdekoodak_use_insurance,callback:function(e){t.$set(t.item,"komakhazine_mahdekoodak_use_insurance",e)},expression:"item.komakhazine_mahdekoodak_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.komakhazine_mahdekoodak_use_tax,callback:function(e){t.$set(t.item,"komakhazine_mahdekoodak_use_tax",e)},expression:"item.komakhazine_mahdekoodak_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.komakhazine_mahdekoodak_base,callback:function(e){t.$set(t.item,"komakhazine_mahdekoodak_base",e)},expression:"item.komakhazine_mahdekoodak_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("کمک هزینه ورزش :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.komakhazine_varzesh_amount,callback:function(e){t.$set(t.item,"komakhazine_varzesh_amount",e)},expression:"item.komakhazine_varzesh_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.komakhazine_varzesh_nature,callback:function(e){t.$set(t.item,"komakhazine_varzesh_nature",e)},expression:"item.komakhazine_varzesh_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.komakhazine_varzesh_use_insurance,callback:function(e){t.$set(t.item,"komakhazine_varzesh_use_insurance",e)},expression:"item.komakhazine_varzesh_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.komakhazine_varzesh_use_tax,callback:function(e){t.$set(t.item,"komakhazine_varzesh_use_tax",e)},expression:"item.komakhazine_varzesh_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.komakhazine_varzesh_base,callback:function(e){t.$set(t.item,"komakhazine_varzesh_base",e)},expression:"item.komakhazine_varzesh_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("کمک هزینه موبایل :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.komakhazine_mobile_amount,callback:function(e){t.$set(t.item,"komakhazine_mobile_amount",e)},expression:"item.komakhazine_mobile_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.komakhazine_mobile_nature,callback:function(e){t.$set(t.item,"komakhazine_mobile_nature",e)},expression:"item.komakhazine_mobile_nature"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.komakhazine_mobile_use_insurance,callback:function(e){t.$set(t.item,"komakhazine_mobile_use_insurance",e)},expression:"item.komakhazine_mobile_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.komakhazine_mobile_use_tax,callback:function(e){t.$set(t.item,"komakhazine_mobile_use_tax",e)},expression:"item.komakhazine_mobile_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.komakhazine_mobile_base,callback:function(e){t.$set(t.item,"komakhazine_mobile_base",e)},expression:"item.komakhazine_mobile_base"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("مزایای مستمر غیرنقدی :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"* مبلغ ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.mazaya_mostamar_gheyre_naghdi_amount,callback:function(e){t.$set(t.item,"mazaya_mostamar_gheyre_naghdi_amount",e)},expression:"item.mazaya_mostamar_gheyre_naghdi_amount"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!0},model:{value:t.item.mazaya_mostamar_gheyre_naghdi_nature="p",callback:function(e){t.$set(t.item,"mazaya_mostamar_gheyre_naghdi_nature = 'p'",e)},expression:"item.mazaya_mostamar_gheyre_naghdi_nature = 'p'"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.mazaya_mostamar_gheyre_naghdi_use_insurance,callback:function(e){t.$set(t.item,"mazaya_mostamar_gheyre_naghdi_use_insurance",e)},expression:"item.mazaya_mostamar_gheyre_naghdi_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.mazaya_mostamar_gheyre_naghdi_use_tax,callback:function(e){t.$set(t.item,"mazaya_mostamar_gheyre_naghdi_use_tax",e)},expression:"item.mazaya_mostamar_gheyre_naghdi_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"مزد پایه",color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.mazaya_mostamar_gheyre_naghdi_base,callback:function(e){t.$set(t.item,"mazaya_mostamar_gheyre_naghdi_base",e)},expression:"item.mazaya_mostamar_gheyre_naghdi_base"}})],1)],1),a("v-toolbar",{staticClass:"mt-10",attrs:{color:"indigo"}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v(" عناوین غیر حکمی ")])],1),a("v-row",{staticClass:"mt-10"},[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق اولاد :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,disabled:!0,"item-text":"name","item-value":"value"},model:{value:t.item.haghe_owlad_nature="u",callback:function(e){t.$set(t.item,"haghe_owlad_nature = 'u'",e)},expression:"item.haghe_owlad_nature = 'u'"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_owlad_use_insurance,callback:function(e){t.$set(t.item,"haghe_owlad_use_insurance",e)},expression:"item.haghe_owlad_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_owlad_use_tax,callback:function(e){t.$set(t.item,"haghe_owlad_use_tax",e)},expression:"item.haghe_owlad_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row",{},[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("اضافه کاری :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,disabled:!0,"item-text":"name","item-value":"value"},model:{value:t.item.ezafe_kari_nature="u",callback:function(e){t.$set(t.item,"ezafe_kari_nature = 'u'",e)},expression:"item.ezafe_kari_nature = 'u'"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.ezafe_kari_use_insurance,callback:function(e){t.$set(t.item,"ezafe_kari_use_insurance",e)},expression:"item.ezafe_kari_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.ezafe_kari_use_tax,callback:function(e){t.$set(t.item,"ezafe_kari_use_tax",e)},expression:"item.ezafe_kari_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("جمعه کاری :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!0},model:{value:t.item.jome_kari_nature="u",callback:function(e){t.$set(t.item,"jome_kari_nature = 'u'",e)},expression:"item.jome_kari_nature = 'u'"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.jome_kari_use_insurance,callback:function(e){t.$set(t.item,"jome_kari_use_insurance",e)},expression:"item.jome_kari_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.jome_kari_use_tax,callback:function(e){t.$set(t.item,"jome_kari_use_tax",e)},expression:"item.jome_kari_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("شب کاری :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!0},model:{value:t.item.shab_kari_nature="u",callback:function(e){t.$set(t.item,"shab_kari_nature = 'u'",e)},expression:"item.shab_kari_nature = 'u'"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.shab_kari_use_insurance,callback:function(e){t.$set(t.item,"shab_kari_use_insurance",e)},expression:"item.shab_kari_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.shab_kari_use_tax,callback:function(e){t.$set(t.item,"shab_kari_use_tax",e)},expression:"item.shab_kari_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("تعطیل کاری :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,disabled:!0,"item-text":"name","item-value":"value"},model:{value:t.item.tatil_kari_nature="u",callback:function(e){t.$set(t.item,"tatil_kari_nature = 'u'",e)},expression:"item.tatil_kari_nature = 'u'"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.tatil_kari_use_insurance,callback:function(e){t.$set(t.item,"tatil_kari_use_insurance",e)},expression:"item.tatil_kari_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.tatil_kari_use_tax,callback:function(e){t.$set(t.item,"tatil_kari_use_tax",e)},expression:"item.tatil_kari_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("نوبت کاری :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,"item-text":"name","item-value":"value",disabled:!0},model:{value:t.item.nobat_kari_nature="u",callback:function(e){t.$set(t.item,"nobat_kari_nature = 'u'",e)},expression:"item.nobat_kari_nature = 'u'"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[t._v("s "),a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.nobat_kari_use_insurance,callback:function(e){t.$set(t.item,"nobat_kari_use_insurance",e)},expression:"item.nobat_kari_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.nobat_kari_use_tax,callback:function(e){t.$set(t.item,"nobat_kari_use_tax",e)},expression:"item.nobat_kari_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق ماموریت :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* ماهیت عناوین شغلی",items:t.NATURE_TYPES,disabled:!0,"item-text":"name","item-value":"value"},model:{value:t.item.haghe_maamooriat_nature="u",callback:function(e){t.$set(t.item,"haghe_maamooriat_nature = 'u'",e)},expression:"item.haghe_maamooriat_nature = 'u'"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_maamooriat_use_insurance,callback:function(e){t.$set(t.item,"haghe_maamooriat_use_insurance",e)},expression:"item.haghe_maamooriat_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_maamooriat_use_tax,callback:function(e){t.$set(t.item,"haghe_maamooriat_use_tax",e)},expression:"item.haghe_maamooriat_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("حق سنوات :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{disabled:!0},model:{value:t.sanavat_msg,callback:function(e){t.sanavat_msg=e},expression:"sanavat_msg"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_sanavat_use_insurance,callback:function(e){t.$set(t.item,"haghe_sanavat_use_insurance",e)},expression:"item.haghe_sanavat_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.haghe_msanavat_use_tax,callback:function(e){t.$set(t.item,"haghe_msanavat_use_tax",e)},expression:"item.haghe_msanavat_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("عیدی و پاداش :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{disabled:!0},model:{value:t.sanavat_msg,callback:function(e){t.sanavat_msg=e},expression:"sanavat_msg"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:"معاف از بیمه",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.eydi_padash_use_insurance,callback:function(e){t.$set(t.item,"eydi_padash_use_insurance",e)},expression:"item.eydi_padash_use_insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{label:" معاف از مالیات",color:"indigo","false-value":!0,"true-value":!1,"hide-details":""},model:{value:t.item.eydi_padash_use_tax,callback:function(e){t.$set(t.item,"eydi_padash_use_tax",e)},expression:"item.eydi_padash_use_tax"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-toolbar",{staticClass:"mt-10",attrs:{color:"indigo"}},[a("v-toolbar-title",{staticClass:"white--text"},[t._v(" سایر ")])],1),a("v-row",{staticClass:"mt-10"},[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6 text-center"},[t._v("نرخ حق بیمه سهم کارفرما")])],1),a("v-col",{staticClass:"pt-8",attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"نرخ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.employer_insurance_nerkh,callback:function(e){t.$set(t.item,"employer_insurance_nerkh",e)},expression:"item.employer_insurance_nerkh"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6 text-center"},[t._v("نرخ حق بیمه سهم کارگر")])],1),a("v-col",{staticClass:"pt-8",attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"نرخ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.worker_insurance_nerkh,callback:function(e){t.$set(t.item,"worker_insurance_nerkh",e)},expression:"item.worker_insurance_nerkh"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6 text-center"},[t._v("نرخ حق بیمه سهم بیکاری")])],1),a("v-col",{staticClass:"pt-8",attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:"نرخ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.unemployed_insurance_nerkh,callback:function(e){t.$set(t.item,"unemployed_insurance_nerkh",e)},expression:"item.unemployed_insurance_nerkh"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("مسکن :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* مسکن",items:t.MASKAN_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.maskan,callback:function(e){t.$set(t.item,"maskan",e)},expression:"item.maskan"}})],1)],1),a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("وسیله نقلیه :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{label:"* وسیله نقلیه",items:t.OTOMOBIL_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.otomobil,callback:function(e){t.$set(t.item,"otomobil",e)},expression:"item.otomobil"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6 text-center"},[t._v("مشمول ماده یک تبصره 86 ق.م.م :")])],1),a("v-col",{staticClass:"pt-8",attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{color:"success","false-value":!1,"true-value":!0,"hide-details":""},model:{value:t.item.include_made_86,callback:function(e){t.$set(t.item,"include_made_86",e)},expression:"item.include_made_86"}})],1)],1),t.item.id?a("v-row",{staticClass:"mt-10"},[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("مزد مبنا :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" مزد مبنا روزانه ","background-color":"white",disabled:"true"},model:{value:t.item.daily_pay_base,callback:function(e){t.$set(t.item,"daily_pay_base",e)},expression:"item.daily_pay_base"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" مزد مبنا ماهانه ","background-color":"white",disabled:"true"},model:{value:t.item.monthly_pay_base,callback:function(e){t.$set(t.item,"monthly_pay_base",e)},expression:"item.monthly_pay_base"}})],1)],1):t._e(),t.item.id?a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("مزد مبنا ساعتی :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" مزد مبنا ساعتی مدل روزانه ","background-color":"white",disabled:"true"},model:{value:t.item.day_hourly_pay_base,callback:function(e){t.$set(t.item,"day_hourly_pay_base",e)},expression:"item.day_hourly_pay_base"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" مزد مبنا ساعتی مدل ماهانه ","background-color":"white",disabled:"true"},model:{value:t.item.month_hourly_pay_base,callback:function(e){t.$set(t.item,"month_hourly_pay_base",e)},expression:"item.month_hourly_pay_base"}})],1)],1):t._e(),t.item.id?a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[a("v-card-text",{staticClass:"text-h6"},[t._v("دستمزد روزانه بیمه :")])],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("money",{attrs:{label:" دستمزد روزانه بیمه ","background-color":"white",disabled:"true"},model:{value:t.item.insurance_pay_day,callback:function(e){t.$set(t.item,"insurance_pay_day",e)},expression:"item.insurance_pay_day"}})],1)],1):t._e()],1)]],2)],1)},s=[],n=(a("b0c0"),a("830d")),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_={name:"HRLetterForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{NATURE_TYPES:[{name:" دستمزد رورانه",value:"b"},{name:"مستمر",value:"p"},{name:"غیر مستمر",value:"u"}],HRLETTER_TYPES:[{name:" شخصی",value:"p"},{name:"قالب",value:"t"}],MASKAN_TYPE:[{name:" استفاده از مسکن ",value:!0},{name:"عدم استفاده از مسکن",value:!1}],OTOMOBIL_TYPE:[{name:" استفاده از اتوموبیل ",value:!0},{name:"عدم استفاده از اتوموبیل",value:!1}],printUrl:"payroll/hrletter/all",isWorkshopConfirmed:!1,baseUrl:"payroll/hrletter",permissionBasename:"hr_letter",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",templates:[],sanavat_msg:"سالانه یا ماهانه",template:null,contract:this.$route.query.contract,contracts:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){}},mounted:function(){var t=this;this.contract||this.request({url:this.endpoint("payroll/contract/"),method:"get",success:function(e){for(var a in console.log(e),e)t.contracts.push({name:e[a].code+" "+e[a].personnel_name+" در "+e[a].workshop_name,id:e[a].id});console.log(t.contracts)}}),this.request({url:this.endpoint("payroll/hrletter/templates/"),method:"get",success:function(e){for(var a in console.log(e),e)t.templates.push({name:e[a].name,info:e[a]});console.log(t.contracts)}})},methods:{setInfos:function(){},to:function(t){return{name:"HRLetterDetail",params:{id:t.id}}},show:function(t){1==t&&console.log(t)},unConfirm:function(){this.$router.go(),this.notify(" ثبت حکم کارگزینی رد شد","warning")}}},b=_,x=a("2877"),g=a("6544"),y=a.n(g),k=a("c6a6"),w=a("b0af"),C=a("99d9"),E=a("ac7c"),$=a("62ad"),T=a("0fd9"),S=a("b73d"),V=a("8654"),F=a("71d9"),P=a("2a7f"),D=Object(x["a"])(b,i,s,!1,null,"c51f6dc4",null);e["default"]=D.exports;y()(D,{VAutocomplete:k["a"],VCard:w["a"],VCardText:C["c"],VCheckbox:E["a"],VCol:$["a"],VRow:T["a"],VSwitch:S["a"],VTextField:V["a"],VToolbar:F["a"],VToolbarTitle:P["a"]})},e047:function(t,e,a){"use strict";a("44b7")},e493:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex"},[a("v-autocomplete",{attrs:{items:t.items,label:t.label,"item-text":"name","item-value":"id",disabled:t.disabled,multiple:t.multiple,placeholder:t.placeholder,"return-object":!0},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1)},s=[],n=a("89ce"),o={mixins:[n["a"]],props:{value:{},label:{default:null},placeholder:{default:null},disabled:{default:!1},multiple:{default:!1}},data:function(){return{item:null}},computed:{items:function(){return this.$store.state.cities}},created:function(){this.getCities()},mounted:function(){this.setItem()},methods:{setItem:function(){this.value!=this.item&&(this.item=this.value)}},watch:{value:function(){this.setItem()},item:function(){this.$emit("input",this.item)}}},r=o,l=a("2877"),c=a("6544"),u=a.n(c),d=a("c6a6"),m=Object(l["a"])(r,i,s,!1,null,"572e8e04",null);e["a"]=m.exports;u()(m,{VAutocomplete:d["a"]})},e5c3:function(t,e,a){"use strict";var i=a("5530"),s=a("2f62");e["a"]={data:function(){return{}},methods:{getChequebooks:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||!this.chequebooks.length)return this.request({url:this.endpoint("reports/lists/chequebooks"),method:"get",success:function(e){t.$store.commit("setChequebooks",e)}})}},computed:Object(i["a"])({},Object(s["b"])({chequebooks:function(t){return t.chequebooks}}))}},e64f:function(t,e,a){"use strict";a("b791")},e83e:function(t,e,a){},e933:function(t,e,a){"use strict";a("e83e")},eef6:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v("لیست وام یا مساعده ها")]),a("v-card-text",[a("m-datatable",{ref:"datatable",attrs:{headers:t.headers,apiUrl:t.url,filters:t.filters},on:{"update:filters":function(e){t.filters=e},"dblclick:row":function(e,a){return t.$router.push(t.to(a.item))}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var i=e.item;return[a("detail-link",{attrs:{to:t.to(i)}})]}}])})],1)],1)},s=[],n={name:"LoanList",props:{},data:function(){return{url:"payroll/loan/all",filters:{}}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel_display",filterable:!1},{text:"تاریخ",value:"pay_date"},{text:"نوع",value:"loan_type_display"},{text:"مبلغ",value:"amount"},{text:"تعداد اقساط",value:"episode"},{text:"مبلغ هر قسط",value:"monthly_pay",filterable:!1},{text:"تاریخ سررسید",value:"last_dept_date",filterable:!1},{text:"اقساط پرداخت شده",value:"episode_payed",filterable:!1}]}},methods:{to:function(t){return{name:"LoanDetail",params:{id:t.id}}}}},o=n,r=a("2877"),l=a("6544"),c=a.n(l),u=a("b0af"),d=a("99d9"),m=Object(r["a"])(o,i,s,!1,null,"748a53e8",null);e["a"]=m.exports;c()(m,{VCard:u["a"],VCardText:d["c"],VCardTitle:d["d"]})},eff1:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-form",{ref:"workshopForm",attrs:{title:"ثبت پرسنل",showList:!1,listRoute:{name:"PersonnelList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing,"show-submit-and-clear-btn":!1},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* نام","background-color":"white",disabled:!t.isEditing},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* نام خانوادگی","background-color":"white",disabled:!t.isEditing},model:{value:t.item.last_name,callback:function(e){t.$set(t.item,"last_name",e)},expression:"item.last_name"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* نام پدر","background-color":"white",disabled:!t.isEditing},model:{value:t.item.father_name,callback:function(e){t.$set(t.item,"father_name",e)},expression:"item.father_name"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"کد پرسنلی","background-color":"white",disabled:!t.isEditing},model:{value:t.item.personnel_code,callback:function(e){t.$set(t.item,"personnel_code",e)},expression:"item.personnel_code"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{label:"* ملیت",items:t.NATIONALITY_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.nationality,callback:function(e){t.$set(t.item,"nationality",e)},expression:"item.nationality"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* کشوز","background-color":"white",disabled:!t.isEditing},model:{value:t.item.country,callback:function(e){t.$set(t.item,"country",e)},expression:"item.country"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{label:"* جنسیت",items:t.GENDER_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.gender,callback:function(e){t.$set(t.item,"gender",e)},expression:"item.gender"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{label:"* خدمت سربازی",items:t.MILITARY_SERVICE_STATUS,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.military_service,callback:function(e){t.$set(t.item,"military_service",e)},expression:"item.military_service"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* شماره شناسنامه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.identity_code,callback:function(e){t.$set(t.item,"identity_code",e)},expression:"item.identity_code"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* کد ملی","background-color":"white",disabled:!t.isEditing},model:{value:t.item.national_code,callback:function(e){t.$set(t.item,"national_code",e)},expression:"item.national_code"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{label:"* وضعیت تاهل",items:t.MARITAL_STATUS_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.marital_status,callback:function(e){t.$set(t.item,"marital_status",e)},expression:"item.marital_status"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:" تعداد فرزندان",readonly:"","background-color":"white",disabled:!t.isEditing},model:{value:t.item.number_of_childes,callback:function(e){t.$set(t.item,"number_of_childes",e)},expression:"item.number_of_childes"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"* تاریخ تولد",default:!0,disabled:!t.isEditing},model:{value:t.item.date_of_birth,callback:function(e){t.$set(t.item,"date_of_birth",e)},expression:"item.date_of_birth"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("date",{attrs:{label:"* تاریخ صدور شناسنامه",default:!0,disabled:!t.isEditing},model:{value:t.item.date_of_exportation,callback:function(e){t.$set(t.item,"date_of_exportation",e)},expression:"item.date_of_exportation"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:" محل تولد ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.location_of_birth,callback:function(e){t.$set(t.item,"location_of_birth",e)},expression:"item.location_of_birth"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:" محل صدور شناسنامه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.location_of_exportation,callback:function(e){t.$set(t.item,"location_of_exportation",e)},expression:"item.location_of_exportation"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"بخش محل صدور","background-color":"white",disabled:!t.isEditing},model:{value:t.item.sector_of_exportation,callback:function(e){t.$set(t.item,"sector_of_exportation",e)},expression:"item.sector_of_exportation"}})],1),a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-text-field",{attrs:{label:"* کد تلفن","background-color":"white",disabled:!t.isEditing},model:{value:t.item.city_phone_code,callback:function(e){t.$set(t.item,"city_phone_code",e)},expression:"item.city_phone_code"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"* تلفن ثابت ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.phone_number,callback:function(e){t.$set(t.item,"phone_number",e)},expression:"item.phone_number"}})],1),a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-text-field",{attrs:{label:"* آدرس ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.address,callback:function(e){t.$set(t.item,"address",e)},expression:"item.address"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-text-field",{attrs:{label:"* کد پستی ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.postal_code,callback:function(e){t.$set(t.item,"postal_code",e)},expression:"item.postal_code"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* شماره همراه 1","background-color":"white",disabled:!t.isEditing},model:{value:t.item.mobile_number_1,callback:function(e){t.$set(t.item,"mobile_number_1",e)},expression:"item.mobile_number_1"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:" شماره همراه 2 ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.mobile_number_2,callback:function(e){t.$set(t.item,"mobile_number_2",e)},expression:"item.mobile_number_2"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"ّبیمه تامین اجتماعی دارد",disabled:!t.isEditing},model:{value:t.item.insurance,callback:function(e){t.$set(t.item,"insurance",e)},expression:"item.insurance"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:" شماره بیمه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.insurance_code,callback:function(e){t.$set(t.item,"insurance_code",e)},expression:"item.insurance_code"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{label:"* مدرک تحصیلی",items:t.DEGREE_TYPE,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.degree_education,callback:function(e){t.$set(t.item,"degree_education",e)},expression:"item.degree_education"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* رشته تحصیلی","background-color":"white",disabled:!t.isEditing},model:{value:t.item.field_of_study,callback:function(e){t.$set(t.item,"field_of_study",e)},expression:"item.field_of_study"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{label:"نوع دانشگاه",items:t.UNIVERSITY_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.university_type,callback:function(e){t.$set(t.item,"university_type",e)},expression:"item.university_type"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"نام دانشگاه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.university_name,callback:function(e){t.$set(t.item,"university_name",e)},expression:"item.university_name"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* نام بانک ","background-color":"white",disabled:!t.isEditing},model:{value:t.item.account_bank_name,callback:function(e){t.$set(t.item,"account_bank_name",e)},expression:"item.account_bank_name"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* شماره حساب حقوق","background-color":"white",disabled:!t.isEditing},model:{value:t.item.account_bank_number,callback:function(e){t.$set(t.item,"account_bank_number",e)},expression:"item.account_bank_number"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* شماره کارت حقوق","background-color":"white",disabled:!t.isEditing},model:{value:t.item.bank_cart_number,callback:function(e){t.$set(t.item,"bank_cart_number",e)},expression:"item.bank_cart_number"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"* شماره شبا","background-color":"white",disabled:!t.isEditing},model:{value:t.item.sheba_number,callback:function(e){t.$set(t.item,"sheba_number",e)},expression:"item.sheba_number"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{label:"* وضعیت پرسنل ",items:t.PERSONNEL_STATUS,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.is_personnel_active,callback:function(e){t.$set(t.item,"is_personnel_active",e)},expression:"item.is_personnel_active"}})],1)],1)],t.item.id&&!t.item.verified?a("v-btn",{staticClass:"light-blue white--text mt-6  mr-2 float-left",on:{click:function(e){return t.verifyPersonnel(t.item.id)}}},[t._v("ثبت نهایی")]):t._e(),t.item.id&&t.item.verified?a("v-btn",{staticClass:"green white--text mt-6  mr-2 float-left",attrs:{disabled:!0}},[t._v(" نهایی شده")]):t._e()],2)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_={name:"PersonnelForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{NATIONALITY_TYPE:[{name:" ایرانی",value:1},{name:"غیر ایرانی",value:2}],PERSONNEL_STATUS:[{name:" فعال",value:!0},{name:"غیر فعال",value:!1}],GENDER_TYPE:[{name:" آقا",value:"m"},{name:"خانم",value:"f"}],MILITARY_SERVICE_STATUS:[{name:" انجام داده",value:"d"},{name:"انجام نداده",value:"n"},{name:"معاف",value:"e"},{name:"هبچ کدام",value:"x"}],MARITAL_STATUS_TYPES:[{name:" مجرد",value:"s"},{name:"متاهل",value:"m"},{name:"سرپرست فرزند",value:"c"}],DEGREE_TYPE:[{name:" کم سواد",value:1},{name:" زیر دیپلم",value:2},{name:" دیپلم",value:3},{name:"کاردانی",value:4},{name:"لیسانس",value:5},{name:"فوق لیسانس",value:6},{name:"دکترا",value:7},{name:"فوق دکترا",value:8}],UNIVERSITY_TYPES:[{name:" دولتی",value:"st"},{name:"آزاد",value:"op"},{name:"غیر انتفاعی",value:"np"}],printUrl:"payroll/personnel/all",isWorkshopConfirmed:!1,worshopId:0,baseUrl:"payroll/personnel",permissionBasename:"personnel",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",factors:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:"نام",value:"name"},{text:"نام خانوادگی",value:"last_name"},{text:"نام پدر",value:"father_name"},{text:"کد پرسنلی",value:"personnel_code"},{text:"ملیت",value:"nationality"},{text:"جنسیت",value:"gender"},{text:"خدمت سربازی",value:"military_service"},{text:"شماره شناسنامه",value:"identity_code"},{text:"کد ملی",value:"national_code"},{text:"وضعیت تاهل",value:"marital_status"},{text:"تعداد فرزندان",value:"number_of_childes"},{text:"تاریخ تولد",value:"date_of_birth"},{text:"تاریخ صدور شناسنامه",value:"date_of_exportation"},{text:"محل تولد",value:"location_of_birth"},{text:"محل صدور شناسنامه",value:"location_of_exportation"},{text:"بخش محل صدور",value:"sector_of_exportation"},{text:"کد تلفن",value:"city_phone_code"},{text:"تلفن ثابت",value:"phone_number"},{text:"آدرس",value:"address"},{text:"کد پستی",value:"postal_code"},{text:"شماره همراه 1",value:"mobile_number_1"},{text:"شماره همراه 2",value:"mobile_number_2"},{text:"بیمه تامین اجتماعی",value:"insurance"},{text:"شماره بیمه",value:"insurance_code"},{text:"مدرک تحصیلی",value:"degree_education"},{text:"رشته تحصیلی",value:"field_of_study"},{text:"نوع دانشگاه",value:"university_type"},{text:"نام دانشگاه",value:"university_name"},{text:"نام بانک",value:"account_bank_name"},{text:"شماره حساب حقوق",value:"account_bank_number"},{text:"شماره کارت حقوق",value:"bank_cart_number"},{text:"شماره شبا",value:"sheba_number"}]}},methods:{verifyPersonnel:function(t){var e=this;this.request({url:this.endpoint("payroll/personnel/verify/"+t+"/"),method:"get",success:function(t){console.log(t),e.notify(" ثبت پرسنل تایید  شد","success"),window.location.reload()},error:function(t){e.notify(t.response.data[0].messages[0],"warning")}})},to:function(t){return{name:"WorkshopDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت پرسنل رد شد","warning")}}},b=_,x=a("2877"),g=a("6544"),y=a.n(g),k=a("c6a6"),w=a("8336"),C=a("62ad"),E=a("0fd9"),$=a("b73d"),T=a("8654"),S=Object(x["a"])(b,i,s,!1,null,"bfb8cd66",null);e["default"]=S.exports;y()(S,{VAutocomplete:k["a"],VBtn:w["a"],VCol:C["a"],VRow:E["a"],VSwitch:$["a"],VTextField:T["a"]})},f14a:function(t,e,a){},fa3b:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[t.showExportBtns?a("v-card-title",{directives:[{name:"show",rawName:"v-show",value:!t.isPrinting,expression:"!isPrinting"}]},[a("v-row",{attrs:{"no-gutters":""}},[t.showExportBtns?a("v-col",{staticClass:"mt-1 text-left d-flex flex-column flex-md-row justify-end",attrs:{cols:"12"}},[t.serverProcessing?a("v-btn",{attrs:{icon:""},on:{click:t.getDataFromApi}},[a("v-icon",[t._v("fa-sync-alt")])],1):t._e(),a("v-spacer"),a("v-btn",{staticClass:"export-btn block",on:{click:function(e){return t.exportTo("html")}}},[t._v("چاپ")]),a("v-btn",{staticClass:"export-btn mt-2 mt-sm-0 mr-md-1",on:{click:function(e){return t.exportTo("pdf")}}},[t._v("خروجی PDF")]),a("v-btn",{staticClass:"export-btn mt-2 mt-sm-0 mr-md-1",on:{click:function(e){return t.exportTo("xlsx")}}},[t._v("خروجی اکسل")])],1):t._e()],1)],1):t._e(),t.showAppliedFilters?a("div",[a("v-card-subtitle",[t._v("فیلتر های اعمال شده")]),a("div",{staticClass:"mx-4 mb-4"},t._l(t.appliedFilters,(function(e,i){return a("span",{key:i,staticClass:"ml-6"},[t._v(" "+t._s(e["text"])+" "),e["typeText"]?a("span",[t._v("("+t._s(e["typeText"])+")")]):t._e(),t._v(" : "+t._s(e["value"])+" ")])})),0)],1):t._e(),a("v-data-table",t._g(t._b({ref:"datatable",attrs:{id:"datatable-"+t._uid,"show-select":!t.isPrinting&&t.showSelect,headers:t.headersWithFilter,items:t.tableItems,options:t.options,"server-items-length":t.totalItems,loading:t.loading,search:t.search,"disable-pagination":t.isPrinting,"disable-sort":t.isPrinting,"hide-default-footer":t.isPrinting,"footer-props":{showFirstLastPage:!0},"mobile-breakpoint":0},on:{"update:options":function(e){t.options=e},input:function(e){return t.selectedItems=e}},scopedSlots:t._u([{key:"item.rowNumber",fn:function(e){var a=e.item;return[t._v(t._s(t.getRowNumber(a)))]}},{key:"item.detail",fn:function(e){var i=e.item;return[a("v-btn",{attrs:{color:"light-blue white--text",icon:""},on:{click:function(e){return t.$emit("detail",i)}}},[a("v-icon",[t._v("fa-external-link-alt")])],1)]}},t._l(t.headersWithFilter,(function(e){return{key:t.getHeaderSlot(e.value),fn:function(e){var i=e.header;return[0==i.filterable||t.isPrinting?t._e():[a("v-menu",{key:i.value,attrs:{top:"",left:"","offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"","x-small":"",color:t.filters[i.value]?"indigo":""},on:{click:function(t){t.stopPropagation()}}},"v-btn",n,!1),s),[a("v-icon",{attrs:{"x-small":""}},[t._v("fa fa-filter")])],1)]}}],null,!0),model:{value:t.filterMenus[i.value],callback:function(e){t.$set(t.filterMenus,i.value,e)},expression:"filterMenus[header.value]"}},[a("v-card",{attrs:{dense:"","max-width":"360"}},[a("v-card-title",[t._v(" فیلتر "+t._s(i.text)+" ")]),a("v-card-text",{staticClass:"pt-0"},[t.isBoolean(i)?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{label:i.text,items:t.getBooleanFilterItems(i),clearable:"",value:t.filters[""+i.value]},on:{input:function(e){return t.emitFilter(""+i.value,e)}}})],1)],1):i.items?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{label:i.text,items:i.items,clearable:"",value:t.filters[""+i.value]},on:{input:function(e){return t.emitFilter(""+i.value,e)}}})],1)],1):a("v-row",[a("v-col",{attrs:{cols:"12"}},[a(t.getFilterField(i),{tag:"component",attrs:{label:"جستجو"+(t.serverProcessing?"ی دقیق":""),value:t.filters[""+i.value],clearable:""},on:{input:function(e){return t.emitFilter(""+i.value,e)}}})],1),t.serverProcessing?[a("v-col",{attrs:{cols:"12"}},[a(t.getFilterField(i),{tag:"component",attrs:{label:"جستجو",value:t.filters[i.value+"__icontains"],clearable:""},on:{input:function(e){return t.emitFilter(i.value+"__icontains",e)}}})],1),t.hasRangeFilter(i)?[a("v-col",{attrs:{cols:"12",md:"6"}},[a(t.getFilterField(i),{tag:"component",attrs:{label:"از",value:t.filters[i.value+"__gte"],clearable:""},on:{input:function(e){return t.emitFilter(i.value+"__gte",e)}}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a(t.getFilterField(i),{tag:"component",attrs:{label:"تا",value:t.filters[i.value+"__lte"],clearable:""},on:{input:function(e){return t.emitFilter(i.value+"__lte",e)}}})],1)]:t._e()]:t._e()],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:function(e){return t.clearFilters(i)}}},[t._v("حذف فیلتر ها")]),a("v-btn",{staticClass:"left",attrs:{color:"blue white--text"},on:{click:function(e){t.filterMenus[i.value]=!1}}},[t._v("بستن")])],1)],1)],1)],t._v(" "+t._s(i.text)+" ")]}}})),t.showClearFiltersBtn?{key:"header.rowNumber",fn:function(){return[t.isPrinting?a("span",[t._v("#")]):a("v-btn",{attrs:{icon:"",title:"خالی کردن فیلتر ها"},on:{click:t.clearAllFilters}},[a("v-icon",{},[t._v("$clearFiltersIcon")])],1)]},proxy:!0}:null,t._l(t.headers,(function(e){return{key:t.getItemSlot(e.value),fn:function(i){var s=i.item;return[t.isNumber(e)?[a("span",{class:t.getNumericClasses(s,e.value),attrs:{dir:"ltr"}},[t._v(t._s(t._f("toMoney")(t.getItemValue(s,e.value))))])]:t.isSelect(e)?[t._v(t._s(t.getSelectItemValue(e,s)))]:t.isBoolean(e)?[t.getItemValue(s,e.value)?a("v-icon",[t._v("fa-check")]):a("v-icon",[t._v("fa-times")])]:t.isDate(e)?[a("span",{staticClass:"nowrap",attrs:{dir:"ltr"}},[t._v(t._s(t.getItemValue(s,e.value)))])]:[a("truncate",{attrs:{value:t.getItemValue(s,e.value)}})]]}}})),t.apiResponse?{key:"body.append",fn:function(e){var i=e.headers;return[t._l([t.apiResponse.page_sum,t.apiResponse.sum],(function(e,s){return[e?a("tr",t._l(i,(function(i){return a("td",{staticClass:"text-center"},["rowNumber"==i.value?[t._v(t._s(0==s?"جمع این صفحه":"جمع"))]:[t._v(t._s(t._f("toMoney")(e[i.value])))]],2)})),0):t._e()]}))]}}:null,t._l(t.$scopedSlots,(function(e,a){return{key:a,fn:function(e){return[t._t(a,null,null,e)]}}}))],null,!0)},"v-data-table",t.$attrs,!1),t.$listeners))],1)},s=[],n=a("5530"),o=a("b85c"),r=a("2909"),l=(a("99af"),a("caad"),a("2532"),a("4de4"),a("d3b7"),a("d81d"),a("159b"),a("b64b"),a("2ca0"),a("ac1f"),a("5319"),a("5b81"),a("12767"),a("7db0"),a("a15b"),a("25f0"),a("841c"),a("8a79"),a("e9c4"),a("1146")),c=a.n(l),u=(a("8baf"),a("2ef0")),d=a.n(u),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{title:t.needTruncate?t.value:""}},[t._v(t._s(t.truncatedValue))])},p=[],v=a("53ca"),h={props:{value:{},maxLength:{default:30}},computed:{needTruncate:function(){if(Object(v["a"])(this.value)==Object(v["a"])("")&&this.value.length>this.maxLength+20)return!0},truncatedValue:function(){return this.needTruncate?this.value.substr(0,30)+"...":this.value}}},f=h,_=a("2877"),b=Object(_["a"])(f,m,p,!1,null,null,null),x=b.exports,g=a("8654"),y={props:{isDialog:{default:!1},apiUrl:{default:null},showExportBtns:{default:!0},exportUrl:{default:null},headers:{required:!0},showSelect:{default:!0},filters:{default:function(){return{}}},showAppliedFilters:{default:!0},showClearFiltersBtn:{default:!0},searchable:{default:!0},previousApiData:{default:null},currentApiData:{default:null},additionalAppliedFilters:{default:null},items:{default:function(){return[]}}},components:{Truncate:x,VTextField:g["a"]},data:function(){return{list_view:!1,mydata:"",filterMenus:{},search:"",totalItems:-1,tableItems:this.items,selectedItems:[],loading:!1,options:{},apiResponse:null,numericValues:["bed","bes","value","fee","price","count"],booleanValues:["is_auto_created"],d:{}}},computed:{hasDetail:function(){return this.$listeners&&this.$listeners.detail},filterTypes:function(){for(var t=[{getKey:function(t){return t}},{key:"icontains"},{key:"gte"},{key:"lte"}],e=function(){var t=i[a];t.getKey||(t.getKey=function(e){return"".concat(e,"__").concat(t.key)})},a=0,i=t;a<i.length;a++)e();return t},headersWithFilter:function(){var t=this,e=function(e){return function(a){return!t.filters[e]||String(a).includes(t.filters[e])}},a=this.headers.filter((function(e){return 0!=e.show&&(!t.isPrinting||1!=e.hideInExport)}));a=[{text:"#",value:"rowNumber",width:"20px",align:"center",sortable:!1,filterable:!1}].concat(Object(r["a"])(a.map((function(t){return t.align="center",t})))),this.hasDetail&&a.push({text:"",value:"detail",sortable:!1,filterable:!1,visible:!1});var i,s=Object(o["a"])(a);try{for(s.s();!(i=s.n()).done;){var n=i.value;n.filter=e(n.value)}}catch(l){s.e(l)}finally{s.f()}return a},serverProcessing:function(){return null!=this.apiUrl},serverExport:function(){return null!=this.exportUrl},appliedFilters:function(){var t=this,e=[];this.additionalAppliedFilters&&e.push.apply(e,Object(r["a"])(this.additionalAppliedFilters));var a,i=Object(o["a"])(this.headers);try{var s=function(){var i=a.value;Object.keys(t.filters).filter((function(t){return t.replaceAll(".","__").startsWith(i.value.replaceAll(".","__"))})).forEach((function(a){var s=t.filters[a];if(![null,void 0,""].includes(s)){var n={"":null,icontains:"شامل",gte:"از",lte:"تا"},o=a.split("__"),r=o[o.length-1],l=n[r];t.isNumber(i)&&(s=t.toMoney(s)),t.isSelect(i)&&(s=i.items.find((function(t){return t.value==s})).text),t.isDate(i)&&(s=String(s).split("-").reverse().join("-")),t.isBoolean(i)&&(s=t.getBooleanFilterItems(i).find((function(t){return t.value==s})).text),e.push({text:i.text,typeText:l,value:s})}}))};for(i.s();!(a=i.n()).done;)s()}catch(n){i.e(n)}finally{i.f()}return e}},watch:{items:function(){this.tableItems=this.items},apiUrl:function(){this.serverProcessing&&this.d.getDataFromApi()},options:{handler:function(){this.$emit("update:options",this.options),this.serverProcessing&&this.d.getDataFromApi()},deep:!0},filters:{handler:function(){this.options.page=1,this.serverProcessing&&this.d.getDataFromApi()},deep:!0},search:function(){this.serverProcessing&&this.d.getDataFromApi()}},created:function(){this.d.getDataFromApi=d.a.debounce(this.getDataFromApi,500)},mounted:function(){this.serverProcessing&&this.d.getDataFromApi()},methods:{getBooleanFilterItems:function(t){return[{text:t.text,value:!0},{text:"غیر "+t.text,value:!1}]},getSelectItemValue:function(t,e){var a=this,i=t.items.filter((function(i){return i.value==a.getItemValue(e,t.value)}));return i.length?i[0].text:""},getRowNumber:function(t){var e=this.$refs.datatable;if(e){var a=(this.options.page-1)*this.options.itemsPerPage;return e.$children[0].computedItems.indexOf(t)+1+a}return""},hasRangeFilter:function(t){return t.showRangeFilter||this.isNumber(t)||this.isDate(t)},emitFilter:function(t,e){var a=Object(n["a"])({},this.filters);a[t]=e,this.$emit("update:filters",a)},print:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;this.isDialog&&($(".v-application--wrap")[0].style.display="none"),this.$store.commit("setIsPrinting",!0),this.$nextTick((function(){print(),t.$store.commit("setIsPrinting",!1),t.isDialog&&($(".v-application--wrap")[0].style.display="block")}))})),clearFilters:function(t){var e,a=Object(n["a"])({},this.filters),i=Object(o["a"])(this.filterTypes);try{for(i.s();!(e=i.n()).done;){var s=e.value;a[s.getKey(t.value)]=""}}catch(r){i.e(r)}finally{i.f()}this.$emit("update:filters",a)},clearAllFilters:function(){var t=Object(n["a"])({},this.filters);Object.keys(t).forEach((function(e){t[e]=""})),this.$emit("update:filters",t)},getFilterField:function(t){return this.isDate(t)?"date":this.isNumber(t)?"money":"v-text-field"},isDate:function(t){return"date"==t.type||t.value.includes("date")},isSelect:function(t){return void 0!=t.items},isNumber:function(t){var e;return e="numeric"==t.type||this.numericValues.includes(t.value),e&&(t.align="center"),e},getNumericClasses:function(t,e){var a=this.getItemValue(t,e);return a<0?"red--text":""},isBoolean:function(t){var e=!1;return e="boolean"==t.type||this.booleanValues.includes(t.value),e&&(t.align="center"),e},getItemSlot:function(t){return"item.".concat(t)},getHeaderSlot:function(t){return"header.".concat(t)},getOrdering:function(){var t,e=this.options,a=e.sortBy,i=e.sortDesc;return a&&1===a.length&&1===i.length&&(t="".concat(i[0]?"-":"").concat(a[0].replaceAll(".","__"))),t},getDataFromApi:function(){var t=this;this.loading=!0;var e=this.options,a=e.page,i=e.itemsPerPage,s=i,o=i*(a-1);-1==s&&(s=5e3,o=0),this.request({url:this.endpoint(this.apiUrl),method:"get",params:Object(n["a"])({limit:s,offset:o,ordering:this.getOrdering(),search:this.search},this.getFilters()),success:function(e){t.mydata=e.results,t.$emit("update:previousApiData",t.currentApiData),t.$emit("update:currentApiData",e),t.$emit("mydata",t.mydata),t.serverProcessing?t.totalItems=e.count:t.totalItems=void 0,t.apiResponse=e,t.tableItems=e.results,t.loading=!1}})},getFilters:function(){for(var t={},e=0,a=Object.keys(this.filters);e<a.length;e++){var i=a[e];t[i.replaceAll(".","__")]=this.filters[i]}return t},getExportUrl:function(t){var e=this.exportUrl||this.apiUrl,a="";return a=e.includes("?")?e.replace("?","/".concat(t,"?")):"".concat(e).concat(e.endsWith("/")?"":"/").concat(t,"?"),a=this.endpoint(a),a},exportTo:function(t){var e=this;this.$store.commit("setIsPrinting",!0),this.$nextTick((function(){if(e.serverProcessing||e.serverExport){var a=e.getExportUrl(t);if(e.selectedItems.length)a+="id__in="+e.selectedItems.map((function(t){return t.id})).join(",");else{var i=Object(n["a"])(Object(n["a"])({},e.filters),{},{view_list:e.list_view,search:e.search,ordering:e.getOrdering()});Object.keys(i).forEach((function(t){void 0!=i[t]&&(a+=t.replaceAll(".","__")+"="+i[t]+"&")})),a+="headers=".concat(JSON.stringify(e.headers.filter((function(t){return 1!=t.hideInExport}))),"&"),a+="applied_filters=".concat(JSON.stringify(e.appliedFilters),"&")}"&"!=a[a.length-1]&&(a+="&"),a+="token="+e.token,e.downloadUrl(a)}else if("html"==t)e.print();else{if("pdf"==t)return void e.print();if("xlsx"==t){var s=c.a.utils.table_to_book(e.$refs.datatable.$el),o=s;o.Workbook||(o.Workbook={}),o.Workbook.Views||(o.Workbook.Views=[]),o.Workbook.Views[0]||(o.Workbook.Views[0]={}),o.Workbook.Views[0].RTL=!0,c.a.writeFile(s,"export.xlsx")}}e.$store.commit("setIsPrinting",!1)}))},getItemValue:function(t,e){var a=e.split(".").reduce((function(t,e){return t?t[e]:null}),t);return a}}},k=y,w=(a("af59"),a("6544")),C=a.n(w),E=a("c6a6"),T=a("8336"),S=a("b0af"),V=a("99d9"),F=a("62ad"),P=a("8fea"),D=a("132d"),A=a("e449"),I=a("0fd9"),j=a("2fa4"),L=Object(_["a"])(k,i,s,!1,null,null,null);e["a"]=L.exports;C()(L,{VAutocomplete:E["a"],VBtn:T["a"],VCard:S["a"],VCardActions:V["a"],VCardSubtitle:V["b"],VCardText:V["c"],VCardTitle:V["d"],VCol:F["a"],VDataTable:P["a"],VIcon:D["a"],VMenu:A["a"],VRow:I["a"],VSpacer:j["a"]})},fd79:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("m-form",{ref:"AbsenceForm",attrs:{title:"ثبت مرخصی یا غیبت",showList:!1,listRoute:{name:"AbsenceList"},exportBaseUrl:t.printUrl,exportParams:{id:t.item.id},canDelete:!1,canSubmit:t.canSubmit,isEditing:t.isEditing},on:{"update:isEditing":function(e){t.isEditing=e},"update:is-editing":function(e){t.isEditing=e},submit:t.submit,delete:t.deleteItem,clearForm:function(e){return t.clearForm()}}},[["e"==t.item.leave_type?a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[this.workshopPersonnel?t._e():a("v-autocomplete",{attrs:{label:" پرسنل در کارگاه",items:t.workshopPersonnels,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(t){}},model:{value:t.item.workshop_personnel,callback:function(e){t.$set(t.item,"workshop_personnel",e)},expression:"item.workshop_personnel"}}),this.workshopPersonnel?a("v-text-field",{attrs:{label:"پرسنل در کارگاه",disabled:"true"},model:{value:t.item.workshop_personnel=this.workshopPersonnel,callback:function(e){t.$set(t.item.workshop_personnel=this,"workshopPersonnel",e)},expression:"item.workshop_personnel = this.workshopPersonnel"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"نوع",items:t.ABSENCE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},on:{change:function(e){return t.setValues(t.item)}},model:{value:t.item.leave_type,callback:function(e){t.$set(t.item,"leave_type",e)},expression:"item.leave_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},["e"==t.item.leave_type?a("v-autocomplete",{attrs:{label:"نوع مرخصی استحقاقی",items:t.ENTITLEMENT_LEAVE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.entitlement_leave_type,callback:function(e){t.$set(t.item,"entitlement_leave_type",e)},expression:"item.entitlement_leave_type"}}):t._e()],1)],1):t._e(),"m"==t.item.leave_type?a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[this.workshopPersonnel?t._e():a("v-autocomplete",{attrs:{label:" پرسنل در کارگاه",items:t.workshopPersonnels,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(t){}},model:{value:t.item.workshop_personnel,callback:function(e){t.$set(t.item,"workshop_personnel",e)},expression:"item.workshop_personnel"}}),this.workshopPersonnel?a("v-text-field",{attrs:{label:"پرسنل در کارگاه",disabled:"true"},model:{value:t.item.workshop_personnel=this.workshopPersonnel,callback:function(e){t.$set(t.item.workshop_personnel=this,"workshopPersonnel",e)},expression:"item.workshop_personnel = this.workshopPersonnel"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{attrs:{label:"نوع",items:t.ABSENCE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},on:{change:function(e){return t.setValues(t.item)}},model:{value:t.item.leave_type,callback:function(e){t.$set(t.item,"leave_type",e)},expression:"item.leave_type"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},["m"==t.item.leave_type?a("v-autocomplete",{attrs:{label:"دلیل مرخصی ماده 73",items:t.MATTER_73_LEAVE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},model:{value:t.item.matter73_leave_type,callback:function(e){t.$set(t.item,"matter73_leave_type",e)},expression:"item.matter73_leave_type"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-banner",{staticClass:"mt-2 ئ-ذ-2",attrs:{outlined:"",rounded:"","single-line":"",sticky:""}},[a("v-icon",{attrs:{color:"orange",large:""}},[t._v("info ")]),t._v(" در مرخصی ماده 73 حداکثر مدت زمان سه روز ثبت می شود ")],1)],1)],1):t._e(),"e"!=t.item.leave_type&&"m"!=t.item.leave_type?a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[this.workshopPersonnel?t._e():a("v-autocomplete",{attrs:{label:" پرسنل در کارگاه",items:t.workshopPersonnels,"item-text":"name","item-value":"id",disabled:!t.isEditing},on:{change:function(t){}},model:{value:t.item.workshop_personnel,callback:function(e){t.$set(t.item,"workshop_personnel",e)},expression:"item.workshop_personnel"}}),this.workshopPersonnel?a("v-text-field",{attrs:{label:"پرسنل در کارگاه",disabled:"true"},model:{value:t.item.workshop_personnel=this.workshopPersonnel,callback:function(e){t.$set(t.item.workshop_personnel=this,"workshopPersonnel",e)},expression:"item.workshop_personnel = this.workshopPersonnel"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{label:"نوع",items:t.ABSENCE_TYPES,"item-text":"name","item-value":"value",disabled:!t.isEditing},on:{change:function(e){return t.setValues(t.item)}},model:{value:t.item.leave_type,callback:function(e){t.$set(t.item,"leave_type",e)},expression:"item.leave_type"}})],1)],1):t._e(),"e"!=t.item.leave_type?a("v-row",[a("v-col",{attrs:{cols:"9",md:"6"}},[a("date",{attrs:{label:"* از تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.from_date,callback:function(e){t.$set(t.item,"from_date",e)},expression:"item.from_date"}})],1),a("v-col",{attrs:{cols:"9",md:"6"}},[a("date",{attrs:{label:"* تا تاریخ ",default:!0,disabled:!t.isEditing},model:{value:t.item.to_date,callback:function(e){t.$set(t.item,"to_date",e)},expression:"item.to_date"}})],1)],1):t._e(),"e"==t.item.leave_type&&"h"!=t.item.entitlement_leave_type?a("v-row",[a("v-col",{attrs:{cols:"9",md:"6"}},[a("date",{attrs:{label:"* از تاریخ",default:!0,disabled:!t.isEditing},model:{value:t.item.from_date,callback:function(e){t.$set(t.item,"from_date",e)},expression:"item.from_date"}})],1),a("v-col",{attrs:{cols:"9",md:"6"}},[a("date",{attrs:{label:"* تا تاریخ ",default:!0,disabled:!t.isEditing},model:{value:t.item.to_date,callback:function(e){t.$set(t.item,"to_date",e)},expression:"item.to_date"}})],1)],1):t._e(),a("v-row",["i"==t.item.leave_type?a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"علت حادثه","background-color":"white",disabled:!t.isEditing},model:{value:t.item.cause_of_incident,callback:function(e){t.$set(t.item,"cause_of_incident",e)},expression:"item.cause_of_incident"}})],1):t._e()],1),"h"==t.item.entitlement_leave_type&&"e"==t.item.leave_type?a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("date",{attrs:{label:"* تاریخ ",default:!0,disabled:!t.isEditing},model:{value:t.item.date,callback:function(e){t.$set(t.item,"date",e)},expression:"item.date"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":t.time,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{disabled:!t.isEditing,label:"از ساعت","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:t.item.from_hour,callback:function(e){t.$set(t.item,"from_hour",e)},expression:"item.from_hour"}},"v-text-field",s,!1),i))]}}],null,!1,471493903),model:{value:t.modal2,callback:function(e){t.modal2=e},expression:"modal2"}},[t.modal2?a("v-time-picker",{attrs:{"full-width":""},model:{value:t.item.from_hour,callback:function(e){t.$set(t.item,"from_hour",e)},expression:"item.from_hour"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(e){t.modal2=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.time)}}},[t._v(" OK ")])],1):t._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-dialog",{ref:"dialog1",attrs:{"return-value":t.time,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{disabled:!t.isEditing,label:"تا ساعت","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:t.item.to_hour,callback:function(e){t.$set(t.item,"to_hour",e)},expression:"item.to_hour"}},"v-text-field",s,!1),i))]}}],null,!1,4145422650),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t.menu1?a("v-time-picker",{attrs:{"full-width":""},model:{value:t.item.to_hour,callback:function(e){t.$set(t.item,"to_hour",e)},expression:"item.to_hour"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu1=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog1.save(t.time)}}},[t._v(" OK ")])],1):t._e()],1)],1)],1):t._e(),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"توضیحات","background-color":"white",disabled:!t.isEditing},model:{value:t.item.explanation,callback:function(e){t.$set(t.item,"explanation",e)},expression:"item.explanation"}})],1),t.item.id?a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"مدت مرخصی به روز","background-color":"white",disabled:!t.isEditing},model:{value:t.item.time_period,callback:function(e){t.$set(t.item,"time_period",e)},expression:"item.time_period"}})],1):t._e()],1)]],2)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("summary-absence-list")],1)],1)],1)},s=[],n=a("830d"),o=a("b7e5"),r=a("1276"),l=a("4633"),c=a("14a8"),u=a("53c2"),d=a("7eac"),m=a("e493"),p=a("8925"),v=a("3c1f"),h=(a("0359"),a("3915")),f=a("24a3"),_=a("5a45"),b={name:"AbsenceForm",mixins:[o["b"],f["a"],l["a"],l["a"],c["a"]],components:{SummaryAbsenceList:_["a"],mtime:r["a"],TreeSelect:u["a"],citySelect:m["a"],TenderList:n["a"],MDatatable:p["a"],TransactionForm:h["a"],money:v["a"]},props:{id:{}},data:function(){return{ABSENCE_TYPES:[{name:" استحقاقی",value:"e"},{name:"ماده 73",value:"m"},{name:"استعلاجی",value:"i"},{name:"بدون حقوق",value:"w"},{name:"غیبت",value:"a"}],MATTER_73_LEAVE_TYPES:[{name:" زایمان",value:"c"},{name:"ازدواج",value:"m"},{name:"مرگ همسر",value:"s"},{name:"مرگ فرزند",value:"d"},{name:"مرگ پدر یا مادر",value:"p"}],ENTITLEMENT_LEAVE_TYPES:[{name:" ساعتی",value:"h"},{name:"روزانه",value:"d"}],time:null,menu1:!1,modal2:!1,printUrl:"payroll/absence/request",isWorkshopConfirmed:!1,baseUrl:"payroll/absence",type:null,entitlement:null,permissionBasename:"absence",appendSlash:!0,hasList:!1,hasIdProp:!0,hasLock:!1,isDefinable:!1,myClass:"",workshopPersonnel:this.$route.query.workshop_personnel,workshopPersonnels:[],PathLevels:d["b"],VisitorLevels:d["c"],paymentDialog:!1,payment:"",performClearForm:!0}},computed:{headers:function(){return[{text:" پرسنل در کارگاه",value:"workshop_personnel"},{text:"نوع",value:"leave_type_display"},{text:"مدت به روز",value:"time_period"}]}},mounted:function(){var t=this;this.workshopPersonnel||this.request({url:this.endpoint("payroll/workshop/personnel/"),method:"get",success:function(e){for(var a in console.log(e),e)t.workshopPersonnels.push({name:e[a].personnel_name+" در کارگاه "+e[a].workshop_name,id:e[a].id});console.log(t.workshopPersonnels)}})},methods:{setValues:function(t){"e"==t.leave_type&&(console.log("ok"),this.entitlement=!0)},to:function(t){return{name:"WorkshopContractDetail",params:{id:t.id}}},unConfirm:function(){this.$router.go(),this.notify(" ثبت قرارداد رد شد","warning")}}},x=b,g=a("2877"),y=a("6544"),k=a.n(y),w=a("c6a6"),C=a("e4e5"),E=a("8336"),$=a("62ad"),T=a("169a"),S=a("132d"),V=a("0fd9"),F=a("2fa4"),P=a("8654"),D=a("c964"),A=Object(g["a"])(x,i,s,!1,null,"0a6aea88",null);e["default"]=A.exports;k()(A,{VAutocomplete:w["a"],VBanner:C["a"],VBtn:E["a"],VCol:$["a"],VDialog:T["a"],VIcon:S["a"],VRow:V["a"],VSpacer:F["a"],VTextField:P["a"],VTimePicker:D["a"]})}});
//# sourceMappingURL=app.62ba20e3.js.map