(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04378786"],{"11c6":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[t._v("ابطال شماره بارنامه")]),i("v-card-text",[i("m-datatable",{attrs:{"api-url":"dashtbashi/ladingBillNumbers",headers:t.headers,filters:t.filters},on:{"update:filters":function(e){t.filters=e}},scopedSlots:t._u([{key:"item.detail",fn:function(e){var s=e.item;return[s.is_revoked?i("v-btn",{attrs:{color:"red white--text"},on:{click:function(e){return t.revokeLadingBillNumber(s,null)}}},[t._v("لغو ابطال")]):i("v-btn",{attrs:{color:"blue white--text"},on:{click:function(e){return t.openRevokeDialog(s)}}},[t._v("ابطال")])]}}])})],1),t.item?i("v-dialog",{attrs:{"max-width":"500px",transition:"dialog-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[t._v(" ابطال شماره بارنامه "+t._s(t.item.number)+" از سری بارنامه "+t._s(t.item.series?t.item.series.serial:"")+" ")]),i("v-card-text",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("date",{attrs:{default:!0},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),i("v-card-actions",[i("v-btn",{attrs:{color:"blue white--text"},on:{click:function(e){return t.revokeLadingBillNumber(t.item,t.date)}}},[t._v("ابطال")])],1)],1)],1):t._e()],1)},a=[],r=i("f51a"),n=i("da4b"),o={mixins:[r["a"],n["b"]],data:function(){return{filters:{not_used:!0},item:null,date:null,dialog:!1}},computed:{headers:function(){return[{text:"سری بارنامه",value:"series.serial"},{text:"شماره بارنامه",value:"number"},{text:"ابطال شده",value:"is_revoked",type:"boolean"},{text:"تاریخ ابطال",value:"revoked_at"},{text:"",value:"detail",filterable:!1,sortable:!1}]}},methods:{openRevokeDialog:function(t){this.item=t,this.dialog=!0},revokeLadingBillNumber:function(t,e){var i=this;this.request({url:this.endpoint("dashtbashi/ladingBillNumbers/revoke"),method:"post",data:{id:t.id,is_revoked:!t.is_revoked,date:e},success:function(s){i.successNotify(),t.is_revoked=!t.is_revoked,t.revoked_at=e,i.dialog=!1}})}}},l=o,u=i("2877"),c=i("6544"),d=i.n(c),v=i("8336"),h=i("b0af"),f=i("99d9"),m=i("62ad"),g=i("169a"),x=i("0fd9"),b=Object(u["a"])(l,s,a,!1,null,"36638f9a",null);e["default"]=b.exports;d()(b,{VBtn:v["a"],VCard:h["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:m["a"],VDialog:g["a"],VRow:x["a"]})},f51a:function(t,e,i){"use strict";i("d81d");e["a"]={data:function(){return{months:[{text:"فروردین",value:1},{text:"اردیبهشت",value:2},{text:"خرداد",value:3},{text:"تیر",value:4},{text:"مرداد",value:5},{text:"شهریور",value:6},{text:"مهر",value:7},{text:"آبان",value:8},{text:"آذر",value:9},{text:"دی",value:10},{text:"بهمن",value:11},{text:"اسفند",value:12}],tipPayers:[{title:"شرکت",id:"cmp"},{title:"پیمانکار",id:"cnt"}],remittancePaymentMethods:[{text:"کمیسیون و کرایه به شرکت",value:"tc"},{text:"کمیسیون به شرکت و کرایه به راننده",value:"tcd"},{text:"کمیسیون و کرایه با شرکت",value:"cp"}],receiveTypes:[{text:"نسیه",value:"cr"},{text:"نقدی",value:"cs"},{text:"کارت خوان",value:"p"}]}},methods:{getDrivers:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||!this.$store.state.drivers.length)return this.request({url:this.endpoint("dashtbashi/drivers/"),method:"get",success:function(t){e.$store.commit("setDrivers",t),i&&i(t)}})},getCars:function(t){var e=this;if(t||!this.$store.state.cars.length)return this.request({url:this.endpoint("dashtbashi/cars/"),method:"get",success:function(t){e.$store.commit("setCars",t)}})},getDrivings:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t||!this.$store.state.drivings.length)return this.request({url:this.endpoint("dashtbashi/drivings/"),method:"get",success:function(t){e.$store.commit("setDrivings",t),i&&i(t)}});i&&i(this.$store.state.drivings)},getAssociations:function(t){var e=this;if(t||!this.$store.state.associations.length)return this.request({url:this.endpoint("dashtbashi/associations/"),method:"get",success:function(t){e.$store.commit("setAssociations",t)}})},getRemittances:function(t){var e=this;this.request({url:this.endpoint("dashtbashi/remittances/?limit=10&offset=0"),method:"get",params:{code__icontains:t},success:function(t){e.remittances=t["results"].map((function(t){return t.code=String(t.code),t}))}})}}}}}]);
//# sourceMappingURL=chunk-04378786.f743457a.js.map