{"version":3,"sources":["webpack:///./src/views/panel/role/Roles.vue?1db4","webpack:///src/views/panel/role/Roles.vue","webpack:///./src/views/panel/role/Roles.vue?017a","webpack:///../../../src/mixins/button-group/index.ts","webpack:///../../../src/components/VBtnToggle/VBtnToggle.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanel.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelContent.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelHeader.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanels.ts","webpack:///../../../src/components/VTooltip/VTooltip.ts","webpack:///./src/views/panel/role/Roles.vue","webpack:///../../../src/mixins/rippleable/index.ts","webpack:///./src/views/panel/role/getRolesApi.js","webpack:///../../../src/components/VSwitch/VSwitch.ts","webpack:///../../../src/mixins/selectable/index.ts"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","attrs","items","cols","canSubmit","canDelete","isEditing","on","$event","setItem","clearForm","submit","deleteItem","scopedSlots","_u","key","fn","model","value","item","callback","$$v","$set","expression","_v","modelSearch","setAll","_l","i","showModelPermissions","_s","label","stopPropagation","name","justOwn","Object","keys","permissions","length","rawPermissions","setCRUDPermissions","localPerms","getPermissionBtns","btn","ref","_g","_b","style","icon","tootltip","localOwnPerms","staticStyle","getModelPermissions","permission","id","_e","proxy","staticRenderFns","mixins","props","data","baseUrl","permissionBasename","operations","computed","createUrl","updateUrl","deleteUrl","modelPermissions","permissionsData","filter","f","models","methods","show","hasConfirmPermission","permissionBtns","push","getPermissionByCodename","results","hasPerm","isOwnChanged","ownPermission","hasOwnPerm","splice","indexOf","getItemTemplate","copy","getPermissionsTemplate","isCheckedPermission","getData","getRoles","setRoles","getPermissions","request","url","endpoint","method","success","forEach","getSerialized","permissionId","filters","provide","btnToggle","classes","genData","backgroundColor","borderless","dense","group","rounded","shaped","tile","Boolean","themeClasses","setTextColor","setBackgroundColor","disabled","readonly","content","header","nextIsActive","groupClasses","isDisabled","expansionPanels","isReadonly","registerContent","unregisterContent","registerHeader","vm","unregisterHeader","onClick","e","toggle","isBooted","render","h","class","String","baseMixins","isActive","expansionPanel","created","beforeDestroy","showLazyContent","directives","ripple","disableIconRotate","expandIcon","type","default","hideActions","hasMousedown","genIcon","VIcon","tabindex","click","mousedown","mouseup","open","accordion","flat","hover","focusable","inset","popout","$attrs","hasOwnProperty","Array","updateItem","getValue","nextValue","index","toggleMethod","closeDelay","Number","fixed","openDelay","openOnHover","tag","transition","calculatedMinWidth","closeDependents","calculatedLeft","unknown","activatorLeft","attach","activator","left","top","right","parseInt","calcXOverflow","dimensions","calculatedTop","activatorTop","bottom","calcYOverflow","computedTransition","offsetY","offsetX","styles","maxWidth","minWidth","opacity","zIndex","activeZIndex","beforeMount","mounted","console","activate","requestAnimationFrame","deactivate","genActivatorListeners","listeners","genTransition","genContent","activatorFixed","isContentActive","component","VBtn","VBtnToggle","VCol","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VRow","VSpacer","VSubheader","VSwitch","VTextField","VTooltip","genRipple","center","Touch","loading","role","validationState","hasError","hasColor","switchData","undefined","genDefaultSlot","genSwitch","genInput","attrs$","onSwipeRight","genProgress","$slots","progress","color","size","width","indeterminate","onSwipeLeft","onChange","onKeydown","prop","event","inputValue","falseValue","trueValue","multiple","lazyValue","computedColor","isDark","isMultiple","input","valueComparator","isDirty","rippleState","watch","genLabel","prevent","domProps","checked","blur","change","focus","keydown","onBlur","onFocus"],"mappings":"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","file":"js/chunk-006e1a77.bacc4812.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rtl\"},[_c('m-form',{attrs:{\"title\":\"نقش\",\"items\":_vm.items,\"cols\":_vm.cols,\"canSubmit\":_vm.canSubmit,\"canDelete\":_vm.canDelete,\"is-editing\":_vm.isEditing,\"showListBtn\":false,\"show-navigation-btns\":false},on:{\"update:isEditing\":function($event){_vm.isEditing=$event},\"update:is-editing\":function($event){_vm.isEditing=$event},\"click:row\":_vm.setItem,\"clearForm\":_vm.clearForm,\"submit\":_vm.submit,\"delete\":_vm.deleteItem},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\" * نام\",\"disabled\":!_vm.isEditing},model:{value:(_vm.item.name),callback:function ($$v) {_vm.$set(_vm.item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-subheader',[_vm._v(\"دسترسی ها\")]),_c('div',{staticClass:\"d-flex\"},[_c('v-text-field',{staticClass:\"mr-2\",attrs:{\"placeholder\":\"جستوجو\",\"disabled\":!_vm.isEditing},model:{value:(_vm.modelSearch),callback:function ($$v) {_vm.modelSearch=$$v},expression:\"modelSearch\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":!_vm.isEditing,\"small\":\"\",\"depressed\":\"\",\"color\":\"cyan white--text\"},on:{\"click\":function($event){return _vm.setAll({value: false})}}},[_vm._v(\"عدم انتخاب همه\")]),_c('v-btn',{staticClass:\"mr-1\",attrs:{\"disabled\":!_vm.isEditing,\"small\":\"\",\"depressed\":\"\",\"color\":\"cyan white--text\"},on:{\"click\":function($event){return _vm.setAll({value: true})}}},[_vm._v(\"انتخاب همه\")])],1),_c('v-expansion-panels',{staticClass:\"mt-3\",attrs:{\"multiple\":\"\"}},_vm._l((_vm.models),function(model,i){return (_vm.showModelPermissions(model))?_c('v-expansion-panel',{key:i},[_c('v-expansion-panel-header',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_vm._v(_vm._s(model.label))]),_c('v-spacer'),_c('v-col',{staticClass:\"text-left pl-6\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":!_vm.isEditing},on:{\"click\":function($event){$event.stopPropagation();return _vm.setAll({model: model.name, value:false})}}},[_c('v-icon',[_vm._v(\"fa-times\")])],1),_c('v-btn',{staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"disabled\":!_vm.isEditing},on:{\"click\":function($event){$event.stopPropagation();return _vm.setAll({model: model.name, value:true})}}},[_c('v-icon',[_vm._v(\"fa-check-double\")])],1),_c('v-btn',{staticClass:\"mr-1\",attrs:{\"icon\":\"\",\"disabled\":!_vm.isEditing},on:{\"click\":function($event){$event.stopPropagation();return _vm.setAll({model: model.name, value:true, justOwn: true})}}},[_c('v-icon',[_vm._v(\"fa-user-shield\")])],1)],1)],1)],1),_c('v-expansion-panel-content',[(Object.keys(_vm.item.permissions).length == _vm.rawPermissions.length)?_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-btn-toggle',{attrs:{\"background-color\":\"white\",\"multiple\":\"\",\"color\":\"green\",\"tile\":\"\",\"borderless\":\"\"},on:{\"change\":function($event){return _vm.setCRUDPermissions(model)}},model:{value:(_vm.item.localPerms[model.name]),callback:function ($$v) {_vm.$set(_vm.item.localPerms, model.name, $$v)},expression:\"item.localPerms[model.name]\"}},_vm._l((_vm.getPermissionBtns(model)),function(btn,i){return _c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({style:((_vm.getPermissionBtns(model).length != i-1)?'border-left: 1px solid black':''),attrs:{\"tile\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(_vm._s(btn.icon))])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(btn.tootltip))])])}),1)],1),_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[_c('v-btn-toggle',{attrs:{\"background-color\":\"white\",\"multiple\":\"\",\"color\":\"lime\",\"tile\":\"\",\"borderless\":\"\"},on:{\"change\":function($event){return _vm.setCRUDPermissions(model, true)}},model:{value:(_vm.item.localOwnPerms[model.name]),callback:function ($$v) {_vm.$set(_vm.item.localOwnPerms, model.name, $$v)},expression:\"item.localOwnPerms[model.name]\"}},[_vm._l((_vm.getPermissionBtns(model)),function(btn,i){return [(btn.hasOwn)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({style:((_vm.getPermissionBtns(model).length != i-1)?'border-left: 1px solid black':''),attrs:{\"tile\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"fa-user-shield\")])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(btn.tootltip)+\" مواردی که خود کاربر ثبت کرده است\")])]):_c('v-btn',{staticStyle:{\"border-left\":\"1px solid black\",\"background-color\":\"white !important\"},attrs:{\"disabled\":\"\"}})]})],2)],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},_vm._l((_vm.getModelPermissions(model.name)),function(permission,i){return _c('v-switch',{key:i,attrs:{\"label\":permission.name,\"disabled\":!_vm.isEditing},model:{value:(_vm.item.permissions[permission.id]),callback:function ($$v) {_vm.$set(_vm.item.permissions, permission.id, $$v)},expression:\"item.permissions[permission.id]\"}})}),1)],1):_vm._e()],1)],1):_vm._e()}),1)],1)],1)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"rtl\">\r\n    <m-form\r\n      title=\"نقش\"\r\n      :items=\"items\"\r\n      :cols=\"cols\"\r\n      :canSubmit=\"canSubmit\"\r\n      :canDelete=\"canDelete\"\r\n      :is-editing.sync=\"isEditing\"\r\n      :showListBtn=\"false\"\r\n      :show-navigation-btns=\"false\"\r\n      @click:row=\"setItem\"\r\n      @clearForm=\"clearForm\"\r\n      @submit=\"submit\"\r\n      @delete=\"deleteItem\"\r\n    >\r\n      <template #default>\r\n        <v-row>\r\n          <v-col cols=\"12\">\r\n            <v-text-field label=\" * نام\" v-model=\"item.name\" :disabled=\"!isEditing\" />\r\n          </v-col>\r\n          <v-col cols=\"12\">\r\n            <v-subheader>دسترسی ها</v-subheader>\r\n            <div class=\"d-flex\">\r\n              <v-text-field\r\n                class=\"mr-2\"\r\n                placeholder=\"جستوجو\"\r\n                v-model=\"modelSearch\"\r\n                :disabled=\"!isEditing\"\r\n              />\r\n              <v-spacer></v-spacer>\r\n              <v-btn\r\n                @click=\"setAll({value: false})\"\r\n                :disabled=\"!isEditing\"\r\n                small\r\n                depressed\r\n                color=\"cyan white--text\"\r\n              >عدم انتخاب همه</v-btn>\r\n              <v-btn\r\n                @click=\"setAll({value: true})\"\r\n                :disabled=\"!isEditing\"\r\n                small\r\n                depressed\r\n                color=\"cyan white--text\"\r\n                class=\"mr-1\"\r\n              >انتخاب همه</v-btn>\r\n            </div>\r\n            <v-expansion-panels multiple class=\"mt-3\">\r\n              <v-expansion-panel\r\n                v-for=\"(model, i) in models\"\r\n                :key=\"i\"\r\n                v-if=\"showModelPermissions(model)\"\r\n              >\r\n                <v-expansion-panel-header>\r\n                  <v-row no-gutters>\r\n                    <v-col>{{ model.label }}</v-col>\r\n                    <v-spacer></v-spacer>\r\n                    <v-col class=\"text-left pl-6\">\r\n                      <v-btn\r\n                        @click.stop=\"setAll({model: model.name, value:false})\"\r\n                        icon\r\n                        :disabled=\"!isEditing\"\r\n                      >\r\n                        <v-icon>fa-times</v-icon>\r\n                      </v-btn>\r\n                      <v-btn\r\n                        @click.stop=\"setAll({model: model.name, value:true})\"\r\n                        icon\r\n                        class=\"mr-1\"\r\n                        :disabled=\"!isEditing\"\r\n                      >\r\n                        <v-icon>fa-check-double</v-icon>\r\n                      </v-btn>\r\n\r\n                      <v-btn\r\n                        @click.stop=\"setAll({model: model.name, value:true, justOwn: true})\"\r\n                        icon\r\n                        class=\"mr-1\"\r\n                        :disabled=\"!isEditing\"\r\n                      >\r\n                        <v-icon>fa-user-shield</v-icon>\r\n                      </v-btn>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-expansion-panel-header>\r\n                <v-expansion-panel-content>\r\n                  <v-row v-if=\"Object.keys(item.permissions).length == rawPermissions.length\">\r\n                    <v-col cols=\"12\">\r\n                      <v-row no-gutters>\r\n                        <v-col cols=\"12\" class=\"pb-0\">\r\n                          <v-btn-toggle\r\n                            v-model=\"item.localPerms[model.name]\"\r\n                            @change=\"setCRUDPermissions(model)\"\r\n                            background-color=\"white\"\r\n                            multiple\r\n                            color=\"green\"\r\n                            tile\r\n                            borderless\r\n                          >\r\n                            <v-tooltip top v-for=\"(btn, i) in getPermissionBtns(model)\">\r\n                              <template v-slot:activator=\"{ on, attrs }\">\r\n                                <v-btn\r\n                                  :style=\"(getPermissionBtns(model).length != i-1)?'border-left: 1px solid black':''\"\r\n                                  tile\r\n                                  v-bind=\"attrs\"\r\n                                  v-on=\"on\"\r\n                                >\r\n                                  <v-icon>{{ btn.icon }}</v-icon>\r\n                                </v-btn>\r\n                              </template>\r\n                              <span>{{ btn.tootltip }}</span>\r\n                            </v-tooltip>\r\n                          </v-btn-toggle>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" class=\"pt-0\">\r\n                          <v-btn-toggle\r\n                            v-model=\"item.localOwnPerms[model.name]\"\r\n                            @change=\"setCRUDPermissions(model, true)\"\r\n                            background-color=\"white\"\r\n                            multiple\r\n                            color=\"lime\"\r\n                            tile\r\n                            borderless\r\n                          >\r\n                            <template v-for=\"(btn, i) in getPermissionBtns(model)\">\r\n                              <v-tooltip bottom v-if=\"btn.hasOwn\">\r\n                                <template v-slot:activator=\"{ on, attrs }\">\r\n                                  <v-btn\r\n                                    :style=\"(getPermissionBtns(model).length != i-1)?'border-left: 1px solid black':''\"\r\n                                    tile\r\n                                    v-bind=\"attrs\"\r\n                                    v-on=\"on\"\r\n                                  >\r\n                                    <v-icon>fa-user-shield</v-icon>\r\n                                  </v-btn>\r\n                                </template>\r\n                                <span>{{ btn.tootltip }} مواردی که خود کاربر ثبت کرده است</span>\r\n                              </v-tooltip>\r\n                              <v-btn\r\n                                v-else\r\n                                disabled\r\n                                style=\"border-left: 1px solid black;background-color: white !important\"\r\n                              ></v-btn>\r\n                            </template>\r\n                          </v-btn-toggle>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-col>\r\n                    <v-col cols=\"12\">\r\n                      <v-switch\r\n                        v-for=\"(permission, i) in getModelPermissions(model.name)\"\r\n                        :key=\"i\"\r\n                        :label=\"permission.name\"\r\n                        v-model=\"item.permissions[permission.id]\"\r\n                        :disabled=\"!isEditing\"\r\n                      ></v-switch>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-expansion-panel-content>\r\n              </v-expansion-panel>\r\n            </v-expansion-panels>\r\n          </v-col>\r\n        </v-row>\r\n      </template>\r\n    </m-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { MFormMixin } from \"@bit/mmd-mostafaee.vue.m-form\";\r\nimport getRolesApi from \"./getRolesApi\";\r\n\r\nexport default {\r\n  mixins: [MFormMixin, getRolesApi],\r\n  props: {},\r\n  data() {\r\n    return {\r\n      baseUrl: \"users/roles/list\",\r\n      permissionBasename: \"role\",\r\n      items: [],\r\n      modelSearch: \"\",\r\n      rawPermissions: [],\r\n      operations: [\r\n        \"get\",\r\n        \"create\",\r\n        \"update\",\r\n        \"delete\",\r\n        \"firstConfirm\",\r\n        \"secondConfirm\",\r\n      ],\r\n      cols: [\r\n        {\r\n          text: \"نام\",\r\n          value: \"name\",\r\n          type: \"text\",\r\n          filters: [\"name\"],\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  computed: {\r\n    createUrl() {\r\n      return \"users/roles/create\";\r\n    },\r\n    updateUrl() {\r\n      return this.item.id && `users/roles/update/${this.item.id}`;\r\n    },\r\n    deleteUrl() {\r\n      return this.item.id && `users/roles/delete/${this.item.id}`;\r\n    },\r\n    modelPermissions() {\r\n      return this.permissionsData;\r\n      let models = this.models;\r\n      let result = {};\r\n      for (let model of models) {\r\n        result[model.name] = this.permissionsData[model.name];\r\n      }\r\n      return result;\r\n    },\r\n    permissions() {\r\n      return this.rawPermissions.filter((o) => {\r\n        let codename = o.codename;\r\n        let f =\r\n          !codename.startsWith(\"get\") &&\r\n          !codename.startsWith(\"create\") &&\r\n          !codename.startsWith(\"update\") &&\r\n          !codename.startsWith(\"firstConfirm\") &&\r\n          !codename.startsWith(\"secondConfirm\") &&\r\n          !codename.startsWith(\"delete\");\r\n        return f;\r\n      });\r\n    },\r\n    models() {\r\n      return [\r\n        { name: \"role\", label: \"نقش ها\" },\r\n        { name: \"user\", label: \"کاربران\" },\r\n        { name: \"company\", label: \"شرکت ها\" },\r\n        { name: \"financialYear\", label: \"سال های مالی\" },\r\n        {\r\n          name: \"floatAccountGroup\",\r\n          label: \"گروه حساب شناور و مرکز هزینه و درآمد\",\r\n        },\r\n        { name: \"floatAccount\", label: \"حساب شناور و مرکز هزینه و درآمد\" },\r\n        { name: \"account\", label: \"حساب ها\" },\r\n        { name: \"defaultAccount\", label: \"حساب های پیشفرض\" },\r\n        { name: \"unit\", label: \"واحد ها\" },\r\n        { name: \"warehouse\", label: \"انبار ها\" },\r\n        { name: \"wareLevel\", label: \"سطوح کالا\" },\r\n        { name: \"ware\", label: \"کالا ها\" },\r\n        { name: \"sanad\", label: \"اسناد\" },\r\n        { name: \"receiveTransaction\", label: \"دریافت\" },\r\n        { name: \"paymentTransaction\", label: \"پرداخت\" },\r\n        { name: \"chequebook\", label: \"دسته چک\" },\r\n        { name: \"cheque\", label: \"چک\" },\r\n        { name: \"statusChange\", label: \"تغییر وضعیت چک\" },\r\n        { name: \"expense\", label: \"هزینه های فاکتور\" },\r\n        { name: \"buyFactor\", label: \"فاکتور خرید\" },\r\n        { name: \"saleFactor\", label: \"فاکتور فروش\" },\r\n        { name: \"backFromBuyFactor\", label: \"فاکتور برگشت از خرید\" },\r\n        { name: \"backFromSaleFactor\", label: \"فاکتور برگشت از فروش\" },\r\n        { name: \"consumptionWareFactor\", label: \"حواله کالای مصرفی\" },\r\n        { name: \"transfer\", label: \"انتقال\" },\r\n        { name: \"report\", label: \"گزارش ها\" },\r\n        { name: \"exportVerifier\", label: \"تایید کنندگان خروجی\" },\r\n        { name: \"driver\", label: \"راننده\" },\r\n        { name: \"car\", label: \"ماشین\" },\r\n        { name: \"driving\", label: \"انتصاب راننده به ماشین\" },\r\n        { name: \"association\", label: \"انجمن\" },\r\n        { name: \"remittance\", label: \"حواله\" },\r\n        { name: \"ladingBillSeries\", label: \"سری بارگیری\" },\r\n        { name: \"ladingBillNumber\", label: \"کد بارگیری\" },\r\n        { name: \"lading\", label: \"بارگیری\" },\r\n        { name: \"oilCompanyLading\", label: \"بارگیری شرکت نفت\" },\r\n        { name: \"otherDriverPayment\", label: \"پرداخت رانندگان متفرقه\" },\r\n      ].filter((o) => o.label.includes(this.modelSearch));\r\n    },\r\n  },\r\n  methods: {\r\n    showModelPermissions(model) {\r\n      if (!this.item || !this.item.id) return true;\r\n      let show = false;\r\n      for (let permission of this.rawPermissions) {\r\n        if (model.name.toLowerCase().includes(permission.contentType.model)) {\r\n          show |= this.item.permissions[permission.id];\r\n        }\r\n      }\r\n      return show;\r\n    },\r\n    getPermissionBtns(model) {\r\n      let permissionBtns = [\r\n        {\r\n          icon: \"fa-eye\",\r\n          tootltip: \"مشاهده\",\r\n          hasOwn: true,\r\n        },\r\n        {\r\n          icon: \"fa-plus\",\r\n          tootltip: \"تعریف\",\r\n          hasOwn: false,\r\n        },\r\n        {\r\n          icon: \"fa-edit\",\r\n          tootltip: \"ویرایش\",\r\n          hasOwn: true,\r\n        },\r\n        {\r\n          icon: \"fa-trash-alt\",\r\n          tootltip: \"حذف\",\r\n          hasOwn: true,\r\n        },\r\n      ];\r\n      if (this.hasConfirmPermission(model)) {\r\n        permissionBtns.push(\r\n          { icon: \"fa-check\", tootltip: \"تایید اول\", hasOwn: true },\r\n          { icon: \"fa-check-double\", tootltip: \"تایید دوم\", hasOwn: true }\r\n        );\r\n      }\r\n\r\n      return permissionBtns;\r\n    },\r\n    hasConfirmPermission(model) {\r\n      return (\r\n        this.rawPermissions.filter(\r\n          (o) => o.codename == `firstConfirm.${model.name}`\r\n        ).length != 0\r\n      );\r\n    },\r\n    getPermissionByCodename(codename) {\r\n      let results = this.rawPermissions.filter((o) => o.codename == codename);\r\n      if (results.length) return results[0];\r\n      return null;\r\n    },\r\n    setCRUDPermissions(model, isOwnChanged) {\r\n      let modelPermissions = this.item.localPerms[model.name];\r\n      let modelOwnPermissions = this.item.localOwnPerms[model.name];\r\n\r\n      for (let i = 0; i < this.operations.length; i++) {\r\n        let codename = `${this.operations[i]}.${model.name}`;\r\n        let permission = this.getPermissionByCodename(codename);\r\n\r\n        let ownCodename = `${this.operations[i]}Own.${model.name}`;\r\n        let ownPermission = this.getPermissionByCodename(ownCodename);\r\n\r\n        let hasPerm = modelPermissions.includes(i);\r\n        let hasOwnPerm = modelOwnPermissions.includes(i);\r\n\r\n        if (hasPerm && !isOwnChanged) {\r\n          this.item.permissions[permission.id] = true;\r\n          ownPermission && (this.item.permissions[ownPermission.id] = false);\r\n          hasOwnPerm &&\r\n            modelOwnPermissions.splice(modelOwnPermissions.indexOf(i), 1);\r\n          hasOwnPerm = false;\r\n        }\r\n        if (hasOwnPerm) {\r\n          this.item.permissions[permission.id] = false;\r\n          ownPermission && (this.item.permissions[ownPermission.id] = true);\r\n          hasPerm && modelPermissions.splice(modelPermissions.indexOf(i), 1);\r\n        }\r\n        if (!hasPerm && !hasOwnPerm) {\r\n          permission && (this.item.permissions[permission.id] = false);\r\n          ownPermission && (this.item.permissions[ownPermission.id] = false);\r\n        }\r\n      }\r\n\r\n      for (const i of modelPermissions) {\r\n        let codename = `${this.operations[i]}.${model}`;\r\n        let permission = this.getPermissionByCodename(codename);\r\n      }\r\n    },\r\n    getModelPermissions(model) {\r\n      return this.permissions.filter((o) => o.codename.includes(model));\r\n    },\r\n    getItemTemplate() {\r\n      let item = {\r\n        name: \"\",\r\n        permissions: {},\r\n        localPerms: {},\r\n        localOwnPerms: {},\r\n      };\r\n\r\n      for (const model of this.models) {\r\n        item.localPerms[model.name] = [];\r\n        item.localOwnPerms[model.name] = [];\r\n      }\r\n\r\n      return item;\r\n    },\r\n    clearForm() {\r\n      this.item = this.copy(this.getItemTemplate());\r\n      this.item.permissions = this.getPermissionsTemplate();\r\n      this.isEditing = true;\r\n    },\r\n    getPermissionsTemplate() {\r\n      let permissions = {};\r\n      for (const permission of this.rawPermissions) {\r\n        permissions[permission.id] = false;\r\n      }\r\n      return permissions;\r\n    },\r\n    setItem(item) {\r\n      this.item = {\r\n        ...this.getItemTemplate(),\r\n        ...item,\r\n      };\r\n\r\n      let permissions = {};\r\n      for (const permission of this.rawPermissions) {\r\n        permissions[permission.id] = false;\r\n      }\r\n      for (const permissionId of item.permissions) {\r\n        permissions[permissionId] = true;\r\n      }\r\n      this.item.permissions = permissions;\r\n\r\n      for (const model of this.models) {\r\n        for (let i = 0; i < this.operations.length; i++) {\r\n          let codename = `${this.operations[i]}.${model.name}`;\r\n          let ownCodename = `${this.operations[i]}Own.${model.name}`;\r\n\r\n          let permission = this.getPermissionByCodename(codename);\r\n          let ownPermission = this.getPermissionByCodename(ownCodename);\r\n\r\n          if (permission && this.item.permissions[permission.id]) {\r\n            this.item.localPerms[model.name].push(i);\r\n          }\r\n\r\n          if (ownPermission && this.item.permissions[ownPermission.id]) {\r\n            this.item.localOwnPerms[model.name].push(i);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    isCheckedPermission(permission) {\r\n      return this.item.permissions.filter((id) => id == permission.id).length;\r\n    },\r\n    getData() {\r\n      this.getRoles(this.setRoles);\r\n      this.getPermissions();\r\n    },\r\n    setRoles(data) {\r\n      this.items = data;\r\n    },\r\n    getPermissions() {\r\n      this.request({\r\n        url: this.endpoint(`users/permissions/list`),\r\n        method: \"get\",\r\n        success: (data) => {\r\n          this.rawPermissions = data;\r\n          for (let permission of this.rawPermissions) {\r\n            this.getItemTemplate().permissions[permission.id] = false;\r\n          }\r\n          this.clearForm();\r\n        },\r\n      });\r\n    },\r\n    setAll({ model = null, value, justOwn = false }) {\r\n      for (let permission of this.rawPermissions) {\r\n        if (\r\n          !model ||\r\n          model.toLowerCase().includes(permission.contentType.model)\r\n        ) {\r\n          if (justOwn && !permission.codename.includes(\"Own\")) {\r\n            continue;\r\n          }\r\n          this.item.permissions[permission.id] = value;\r\n        }\r\n      }\r\n\r\n      if (model) {\r\n        if (value) {\r\n          if (justOwn) {\r\n            this.item.localOwnPerms[model] = [0, 1, 2, 3, 4, 5];\r\n          } else {\r\n            this.item.localPerms[model] = [0, 1, 2, 3, 4, 5];\r\n          }\r\n        } else {\r\n          this.item.localPerms[model] = [];\r\n          this.item.localOwnPerms[model] = [];\r\n        }\r\n      } else {\r\n        Object.keys(this.item.localPerms).forEach((key) => {\r\n          if (value) {\r\n            this.item.localPerms[key] = [0, 1, 2, 3, 4, 5];\r\n          } else {\r\n            this.item.localPerms[key] = [];\r\n          }\r\n          this.item.localOwnPerms[key] = [];\r\n        });\r\n      }\r\n    },\r\n    getSerialized() {\r\n      let item = this.item;\r\n      let permissions = [];\r\n      Object.keys(item.permissions).forEach((permissionId) => {\r\n        if (item.permissions[permissionId]) permissions.push(permissionId);\r\n      });\r\n      item.permissions = permissions;\r\n      return item;\r\n    },\r\n  },\r\n  filters: {},\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","// Extensions\nimport { BaseItemGroup } from '../../components/VItemGroup/VItemGroup'\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'button-group',\n\n  provide (): object {\n    return {\n      btnToggle: this,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return BaseItemGroup.options.computed.classes.call(this)\n    },\n  },\n\n  methods: {\n    // Isn't being passed down through types\n    genData: BaseItemGroup.options.methods.genData,\n  },\n})\n","// Styles\nimport './VBtnToggle.sass'\n\n// Mixins\nimport ButtonGroup from '../../mixins/button-group'\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  ButtonGroup,\n  Colorable\n).extend({\n  name: 'v-btn-toggle',\n\n  props: {\n    backgroundColor: String,\n    borderless: Boolean,\n    dense: Boolean,\n    group: Boolean,\n    rounded: Boolean,\n    shaped: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...ButtonGroup.options.computed.classes.call(this),\n        'v-btn-toggle': true,\n        'v-btn-toggle--borderless': this.borderless,\n        'v-btn-toggle--dense': this.dense,\n        'v-btn-toggle--group': this.group,\n        'v-btn-toggle--rounded': this.rounded,\n        'v-btn-toggle--shaped': this.shaped,\n        'v-btn-toggle--tile': this.tile,\n        ...this.themeClasses,\n      }\n    },\n  },\n\n  methods: {\n    genData () {\n      const data = this.setTextColor(this.color, {\n        ...ButtonGroup.options.methods.genData.call(this),\n      })\n\n      if (this.group) return data\n\n      return this.setBackgroundColor(this.backgroundColor, data)\n    },\n  },\n})\n","// Components\nimport VExpansionPanels from './VExpansionPanels'\nimport VExpansionPanelHeader from './VExpansionPanelHeader'\nimport VExpansionPanelContent from './VExpansionPanelContent'\n\n// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\ntype VExpansionPanelHeaderInstance = InstanceType<typeof VExpansionPanelHeader>\ntype VExpansionPanelContentInstance = InstanceType<typeof VExpansionPanelContent>\n\nexport default mixins(\n  GroupableFactory<'expansionPanels', typeof VExpansionPanels>('expansionPanels', 'v-expansion-panel', 'v-expansion-panels'),\n  RegistrableProvide('expansionPanel', true)\n  /* @vue/component */\n).extend({\n  name: 'v-expansion-panel',\n\n  props: {\n    disabled: Boolean,\n    readonly: Boolean,\n  },\n\n  data () {\n    return {\n      content: null as VExpansionPanelContentInstance | null,\n      header: null as VExpansionPanelHeaderInstance | null,\n      nextIsActive: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel--active': this.isActive,\n        'v-expansion-panel--next-active': this.nextIsActive,\n        'v-expansion-panel--disabled': this.isDisabled,\n        ...this.groupClasses,\n      }\n    },\n    isDisabled (): boolean {\n      return this.expansionPanels.disabled || this.disabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanels.readonly || this.readonly\n    },\n  },\n\n  methods: {\n    registerContent (vm: VExpansionPanelContentInstance) {\n      this.content = vm\n    },\n    unregisterContent () {\n      this.content = null\n    },\n    registerHeader (vm: VExpansionPanelHeaderInstance) {\n      this.header = vm\n      vm.$on('click', this.onClick)\n    },\n    unregisterHeader () {\n      this.header = null\n    },\n    onClick (e: MouseEvent) {\n      if (e.detail) this.header!.$el.blur()\n\n      this.$emit('click', e)\n\n      this.isReadonly || this.isDisabled || this.toggle()\n    },\n    toggle () {\n      /* istanbul ignore else */\n      if (this.content) this.content.isBooted = true\n      this.$nextTick(() => this.$emit('change'))\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-expansion-panel',\n      class: this.classes,\n      attrs: {\n        'aria-expanded': String(this.isActive),\n      },\n    }, getSlot(this))\n  },\n})\n","// Components\nimport VExpansionPanel from './VExpansionPanel'\nimport { VExpandTransition } from '../transitions'\n\n// Mixins\nimport Bootable from '../../mixins/bootable'\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Bootable,\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-content', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-content',\n\n  computed: {\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerContent(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterContent()\n  },\n\n  render (h): VNode {\n    return h(VExpandTransition, this.showLazyContent(() => [\n      h('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-expansion-panel-content',\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n      }), [\n        h('div', { class: 'v-expansion-panel-content__wrap' }, getSlot(this)),\n      ]),\n    ]))\n  },\n})\n","// Components\nimport { VFadeTransition } from '../transitions'\nimport VExpansionPanel from './VExpansionPanel'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-header', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-header',\n\n  directives: { ripple },\n\n  props: {\n    disableIconRotate: Boolean,\n    expandIcon: {\n      type: String,\n      default: '$expand',\n    },\n    hideActions: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: false,\n    },\n  },\n\n  data: () => ({\n    hasMousedown: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel-header--active': this.isActive,\n        'v-expansion-panel-header--mousedown': this.hasMousedown,\n      }\n    },\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n    isDisabled (): boolean {\n      return this.expansionPanel.isDisabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanel.isReadonly\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerHeader(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterHeader()\n  },\n\n  methods: {\n    onClick (e: MouseEvent) {\n      this.$emit('click', e)\n    },\n    genIcon () {\n      const icon = getSlot(this, 'actions') ||\n        [this.$createElement(VIcon, this.expandIcon)]\n\n      return this.$createElement(VFadeTransition, [\n        this.$createElement('div', {\n          staticClass: 'v-expansion-panel-header__icon',\n          class: {\n            'v-expansion-panel-header__icon--disable-rotate': this.disableIconRotate,\n          },\n          directives: [{\n            name: 'show',\n            value: !this.isDisabled,\n          }],\n        }, icon),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('button', this.setBackgroundColor(this.color, {\n      staticClass: 'v-expansion-panel-header',\n      class: this.classes,\n      attrs: {\n        tabindex: this.isDisabled ? -1 : null,\n        type: 'button',\n      },\n      directives: [{\n        name: 'ripple',\n        value: this.ripple,\n      }],\n      on: {\n        ...this.$listeners,\n        click: this.onClick,\n        mousedown: () => (this.hasMousedown = true),\n        mouseup: () => (this.hasMousedown = false),\n      },\n    }), [\n      getSlot(this, 'default', { open: this.isActive }, true),\n      this.hideActions || this.genIcon(),\n    ])\n  },\n})\n","// Styles\nimport './VExpansionPanel.sass'\n\n// Components\nimport { BaseItemGroup, GroupableInstance } from '../VItemGroup/VItemGroup'\nimport VExpansionPanel from './VExpansionPanel'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\ninterface VExpansionPanelInstance extends InstanceType<typeof VExpansionPanel> {}\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'v-expansion-panels',\n\n  provide (): object {\n    return {\n      expansionPanels: this,\n    }\n  },\n\n  props: {\n    accordion: Boolean,\n    disabled: Boolean,\n    flat: Boolean,\n    hover: Boolean,\n    focusable: Boolean,\n    inset: Boolean,\n    popout: Boolean,\n    readonly: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-expansion-panels': true,\n        'v-expansion-panels--accordion': this.accordion,\n        'v-expansion-panels--flat': this.flat,\n        'v-expansion-panels--hover': this.hover,\n        'v-expansion-panels--focusable': this.focusable,\n        'v-expansion-panels--inset': this.inset,\n        'v-expansion-panels--popout': this.popout,\n        'v-expansion-panels--tile': this.tile,\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('expand')) {\n      breaking('expand', 'multiple', this)\n    }\n\n    /* istanbul ignore next */\n    if (\n      Array.isArray(this.value) &&\n      this.value.length > 0 &&\n      typeof this.value[0] === 'boolean'\n    ) {\n      breaking(':value=\"[true, false, true]\"', ':value=\"[0, 2]\"', this)\n    }\n  },\n\n  methods: {\n    updateItem (item: GroupableInstance & VExpansionPanelInstance, index: number) {\n      const value = this.getValue(item, index)\n      const nextValue = this.getValue(item, index + 1)\n\n      item.isActive = this.toggleMethod(value)\n      item.nextIsActive = this.toggleMethod(nextValue)\n    },\n  },\n})\n","import './VTooltip.sass'\n\n// Mixins\nimport Activatable from '../../mixins/activatable'\nimport Colorable from '../../mixins/colorable'\nimport Delayable from '../../mixins/delayable'\nimport Dependent from '../../mixins/dependent'\nimport Detachable from '../../mixins/detachable'\nimport Menuable from '../../mixins/menuable'\nimport Toggleable from '../../mixins/toggleable'\n\n// Helpers\nimport { convertToUnit, keyCodes, getSlotType } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Colorable, Delayable, Dependent, Detachable, Menuable, Toggleable).extend({\n  name: 'v-tooltip',\n\n  props: {\n    closeDelay: {\n      type: [Number, String],\n      default: 0,\n    },\n    disabled: Boolean,\n    fixed: {\n      type: Boolean,\n      default: true,\n    },\n    openDelay: {\n      type: [Number, String],\n      default: 0,\n    },\n    openOnHover: {\n      type: Boolean,\n      default: true,\n    },\n    tag: {\n      type: String,\n      default: 'span',\n    },\n    transition: String,\n  },\n\n  data: () => ({\n    calculatedMinWidth: 0,\n    closeDependents: false,\n  }),\n\n  computed: {\n    calculatedLeft (): string {\n      const { activator, content } = this.dimensions\n      const unknown = !this.bottom && !this.left && !this.top && !this.right\n      const activatorLeft = this.attach !== false ? activator.offsetLeft : activator.left\n      let left = 0\n\n      if (this.top || this.bottom || unknown) {\n        left = (\n          activatorLeft +\n          (activator.width / 2) -\n          (content.width / 2)\n        )\n      } else if (this.left || this.right) {\n        left = (\n          activatorLeft +\n          (this.right ? activator.width : -content.width) +\n          (this.right ? 10 : -10)\n        )\n      }\n\n      if (this.nudgeLeft) left -= parseInt(this.nudgeLeft)\n      if (this.nudgeRight) left += parseInt(this.nudgeRight)\n\n      return `${this.calcXOverflow(left, this.dimensions.content.width)}px`\n    },\n    calculatedTop (): string {\n      const { activator, content } = this.dimensions\n      const activatorTop = this.attach !== false ? activator.offsetTop : activator.top\n      let top = 0\n\n      if (this.top || this.bottom) {\n        top = (\n          activatorTop +\n          (this.bottom ? activator.height : -content.height) +\n          (this.bottom ? 10 : -10)\n        )\n      } else if (this.left || this.right) {\n        top = (\n          activatorTop +\n          (activator.height / 2) -\n          (content.height / 2)\n        )\n      }\n\n      if (this.nudgeTop) top -= parseInt(this.nudgeTop)\n      if (this.nudgeBottom) top += parseInt(this.nudgeBottom)\n\n      return `${this.calcYOverflow(top + this.pageYOffset)}px`\n    },\n    classes (): object {\n      return {\n        'v-tooltip--top': this.top,\n        'v-tooltip--right': this.right,\n        'v-tooltip--bottom': this.bottom,\n        'v-tooltip--left': this.left,\n        'v-tooltip--attached':\n          this.attach === '' ||\n          this.attach === true ||\n          this.attach === 'attach',\n      }\n    },\n    computedTransition (): string {\n      if (this.transition) return this.transition\n\n      return this.isActive ? 'scale-transition' : 'fade-transition'\n    },\n    offsetY (): boolean {\n      return this.top || this.bottom\n    },\n    offsetX (): boolean {\n      return this.left || this.right\n    },\n    styles (): object {\n      return {\n        left: this.calculatedLeft,\n        maxWidth: convertToUnit(this.maxWidth),\n        minWidth: convertToUnit(this.minWidth),\n        opacity: this.isActive ? 0.9 : 0,\n        top: this.calculatedTop,\n        zIndex: this.zIndex || this.activeZIndex,\n      }\n    },\n  },\n\n  beforeMount () {\n    this.$nextTick(() => {\n      this.value && this.callActivate()\n    })\n  },\n\n  mounted () {\n    if (getSlotType(this, 'activator', true) === 'v-slot') {\n      consoleError(`v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'`, this)\n    }\n  },\n\n  methods: {\n    activate () {\n      // Update coordinates and dimensions of menu\n      // and its activator\n      this.updateDimensions()\n      // Start the transition\n      requestAnimationFrame(this.startTransition)\n    },\n    deactivate () {\n      this.runDelay('close')\n    },\n    genActivatorListeners () {\n      const listeners = Activatable.options.methods.genActivatorListeners.call(this)\n\n      listeners.focus = (e: Event) => {\n        this.getActivator(e)\n        this.runDelay('open')\n      }\n      listeners.blur = (e: Event) => {\n        this.getActivator(e)\n        this.runDelay('close')\n      }\n      listeners.keydown = (e: KeyboardEvent) => {\n        if (e.keyCode === keyCodes.esc) {\n          this.getActivator(e)\n          this.runDelay('close')\n        }\n      }\n\n      return listeners\n    },\n    genTransition () {\n      const content = this.genContent()\n\n      if (!this.computedTransition) return content\n\n      return this.$createElement('transition', {\n        props: {\n          name: this.computedTransition,\n        },\n      }, [content])\n    },\n    genContent () {\n      return this.$createElement(\n        'div',\n        this.setBackgroundColor(this.color, {\n          staticClass: 'v-tooltip__content',\n          class: {\n            [this.contentClass]: true,\n            menuable__content__active: this.isActive,\n            'v-tooltip__content--fixed': this.activatorFixed,\n          },\n          style: this.styles,\n          attrs: this.getScopeIdAttrs(),\n          directives: [{\n            name: 'show',\n            value: this.isContentActive,\n          }],\n          ref: 'content',\n        }),\n        this.getContentSlot()\n      )\n    },\n  },\n\n  render (h): VNode {\n    return h(this.tag, {\n      staticClass: 'v-tooltip',\n      class: this.classes,\n    }, [\n      this.showLazyContent(() => [this.genTransition()]),\n      this.genActivator(),\n    ])\n  },\n})\n","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=51f9afa6&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VBtnToggle,VCol,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRow,VSpacer,VSubheader,VSwitch,VTextField,VTooltip})\n","// Directives\nimport ripple from '../../directives/ripple'\n\n// Types\nimport Vue, { VNode, VNodeData, VNodeDirective } from 'vue'\n\nexport default Vue.extend({\n  name: 'rippleable',\n\n  directives: { ripple },\n\n  props: {\n    ripple: {\n      type: [Boolean, Object],\n      default: true,\n    },\n  },\n\n  methods: {\n    genRipple (data: VNodeData = {}): VNode | null {\n      if (!this.ripple) return null\n\n      data.staticClass = 'v-input--selection-controls__ripple'\n\n      data.directives = data.directives || []\n      data.directives.push({\n        name: 'ripple',\n        value: { center: true },\n      } as VNodeDirective)\n\n      return this.$createElement('div', data)\n    },\n  },\n})\n","export default {\r\n  methods: {\r\n    getRoles(setRoles) {\r\n      this.request({\r\n        url: this.endpoint(`users/roles/list`),\r\n        method: \"get\",\r\n        success: data => {\r\n          setRoles(data);\r\n        }\r\n      })\r\n    },\r\n  },\r\n}","// Styles\nimport '../../styles/components/_selection-controls.sass'\nimport './VSwitch.sass'\n\n// Mixins\nimport Selectable from '../../mixins/selectable'\nimport VInput from '../VInput'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Components\nimport { VFabTransition } from '../transitions'\nimport VProgressCircular from '../VProgressCircular/VProgressCircular'\n\n// Helpers\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\n/* @vue/component */\nexport default Selectable.extend({\n  name: 'v-switch',\n\n  directives: { Touch },\n\n  props: {\n    inset: Boolean,\n    loading: {\n      type: [Boolean, String],\n      default: false,\n    },\n    flat: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        'v-input--selection-controls v-input--switch': true,\n        'v-input--switch--flat': this.flat,\n        'v-input--switch--inset': this.inset,\n      }\n    },\n    attrs (): object {\n      return {\n        'aria-checked': String(this.isActive),\n        'aria-disabled': String(this.isDisabled),\n        role: 'switch',\n      }\n    },\n    // Do not return undefined if disabled,\n    // according to spec, should still show\n    // a color when disabled and active\n    validationState (): string | undefined {\n      if (this.hasError && this.shouldValidate) return 'error'\n      if (this.hasSuccess) return 'success'\n      if (this.hasColor !== null) return this.computedColor\n      return undefined\n    },\n    switchData (): VNodeData {\n      return this.setTextColor(this.loading ? undefined : this.validationState, {\n        class: this.themeClasses,\n      })\n    },\n  },\n\n  methods: {\n    genDefaultSlot (): (VNode | null)[] {\n      return [\n        this.genSwitch(),\n        this.genLabel(),\n      ]\n    },\n    genSwitch (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-input--selection-controls__input',\n      }, [\n        this.genInput('checkbox', {\n          ...this.attrs,\n          ...this.attrs$,\n        }),\n        this.genRipple(this.setTextColor(this.validationState, {\n          directives: [{\n            name: 'touch',\n            value: {\n              left: this.onSwipeLeft,\n              right: this.onSwipeRight,\n            },\n          }],\n        })),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__track',\n          ...this.switchData,\n        }),\n        this.$createElement('div', {\n          staticClass: 'v-input--switch__thumb',\n          ...this.switchData,\n        }, [this.genProgress()]),\n      ])\n    },\n    genProgress (): VNode {\n      return this.$createElement(VFabTransition, {}, [\n        this.loading === false\n          ? null\n          : this.$slots.progress || this.$createElement(VProgressCircular, {\n            props: {\n              color: (this.loading === true || this.loading === '')\n                ? (this.color || 'primary')\n                : this.loading,\n              size: 16,\n              width: 2,\n              indeterminate: true,\n            },\n          }),\n      ])\n    },\n    onSwipeLeft () {\n      if (this.isActive) this.onChange()\n    },\n    onSwipeRight () {\n      if (!this.isActive) this.onChange()\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (\n        (e.keyCode === keyCodes.left && this.isActive) ||\n        (e.keyCode === keyCodes.right && !this.isActive)\n      ) this.onChange()\n    },\n  },\n})\n","// Components\nimport VInput from '../../components/VInput'\n\n// Mixins\nimport Rippleable from '../rippleable'\nimport Comparable from '../comparable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\nexport function prevent (e: Event) {\n  e.preventDefault()\n}\n\n/* @vue/component */\nexport default mixins(\n  VInput,\n  Rippleable,\n  Comparable\n).extend({\n  name: 'selectable',\n\n  model: {\n    prop: 'inputValue',\n    event: 'change',\n  },\n\n  props: {\n    id: String,\n    inputValue: null as any,\n    falseValue: null as any,\n    trueValue: null as any,\n    multiple: {\n      type: Boolean,\n      default: null,\n    },\n    label: String,\n  },\n\n  data () {\n    return {\n      hasColor: this.inputValue,\n      lazyValue: this.inputValue,\n    }\n  },\n\n  computed: {\n    computedColor (): string | undefined {\n      if (!this.isActive) return undefined\n      if (this.color) return this.color\n      if (this.isDark && !this.appIsDark) return 'white'\n      return 'primary'\n    },\n    isMultiple (): boolean {\n      return this.multiple === true || (this.multiple === null && Array.isArray(this.internalValue))\n    },\n    isActive (): boolean {\n      const value = this.value\n      const input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) return false\n\n        return input.some(item => this.valueComparator(item, value))\n      }\n\n      if (this.trueValue === undefined || this.falseValue === undefined) {\n        return value\n          ? this.valueComparator(value, input)\n          : Boolean(input)\n      }\n\n      return this.valueComparator(input, this.trueValue)\n    },\n    isDirty (): boolean {\n      return this.isActive\n    },\n    rippleState (): string | undefined {\n      return !this.isDisabled && !this.validationState\n        ? undefined\n        : this.validationState\n    },\n  },\n\n  watch: {\n    inputValue (val) {\n      this.lazyValue = val\n      this.hasColor = val\n    },\n  },\n\n  methods: {\n    genLabel () {\n      const label = VInput.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label!.data!.on = {\n        // Label shouldn't cause the input to focus\n        click: prevent,\n      }\n\n      return label\n    },\n    genInput (type: string, attrs: object) {\n      return this.$createElement('input', {\n        attrs: Object.assign({\n          'aria-checked': this.isActive.toString(),\n          disabled: this.isDisabled,\n          id: this.computedId,\n          role: type,\n          type,\n        }, attrs),\n        domProps: {\n          value: this.value,\n          checked: this.isActive,\n        },\n        on: {\n          blur: this.onBlur,\n          change: this.onChange,\n          focus: this.onFocus,\n          keydown: this.onKeydown,\n          click: prevent,\n        },\n        ref: 'input',\n      })\n    },\n    onBlur () {\n      this.isFocused = false\n    },\n    onClick (e: Event) {\n      this.onChange()\n      this.$emit('click', e)\n    },\n    onChange () {\n      if (!this.isInteractive) return\n\n      const value = this.value\n      let input = this.internalValue\n\n      if (this.isMultiple) {\n        if (!Array.isArray(input)) {\n          input = []\n        }\n\n        const length = input.length\n\n        input = input.filter((item: any) => !this.valueComparator(item, value))\n\n        if (input.length === length) {\n          input.push(value)\n        }\n      } else if (this.trueValue !== undefined && this.falseValue !== undefined) {\n        input = this.valueComparator(input, this.trueValue) ? this.falseValue : this.trueValue\n      } else if (value) {\n        input = this.valueComparator(input, value) ? null : value\n      } else {\n        input = !input\n      }\n\n      this.validate(true, input)\n      this.internalValue = input\n      this.hasColor = input\n    },\n    onFocus () {\n      this.isFocused = true\n    },\n    /** @abstract */\n    onKeydown (e: Event) {},\n  },\n})\n"],"sourceRoot":""}