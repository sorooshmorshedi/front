(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-145f20ee"],{"4f0c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",{staticClass:"white--text red darken-2"},[t._v("هزینه")]),a("v-card-text",{staticClass:"pt-4"},[a("accounts-remain-chart",{attrs:{label:"هزینه",codeStartsWith:"8",legendPossition:"left",value:"bed_remain"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",{staticClass:"white--text green"},[t._v("درآمد")]),a("v-card-text",{staticClass:"pt-4"},[a("accounts-remain-chart",{attrs:{label:"درآمد",codeStartsWith:"6",legendPossition:"right",value:"bes_remain"}})],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("recent-cheques-widget",{attrs:{type:"p"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("recent-cheques-widget",{attrs:{type:"r"}})],1)],1)],1)},s=[],n=a("cbde");a("99af"),a("4de4"),a("d81d"),a("b0c0");function i(t,e){if(e){var a=this.$data._chart,r=t.datasets.map((function(t){return t.label})),s=e.datasets.map((function(t){return t.label})),n=JSON.stringify(s),i=JSON.stringify(r);i===n&&e.datasets.length===t.datasets.length?(t.datasets.forEach((function(t,r){var s=Object.keys(e.datasets[r]),n=Object.keys(t),i=s.filter((function(t){return"_meta"!==t&&-1===n.indexOf(t)}));for(var c in i.forEach((function(t){delete a.data.datasets[r][t]})),t)t.hasOwnProperty(c)&&(a.data.datasets[r][c]=t[c])})),t.hasOwnProperty("labels")&&(a.data.labels=t.labels,this.$emit("labels:update")),t.hasOwnProperty("xLabels")&&(a.data.xLabels=t.xLabels,this.$emit("xlabels:update")),t.hasOwnProperty("yLabels")&&(a.data.yLabels=t.yLabels,this.$emit("ylabels:update")),a.update(),this.$emit("chart:update")):(a&&(a.destroy(),this.$emit("chart:destroy")),this.renderChart(this.chartData,this.options),this.$emit("chart:render"))}else this.$data._chart&&(this.$data._chart.destroy(),this.$emit("chart:destroy")),this.renderChart(this.chartData,this.options),this.$emit("chart:render")}var c={data:function(){return{chartData:null}},watch:{chartData:i}},o={props:{chartData:{type:Object,required:!0,default:function(){}}},watch:{chartData:i}},l={reactiveData:c,reactiveProp:o},u=a("30ef"),d=a.n(u);function h(t,e){return{render:function(t){return t("div",{style:this.styles,class:this.cssClasses},[t("canvas",{attrs:{id:this.chartId,width:this.width,height:this.height},ref:"canvas"})])},props:{chartId:{default:t,type:String},width:{default:400,type:Number},height:{default:400,type:Number},cssClasses:{type:String,default:""},styles:{type:Object},plugins:{type:Array,default:function(){return[]}}},data:function(){return{_chart:null,_plugins:this.plugins}},methods:{addPlugin:function(t){this.$data._plugins.push(t)},generateLegend:function(){if(this.$data._chart)return this.$data._chart.generateLegend()},renderChart:function(t,a){if(this.$data._chart&&this.$data._chart.destroy(),!this.$refs.canvas)throw new Error("Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components");this.$data._chart=new d.a(this.$refs.canvas.getContext("2d"),{type:e,data:t,options:a,plugins:this.$data._plugins})}},beforeDestroy:function(){this.$data._chart&&this.$data._chart.destroy()}}}h("bar-chart","bar"),h("horizontalbar-chart","horizontalBar");var p,f,m=h("doughnut-chart","doughnut"),b=(h("line-chart","line"),h("pie-chart","pie"),h("polar-chart","polarArea"),h("radar-chart","radar"),h("bubble-chart","bubble"),h("scatter-chart","scatter"),l.reactiveProp,{extends:m,props:{label:{},codeStartsWith:{},legendPossition:{},value:{},height:{default:null},width:{default:null}},data:function(){return{colors:["rgb(54, 162, 235)","rgb(75, 192, 192)","rgb(255, 159, 64)","rgb(153, 102, 255)","rgb(255, 99, 132)","rgb(255, 205, 86)"]}},computed:{labels:function(){return this.data.map((function(t){return t.name}))},dataset:function(){var t=this;return this.data.map((function(e){return e[t.value]||Math.floor(Math.random()*Math.pow(10,9))}))},backgroundColor:function(){var t=this;return this.data.map((function(e,a){return t.colors[a%t.colors.length]}))},chartData:function(){return{labels:this.labels,datasets:[{label:this.label,backgroundColor:this.backgroundColor,data:this.dataset}]}},chartOptions:function(){var t=this;return{title:{text:this.label},tooltips:{callbacks:{label:function(e,a){var r=e.index,s=a.labels[r],n=a.datasets[0].data[r];return"".concat(s," ").concat(t.toMoney(n))}}},legend:{position:this.legendPossition,rtl:!0}}}},mounted:function(){var t=this;this.request({url:this.endpoint("reports/balance"),method:"get",params:{account_code_starts_with:this.codeStartsWith},success:function(e){t.data=e.filter((function(t){return 1==t.level})),t.renderChart(t.chartData,t.chartOptions)}})}}),v=b,g=a("2877"),y=Object(g["a"])(v,p,f,!1,null,null,null),_=y.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(" "+t._s(t.title)+" "),a("v-spacer"),a("v-btn",{attrs:{color:"blue white--text",to:t.listRoute}},[t._v("مشاهده همه")])],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.items,"disable-pagination":!0,"hide-default-footer":!0},scopedSlots:t._u([{key:"item.value",fn:function(e){var a=e.item;return[t._v(t._s(t._f("toMoney")(a.value)))]}}])})],1)],1)},w=[],x={props:{type:{required:!0}},data:function(){return{items:[],headers:[{text:"شماره",value:"serial"},{text:"شرح",value:"explanation"},{text:"تاریخ",value:"date"},{text:"تاریخ سررسید",value:"due"},{text:"مبلغ",value:"value"},{text:"نام حساب",value:"account.name"}]}},computed:{title:function(){return"p"==this.type?"چک های پرداختنی در هفت روز آینده":"چک های دریافتنی در هفت روز آینده"},limit:function(){return this.now.add("day",1).format("jYYYY-jMM-jDD")},listRoute:function(){return{name:"List",params:{form:"cheque",type:"p"==this.type?"paid":"received"},query:{status__in:"notPassed",due__lte:this.limit}}}},mounted:function(){var t=this;this.request({url:this.endpoint("reports/lists/cheques"),method:"get",params:{limit:7,offset:0,status:"notPassed",received_or_paid:this.type,due__lte:this.limit},success:function(e){t.items=e.results}})}},C=x,O=a("6544"),P=a.n(O),D=a("8336"),q=a("b0af"),j=a("99d9"),k=a("8fea"),S=a("2fa4"),V=Object(g["a"])(C,$,w,!1,null,null,null),L=V.exports;P()(V,{VBtn:D["a"],VCard:q["a"],VCardText:j["b"],VCardTitle:j["c"],VDataTable:k["a"],VSpacer:S["a"]});var M={name:"Panel",mixins:[n["a"]],components:{AccountsRemainChart:_,RecentChequesWidget:L},data:function(){return{}},created:function(){this.getUser()},methods:{closeAccounts:function(){var t=this;this.request({url:this.endpoint("companies/closeAccounts"),method:"post",success:function(e){t.successNotify()}})}}},Y=M,A=a("62ad"),E=a("0fd9"),N=Object(g["a"])(Y,r,s,!1,null,"1a683612",null);e["default"]=N.exports;P()(N,{VCard:q["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:A["a"],VRow:E["a"]})},cbde:function(t,e,a){"use strict";a("caad"),a("b0c0");e["a"]={methods:{getUser:function(){var t=this;this.request({url:this.endpoint("users/currentUser/"),method:"get",success:function(e){t.$store.commit("setUser",e),t.company?t.financialYear||!t.$route||["FinancialYears"].includes(t.$route.name)||t.$router.push({name:"FinancialYears"}):t.$route&&!["Companies"].includes(t.$route.name)&&t.$router.push({name:"Companies"})}})}}}}}]);
//# sourceMappingURL=chunk-145f20ee.ab685826.js.map